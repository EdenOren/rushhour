import{$ as U,$a as sa,A as Ps,Aa as Vi,B as Qr,Ba as Hl,C as Tl,Ca as G,Da as Ce,E as Ml,Ea as hi,G as zl,Hb as ec,Ia as Ds,Ja as he,Ka as de,La as ta,M as Jr,Ma as Is,N as Bi,Na as St,O as ot,Oa as Rt,P as Ll,Pa as ue,Qa as D,R as F,Ra as E,S as ri,Sa as J,Ta as ia,U as Ke,Ua as Le,V as ai,Va as ye,W as C,Wa as P,Xa as Es,Y as li,Ya as Os,Za as Ts,_ as X,_a as Je,a as T,aa as Fl,ab as Fe,b as be,ba as $l,bb as Wl,c as Rl,ca as Qe,cb as di,d as p,da as Te,db as Gl,e as st,eb as Ms,fb as zs,g as Ai,ga as We,gb as oa,ia as Vt,j as I,ja as ea,k as Rs,ka as Pe,kb as Hi,l as Zr,la as Al,lb as Wi,ma as ks,mb as jl,n as Pl,na as Bl,nb as Ls,o as kl,oa as Nl,ob as Yl,pa as M,pb as Xl,qa as nt,qb as Ul,ra as Ct,rb as ql,s as Dl,sa as oe,sb as Zl,ta as Ni,tb as Kl,u as Il,ub as Ql,va as Vl,x as El,xb as Jl,y as Ol,ya as q,z as Kr,za as ci}from"./chunk-VLD6R4XK.js";var sc=["*"];function If(s,e){if(s&1&&J(0,"div",0),s&2){let t=e.$index,i=P();ue("ngStyle",i.gridRenderer.getGridColumnStyle(t))}}function Ef(s,e){if(s&1&&J(0,"div",1),s&2){let t=e.$index,i=P();ue("ngStyle",i.gridRenderer.getGridRowStyle(t))}}function Of(s,e){if(s&1){let t=Le();D(0,"div",8),ye("mousedown",function(o){X(t);let n=P();return U(n.resize.dragStartDelay(o))})("touchstart",function(o){X(t);let n=P();return U(n.resize.dragStartDelay(o))}),E()}}function Tf(s,e){if(s&1){let t=Le();D(0,"div",9),ye("mousedown",function(o){X(t);let n=P();return U(n.resize.dragStartDelay(o))})("touchstart",function(o){X(t);let n=P();return U(n.resize.dragStartDelay(o))}),E()}}function Mf(s,e){if(s&1){let t=Le();D(0,"div",10),ye("mousedown",function(o){X(t);let n=P();return U(n.resize.dragStartDelay(o))})("touchstart",function(o){X(t);let n=P();return U(n.resize.dragStartDelay(o))}),E()}}function zf(s,e){if(s&1){let t=Le();D(0,"div",11),ye("mousedown",function(o){X(t);let n=P();return U(n.resize.dragStartDelay(o))})("touchstart",function(o){X(t);let n=P();return U(n.resize.dragStartDelay(o))}),E()}}function Lf(s,e){if(s&1){let t=Le();D(0,"div",12),ye("mousedown",function(o){X(t);let n=P();return U(n.resize.dragStartDelay(o))})("touchstart",function(o){X(t);let n=P();return U(n.resize.dragStartDelay(o))}),E()}}function Ff(s,e){if(s&1){let t=Le();D(0,"div",13),ye("mousedown",function(o){X(t);let n=P();return U(n.resize.dragStartDelay(o))})("touchstart",function(o){X(t);let n=P();return U(n.resize.dragStartDelay(o))}),E()}}function $f(s,e){if(s&1){let t=Le();D(0,"div",14),ye("mousedown",function(o){X(t);let n=P();return U(n.resize.dragStartDelay(o))})("touchstart",function(o){X(t);let n=P();return U(n.resize.dragStartDelay(o))}),E()}}function Af(s,e){if(s&1){let t=Le();D(0,"div",15),ye("mousedown",function(o){X(t);let n=P();return U(n.resize.dragStartDelay(o))})("touchstart",function(o){X(t);let n=P();return U(n.resize.dragStartDelay(o))}),E()}}var z=function(s){return s.Fit="fit",s.ScrollVertical="scrollVertical",s.ScrollHorizontal="scrollHorizontal",s.Fixed="fixed",s.VerticalFixed="verticalFixed",s.HorizontalFixed="horizontalFixed",s}(z||{}),oc=function(s){return s.Always="always",s.OnDragAndResize="onDrag&Resize",s.None="none",s}(oc||{}),N=function(s){return s.None="none",s.CompactUp="compactUp",s.CompactLeft="compactLeft",s.CompactUpAndLeft="compactUp&Left",s.CompactLeftAndUp="compactLeft&Up",s.CompactRight="compactRight",s.CompactUpAndRight="compactUp&Right",s.CompactRightAndUp="compactRight&Up",s.CompactDown="compactDown",s.CompactDownAndLeft="compactDown&Left",s.CompactLeftAndDown="compactLeft&Down",s.CompactDownAndRight="compactDown&Right",s.CompactRightAndDown="compactRight&Down",s}(N||{}),ve=function(s){return s.LTR="ltr",s.RTL="rtl",s}(ve||{}),na=class{gridster;constructor(e){this.gridster=e}destroy(){this.gridster=null}checkCompact(){this.gridster.$options.compactType!==N.None&&(this.gridster.$options.compactType===N.CompactUp?this.checkCompactMovement("y",-1):this.gridster.$options.compactType===N.CompactLeft?this.checkCompactMovement("x",-1):this.gridster.$options.compactType===N.CompactUpAndLeft?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===N.CompactLeftAndUp?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===N.CompactRight?this.checkCompactMovement("x",1):this.gridster.$options.compactType===N.CompactUpAndRight?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===N.CompactRightAndUp?(this.checkCompactMovement("x",1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===N.CompactDown?this.checkCompactMovement("y",1):this.gridster.$options.compactType===N.CompactDownAndLeft?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===N.CompactDownAndRight?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===N.CompactLeftAndDown?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",1)):this.gridster.$options.compactType===N.CompactRightAndDown&&(this.checkCompactMovement("x",1),this.checkCompactMovement("y",1)))}checkCompactItem(e){this.gridster.$options.compactType!==N.None&&(this.gridster.$options.compactType===N.CompactUp?this.moveTillCollision(e,"y",-1):this.gridster.$options.compactType===N.CompactLeft?this.moveTillCollision(e,"x",-1):this.gridster.$options.compactType===N.CompactUpAndLeft?(this.moveTillCollision(e,"y",-1),this.moveTillCollision(e,"x",-1)):this.gridster.$options.compactType===N.CompactLeftAndUp?(this.moveTillCollision(e,"x",-1),this.moveTillCollision(e,"y",-1)):this.gridster.$options.compactType===N.CompactUpAndRight?(this.moveTillCollision(e,"y",-1),this.moveTillCollision(e,"x",1)):this.gridster.$options.compactType===N.CompactDown?this.moveTillCollision(e,"y",1):this.gridster.$options.compactType===N.CompactDownAndLeft?(this.moveTillCollision(e,"y",1),this.moveTillCollision(e,"x",-1)):this.gridster.$options.compactType===N.CompactLeftAndDown?(this.moveTillCollision(e,"x",-1),this.moveTillCollision(e,"y",1)):this.gridster.$options.compactType===N.CompactDownAndRight?(this.moveTillCollision(e,"y",1),this.moveTillCollision(e,"x",1)):this.gridster.$options.compactType===N.CompactRightAndDown&&(this.moveTillCollision(e,"x",1),this.moveTillCollision(e,"y",1)))}checkCompactMovement(e,t){let i=!1;this.gridster.grid.forEach(o=>{o.$item.compactEnabled!==!1&&this.moveTillCollision(o.$item,e,t)&&(i=!0,o.item[e]=o.$item[e],o.itemChanged())}),i&&this.checkCompact()}moveTillCollision(e,t,i){return e[t]+=i,this.gridster.checkCollision(e)?(e[t]-=i,!1):(this.moveTillCollision(e,t,i),!0)}},Bf={gridType:z.Fit,scale:1,fixedColWidth:250,fixedRowHeight:250,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,setGridSize:!1,compactType:N.None,mobileBreakpoint:640,useBodyForBreakpoint:!1,allowMultiLayer:!1,defaultLayerIndex:0,maxLayerIndex:2,baseLayerIndex:1,minCols:1,maxCols:100,minRows:1,maxRows:100,defaultItemCols:1,defaultItemRows:1,maxItemCols:50,maxItemRows:50,minItemCols:1,minItemRows:1,minItemArea:1,maxItemArea:2500,addEmptyRowsCount:0,rowHeightRatio:1,margin:10,outerMargin:!0,outerMarginTop:null,outerMarginRight:null,outerMarginBottom:null,outerMarginLeft:null,useTransformPositioning:!0,scrollSensitivity:10,scrollSpeed:20,initCallback:void 0,destroyCallback:void 0,gridSizeChangedCallback:void 0,itemChangeCallback:void 0,itemResizeCallback:void 0,itemInitCallback:void 0,itemRemovedCallback:void 0,itemValidateCallback:void 0,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,enableOccupiedCellDrop:!1,emptyCellClickCallback:void 0,emptyCellContextMenuCallback:void 0,emptyCellDropCallback:void 0,emptyCellDragCallback:void 0,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{delayStart:0,enabled:!1,ignoreContentClass:"gridster-item-content",ignoreContent:!1,dragHandleClass:"drag-handler",stop:void 0,start:void 0,dropOverItems:!1,dropOverItemsCallback:void 0},resizable:{delayStart:0,enabled:!1,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0},stop:void 0,start:void 0},swap:!0,swapWhileDragging:!1,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:oc.OnDragAndResize,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1,disableScrollHorizontal:!1,disableScrollVertical:!1,enableBoundaryControl:!1,disableAutoPositionOnConflict:!1,dirType:ve.LTR},Se=class s{static merge(e,t,i){for(let o in t)t[o]!==void 0&&i.hasOwnProperty(o)&&(typeof t[o]=="object"?(o in e||(e[o]={}),e[o]=s.merge(e[o],t[o],i[o])):e[o]=t[o]);return e}static checkTouchEvent(e){e.clientX===void 0&&e.touches&&(e.touches&&e.touches.length?(e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY):e.changedTouches&&e.changedTouches.length&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY))}static checkContentClassForEvent(e,t){if(e.$options.draggable.ignoreContent){if(!s.checkDragHandleClass(t.target,t.currentTarget,e.$options.draggable.dragHandleClass,e.$options.draggable.ignoreContentClass))return!0}else if(s.checkContentClass(t.target,t.currentTarget,e.$options.draggable.ignoreContentClass))return!0;return!1}static checkContentClassForEmptyCellClickEvent(e,t){return s.checkContentClass(t.target,t.currentTarget,e.$options.draggable.ignoreContentClass)||s.checkContentClass(t.target,t.currentTarget,e.$options.draggable.dragHandleClass)}static checkDragHandleClass(e,t,i,o){if(!e||e===t)return!1;if(e.hasAttribute("class")){let n=e.getAttribute("class").split(" ");if(n.indexOf(i)>-1)return!0;if(n.indexOf(o)>-1)return!1}return s.checkDragHandleClass(e.parentNode,t,i,o)}static checkContentClass(e,t,i){return!e||e===t?!1:e.hasAttribute("class")&&e.getAttribute("class").split(" ").indexOf(i)>-1?!0:s.checkContentClass(e.parentNode,t,i)}static compareItems(e,t){return e.y>t.y?-1:e.y<t.y?1:e.x>t.x?-1:1}},ra=class{gridster;initialItem;removeEmptyCellClickListenerFn;removeEmptyCellTouchendListenerFn;removeEmptyCellContextMenuListenerFn;removeEmptyCellDropListenerFn;removeEmptyCellMousedownListenerFn;removeEmptyCellTouchstartListenerFn;removeWindowMousemoveListenerFn;removeWindowTouchmoveListenerFn;removeWindowMouseupListenerFn;removeWindowTouchendListenerFn;removeEmptyCellDragoverListenerFn;removeDocumentDragendListenerFn;constructor(e){this.gridster=e}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(),this.gridster.movingItem=null,this.initialItem=this.gridster=null,this.removeDocumentDragendListenerFn&&(this.removeDocumentDragendListenerFn(),this.removeDocumentDragendListenerFn=null)}updateOptions(){this.gridster.$options.enableEmptyCellClick&&!this.removeEmptyCellClickListenerFn&&this.gridster.options.emptyCellClickCallback?(this.removeEmptyCellClickListenerFn=this.gridster.renderer.listen(this.gridster.el,"click",this.emptyCellClickCb),this.removeEmptyCellTouchendListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchend",this.emptyCellClickCb)):!this.gridster.$options.enableEmptyCellClick&&this.removeEmptyCellClickListenerFn&&this.removeEmptyCellTouchendListenerFn&&(this.removeEmptyCellClickListenerFn(),this.removeEmptyCellTouchendListenerFn(),this.removeEmptyCellClickListenerFn=null,this.removeEmptyCellTouchendListenerFn=null),this.gridster.$options.enableEmptyCellContextMenu&&!this.removeEmptyCellContextMenuListenerFn&&this.gridster.options.emptyCellContextMenuCallback?this.removeEmptyCellContextMenuListenerFn=this.gridster.renderer.listen(this.gridster.el,"contextmenu",this.emptyCellContextMenuCb):!this.gridster.$options.enableEmptyCellContextMenu&&this.removeEmptyCellContextMenuListenerFn&&(this.removeEmptyCellContextMenuListenerFn(),this.removeEmptyCellContextMenuListenerFn=null),this.gridster.$options.enableEmptyCellDrop&&!this.removeEmptyCellDropListenerFn&&this.gridster.options.emptyCellDropCallback?(this.removeEmptyCellDropListenerFn=this.gridster.renderer.listen(this.gridster.el,"drop",this.emptyCellDragDrop),this.gridster.zone.runOutsideAngular(()=>{this.removeEmptyCellDragoverListenerFn=this.gridster.renderer.listen(this.gridster.el,"dragover",this.emptyCellDragOver)}),this.removeDocumentDragendListenerFn=this.gridster.renderer.listen("document","dragend",()=>{this.gridster.movingItem=null,this.gridster.previewStyle()})):!this.gridster.$options.enableEmptyCellDrop&&this.removeEmptyCellDropListenerFn&&this.removeEmptyCellDragoverListenerFn&&this.removeDocumentDragendListenerFn&&(this.removeEmptyCellDropListenerFn(),this.removeEmptyCellDragoverListenerFn(),this.removeDocumentDragendListenerFn(),this.removeEmptyCellDragoverListenerFn=null,this.removeEmptyCellDropListenerFn=null,this.removeDocumentDragendListenerFn=null),this.gridster.$options.enableEmptyCellDrag&&!this.removeEmptyCellMousedownListenerFn&&this.gridster.options.emptyCellDragCallback?(this.removeEmptyCellMousedownListenerFn=this.gridster.renderer.listen(this.gridster.el,"mousedown",this.emptyCellMouseDown),this.removeEmptyCellTouchstartListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchstart",this.emptyCellMouseDown)):!this.gridster.$options.enableEmptyCellDrag&&this.removeEmptyCellMousedownListenerFn&&this.removeEmptyCellTouchstartListenerFn&&(this.removeEmptyCellMousedownListenerFn(),this.removeEmptyCellTouchstartListenerFn(),this.removeEmptyCellMousedownListenerFn=null,this.removeEmptyCellTouchstartListenerFn=null)}emptyCellClickCb=e=>{if(!this.gridster||this.gridster.movingItem||Se.checkContentClassForEmptyCellClickEvent(this.gridster,e))return;let t=this.getValidItemFromEvent(e);t&&(this.gridster.options.emptyCellClickCallback&&this.gridster.options.emptyCellClickCallback(e,t),this.gridster.cdRef.markForCheck())};emptyCellContextMenuCb=e=>{if(this.gridster.movingItem||Se.checkContentClassForEmptyCellClickEvent(this.gridster,e))return;e.preventDefault(),e.stopPropagation();let t=this.getValidItemFromEvent(e);t&&(this.gridster.options.emptyCellContextMenuCallback&&this.gridster.options.emptyCellContextMenuCallback(e,t),this.gridster.cdRef.markForCheck())};emptyCellDragDrop=e=>{let t=this.getValidItemFromEvent(e);t&&(this.gridster.options.emptyCellDropCallback&&this.gridster.options.emptyCellDropCallback(e,t),this.gridster.cdRef.markForCheck())};emptyCellDragOver=e=>{e.preventDefault(),e.stopPropagation();let t=this.getValidItemFromEvent(e);t?(e.dataTransfer&&(e.dataTransfer.dropEffect="move"),this.gridster.movingItem=t):(e.dataTransfer&&(e.dataTransfer.dropEffect="none"),this.gridster.movingItem=null),this.gridster.previewStyle()};emptyCellMouseDown=e=>{if(Se.checkContentClassForEmptyCellClickEvent(this.gridster,e))return;e.preventDefault(),e.stopPropagation();let t=this.getValidItemFromEvent(e);!t||e.buttons!==1&&!(e instanceof TouchEvent)||(this.initialItem=t,this.gridster.movingItem=t,this.gridster.previewStyle(),this.gridster.zone.runOutsideAngular(()=>{this.removeWindowMousemoveListenerFn=this.gridster.renderer.listen("window","mousemove",this.emptyCellMouseMove),this.removeWindowTouchmoveListenerFn=this.gridster.renderer.listen("window","touchmove",this.emptyCellMouseMove)}),this.removeWindowMouseupListenerFn=this.gridster.renderer.listen("window","mouseup",this.emptyCellMouseUp),this.removeWindowTouchendListenerFn=this.gridster.renderer.listen("window","touchend",this.emptyCellMouseUp))};emptyCellMouseMove=e=>{e.preventDefault(),e.stopPropagation();let t=this.getValidItemFromEvent(e,this.initialItem);t&&(this.gridster.movingItem=t,this.gridster.previewStyle())};emptyCellMouseUp=e=>{this.removeWindowMousemoveListenerFn(),this.removeWindowTouchmoveListenerFn(),this.removeWindowMouseupListenerFn(),this.removeWindowTouchendListenerFn();let t=this.getValidItemFromEvent(e,this.initialItem);t&&(this.gridster.movingItem=t),this.gridster.options.emptyCellDragCallback&&this.gridster.movingItem&&this.gridster.options.emptyCellDragCallback(e,this.gridster.movingItem),setTimeout(()=>{this.initialItem=null,this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())}),this.gridster.cdRef.markForCheck()};getPixelsX(e,t){let i=this.gridster.options.scale;return i?(e.clientX-t.left)/i+this.gridster.el.scrollLeft-this.gridster.gridRenderer.getLeftMargin():e.clientX+this.gridster.el.scrollLeft-t.left-this.gridster.gridRenderer.getLeftMargin()}getPixelsY(e,t){let i=this.gridster.options.scale;return i?(e.clientY-t.top)/i+this.gridster.el.scrollTop-this.gridster.gridRenderer.getTopMargin():e.clientY+this.gridster.el.scrollTop-t.top-this.gridster.gridRenderer.getTopMargin()}getValidItemFromEvent(e,t){e.preventDefault(),e.stopPropagation(),Se.checkTouchEvent(e);let i=this.gridster.el.getBoundingClientRect(),o=this.getPixelsX(e,i),n=this.getPixelsY(e,i),r={x:this.gridster.pixelsToPositionX(o,Math.floor,!0),y:this.gridster.pixelsToPositionY(n,Math.floor,!0),cols:this.gridster.$options.defaultItemCols,rows:this.gridster.$options.defaultItemRows};if(t&&(r.cols=Math.min(Math.abs(t.x-r.x)+1,this.gridster.$options.emptyCellDragMaxCols),r.rows=Math.min(Math.abs(t.y-r.y)+1,this.gridster.$options.emptyCellDragMaxRows),t.x<r.x?r.x=t.x:t.x-r.x>this.gridster.$options.emptyCellDragMaxCols-1&&(r.x=this.gridster.movingItem?this.gridster.movingItem.x:0),t.y<r.y?r.y=t.y:t.y-r.y>this.gridster.$options.emptyCellDragMaxRows-1&&(r.y=this.gridster.movingItem?this.gridster.movingItem.y:0)),!(!this.gridster.$options.enableOccupiedCellDrop&&this.gridster.checkCollision(r)))return r}},aa=class{gridster;lastGridColumnStyles={};lastGridRowStyles={};constructor(e){this.gridster=e}destroy(){this.gridster=null}updateItem(e,t,i){if(this.gridster.mobile)this.clearCellPosition(i,e),this.gridster.$options.keepFixedHeightInMobile?i.setStyle(e,"height",(t.rows-1)*this.gridster.$options.margin+t.rows*this.gridster.$options.fixedRowHeight+"px"):i.setStyle(e,"height",t.rows*this.gridster.curWidth/t.cols+"px"),this.gridster.$options.keepFixedWidthInMobile?i.setStyle(e,"width",this.gridster.$options.fixedColWidth+"px"):i.setStyle(e,"width",""),i.setStyle(e,"margin-bottom",this.gridster.$options.margin+"px"),i.setStyle(e,ve.LTR?"margin-right":"margin-left","");else{let o=Math.round(this.gridster.curColWidth*t.x),n=Math.round(this.gridster.curRowHeight*t.y),r=this.gridster.curColWidth*t.cols-this.gridster.$options.margin,a=this.gridster.curRowHeight*t.rows-this.gridster.$options.margin;this.setCellPosition(i,e,o,n),i.setStyle(e,"width",r+"px"),i.setStyle(e,"height",a+"px");let l=null,c=null;this.gridster.$options.outerMargin&&(this.gridster.rows===t.rows+t.y&&(this.gridster.$options.outerMarginBottom!==null?l=this.gridster.$options.outerMarginBottom+"px":l=this.gridster.$options.margin+"px"),this.gridster.columns===t.cols+t.x&&(this.gridster.$options.outerMarginBottom!==null?c=this.gridster.$options.outerMarginRight+"px":c=this.gridster.$options.margin+"px")),i.setStyle(e,"margin-bottom",l),i.setStyle(e,ve.LTR?"margin-right":"margin-left",c)}}updateGridster(){let e="",t="",i="",o="";if(this.gridster.$options.gridType===z.Fit)e=z.Fit,t=z.ScrollVertical,i=z.ScrollHorizontal,o=z.Fixed;else if(this.gridster.$options.gridType===z.ScrollVertical)this.gridster.curRowHeight=this.gridster.curColWidth*this.gridster.$options.rowHeightRatio,e=z.ScrollVertical,t=z.Fit,i=z.ScrollHorizontal,o=z.Fixed;else if(this.gridster.$options.gridType===z.ScrollHorizontal){let n=this.gridster.$options.rowHeightRatio,r=n>=1?n:n+1;this.gridster.curColWidth=this.gridster.curRowHeight*r,e=z.ScrollHorizontal,t=z.Fit,i=z.ScrollVertical,o=z.Fixed}else this.gridster.$options.gridType===z.Fixed?(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),e=z.Fixed,t=z.Fit,i=z.ScrollVertical,o=z.ScrollHorizontal):this.gridster.$options.gridType===z.VerticalFixed?(this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),e=z.ScrollVertical,t=z.Fit,i=z.ScrollHorizontal,o=z.Fixed):this.gridster.$options.gridType===z.HorizontalFixed&&(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),e=z.ScrollHorizontal,t=z.Fit,i=z.ScrollVertical,o=z.Fixed);this.gridster.mobile||this.gridster.$options.setGridSize&&this.gridster.$options.gridType!==z.Fit?this.gridster.renderer.removeClass(this.gridster.el,e):this.gridster.renderer.addClass(this.gridster.el,e),this.gridster.renderer.removeClass(this.gridster.el,t),this.gridster.renderer.removeClass(this.gridster.el,i),this.gridster.renderer.removeClass(this.gridster.el,o)}getGridColumnStyle(e){let t={left:this.gridster.curColWidth*e,width:this.gridster.curColWidth-this.gridster.$options.margin,height:this.gridster.gridRows.length*this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};t.style=be(T({},this.getLeftPosition(t.left)),{width:t.width+"px",height:t.height+"px"});let i=this.lastGridColumnStyles[e];return i&&i.left===t.left&&i.width===t.width&&i.height===t.height?i.style:(this.lastGridColumnStyles[e]=t,t.style)}getGridRowStyle(e){let t={top:this.gridster.curRowHeight*e,width:this.gridster.gridColumns.length*this.gridster.curColWidth+this.gridster.$options.margin,height:this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};t.style=be(T({},this.getTopPosition(t.top)),{width:t.width+"px",height:t.height+"px"});let i=this.lastGridRowStyles[e];return i&&i.top===t.top&&i.width===t.width&&i.height===t.height?i.style:(this.lastGridRowStyles[e]=t,t.style)}getLeftPosition(e){let t=this.gridster.$options.dirType===ve.RTL?-e:e;return this.gridster.$options.useTransformPositioning?{transform:"translateX("+t+"px)"}:{left:this.getLeftMargin()+t+"px"}}getTopPosition(e){return this.gridster.$options.useTransformPositioning?{transform:"translateY("+e+"px)"}:{top:this.getTopMargin()+e+"px"}}clearCellPosition(e,t){this.gridster.$options.useTransformPositioning?e.setStyle(t,"transform",""):(e.setStyle(t,"top",""),e.setStyle(t,"left",""))}setCellPosition(e,t,i,o){let n=this.gridster.$options.dirType===ve.RTL?-i:i;if(this.gridster.$options.useTransformPositioning){let r="translate3d("+n+"px, "+o+"px, 0)";e.setStyle(t,"transform",r)}else e.setStyle(t,"left",this.getLeftMargin()+n+"px"),e.setStyle(t,"top",this.getTopMargin()+o+"px")}getLeftMargin(){return this.gridster.$options.outerMargin?this.gridster.$options.outerMarginLeft!==null?this.gridster.$options.outerMarginLeft:this.gridster.$options.margin:0}getTopMargin(){return this.gridster.$options.outerMargin?this.gridster.$options.outerMarginTop!==null?this.gridster.$options.outerMarginTop:this.gridster.$options.margin:0}},Nf=(()=>{class s{renderer;previewStyle$;gridRenderer;el;sub;constructor(t,i){this.renderer=i,this.el=t.nativeElement}ngOnInit(){this.sub=this.previewStyle$.subscribe(t=>this.previewStyle(t))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}previewStyle(t){t?(this.renderer.setStyle(this.el,"display","block"),this.gridRenderer.updateItem(this.el,t,this.renderer)):this.renderer.setStyle(this.el,"display","")}static \u0275fac=function(i){return new(i||s)(oe(Pe),oe(Ct))};static \u0275cmp=q({type:s,selectors:[["gridster-preview"]],inputs:{previewStyle$:"previewStyle$",gridRenderer:"gridRenderer"},decls:0,vars:0,template:function(i,o){},styles:[`gridster-preview{position:absolute;display:none;background:#00000026}
`],encapsulation:2})}return s})(),ua=(()=>{class s{renderer;cdRef;zone;options;movingItem;el;$options;mobile;curWidth;curHeight;grid;columns=0;rows=0;curColWidth;curRowHeight;gridColumns=[];gridRows=[];windowResize;dragInProgress;emptyCell;compact;gridRenderer;previewStyle$=new G;calculateLayout$=new I;resize$=new I;destroy$=new I;constructor(t,i,o,n){this.renderer=i,this.cdRef=o,this.zone=n,this.el=t.nativeElement,this.$options=JSON.parse(JSON.stringify(Bf)),this.mobile=!1,this.curWidth=0,this.curHeight=0,this.grid=[],this.curColWidth=0,this.curRowHeight=0,this.dragInProgress=!1,this.emptyCell=new ra(this),this.compact=new na(this),this.gridRenderer=new aa(this)}static checkCollisionTwoItemsForSwaping(t,i){let o=t.cols===1?0:1,n=i.cols===1?0:1,r=t.rows===1?0:1,a=i.rows===1?0:1;return t.x+o<i.x+i.cols&&t.x+t.cols>i.x+n&&t.y+r<i.y+i.rows&&t.y+t.rows>i.y+a}checkCollisionTwoItems(t,i){if(!(t.x<i.x+i.cols&&t.x+t.cols>i.x&&t.y<i.y+i.rows&&t.y+t.rows>i.y))return!1;if(!this.$options.allowMultiLayer)return!0;let n=this.$options.defaultLayerIndex,r=t.layerIndex===void 0?n:t.layerIndex,a=i.layerIndex===void 0?n:i.layerIndex;return r===a}ngOnInit(){this.options.initCallback&&this.options.initCallback(this),this.calculateLayout$.pipe(Ml(0),ot(this.destroy$)).subscribe(()=>this.calculateLayout()),this.resize$.pipe(Bi(()=>El(100)),ot(this.destroy$)).subscribe(()=>this.resize())}ngOnChanges(t){t.options&&(this.setOptions(),this.options.api={optionsChanged:this.optionsChanged,resize:this.onResize,getNextPossiblePosition:this.getNextPossiblePosition,getFirstPossiblePosition:this.getFirstPossiblePosition,getLastPossiblePosition:this.getLastPossiblePosition,getItemComponent:i=>this.getItemComponent(i)},this.columns=this.$options.minCols,this.rows=this.$options.minRows+this.$options.addEmptyRowsCount,this.setGridSize(),this.calculateLayout())}resize(){let t,i;this.$options.gridType==="fit"&&!this.mobile?(i=this.el.offsetWidth,t=this.el.offsetHeight):(i=this.el.clientWidth,t=this.el.clientHeight),(i!==this.curWidth||t!==this.curHeight)&&this.checkIfToResize()&&this.onResize()}setOptions(){this.$options=Se.merge(this.$options,this.options,this.$options),!this.$options.disableWindowResize&&!this.windowResize?this.windowResize=this.renderer.listen("window","resize",this.onResize):this.$options.disableWindowResize&&this.windowResize&&(this.windowResize(),this.windowResize=null),this.emptyCell.updateOptions()}optionsChanged=()=>{this.setOptions();let t=this.grid.length-1,i;for(;t>=0;t--)i=this.grid[t],i.updateOptions();this.calculateLayout()};ngOnDestroy(){this.destroy$.next(),this.previewStyle$.complete(),this.windowResize&&this.windowResize(),this.options&&this.options.destroyCallback&&this.options.destroyCallback(this),this.options&&this.options.api&&(this.options.api.resize=void 0,this.options.api.optionsChanged=void 0,this.options.api.getNextPossiblePosition=void 0,this.options.api=void 0),this.emptyCell.destroy(),this.emptyCell=null,this.compact.destroy(),this.compact=null}onResize=()=>{this.el.clientWidth&&(this.options.setGridSize&&(this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.setGridSize(),this.calculateLayout())};checkIfToResize(){let t=this.el.clientWidth,i=this.el.offsetWidth,o=this.el.scrollWidth,n=this.el.clientHeight,r=this.el.offsetHeight,a=this.el.scrollHeight,l=t<i&&a>r&&a-r<i-t,c=n<r&&o>i&&o-i<r-n;return l?!1:!c}checkIfMobile(){return this.$options.useBodyForBreakpoint?this.$options.mobileBreakpoint>document.body.clientWidth:this.$options.mobileBreakpoint>this.curWidth}setGridSize(){let t=this.el,i,o;this.$options.setGridSize||this.$options.gridType===z.Fit&&!this.mobile?(i=t.offsetWidth,o=t.offsetHeight):(i=t.clientWidth,o=t.clientHeight),this.curWidth=i,this.curHeight=o}setGridDimensions(){this.setGridSize(),!this.mobile&&this.checkIfMobile()?(this.mobile=!this.mobile,this.renderer.addClass(this.el,"mobile")):this.mobile&&!this.checkIfMobile()&&(this.mobile=!this.mobile,this.renderer.removeClass(this.el,"mobile"));let t=this.$options.minRows,i=this.$options.minCols,o=this.grid.length-1,n;for(;o>=0;o--)n=this.grid[o],n.notPlaced||(t=Math.max(t,n.$item.y+n.$item.rows),i=Math.max(i,n.$item.x+n.$item.cols));t+=this.$options.addEmptyRowsCount,(this.columns!==i||this.rows!==t)&&(this.columns=i,this.rows=t,this.options.gridSizeChangedCallback&&this.options.gridSizeChangedCallback(this))}calculateLayout(){if(this.compact&&this.compact.checkCompact(),this.setGridDimensions(),this.$options.outerMargin){let o=-this.$options.margin;this.$options.outerMarginLeft!==null?(o+=this.$options.outerMarginLeft,this.renderer.setStyle(this.el,"padding-left",this.$options.outerMarginLeft+"px")):(o+=this.$options.margin,this.renderer.setStyle(this.el,"padding-left",this.$options.margin+"px")),this.$options.outerMarginRight!==null?(o+=this.$options.outerMarginRight,this.renderer.setStyle(this.el,"padding-right",this.$options.outerMarginRight+"px")):(o+=this.$options.margin,this.renderer.setStyle(this.el,"padding-right",this.$options.margin+"px")),this.curColWidth=(this.curWidth-o)/this.columns;let n=-this.$options.margin;this.$options.outerMarginTop!==null?(n+=this.$options.outerMarginTop,this.renderer.setStyle(this.el,"padding-top",this.$options.outerMarginTop+"px")):(n+=this.$options.margin,this.renderer.setStyle(this.el,"padding-top",this.$options.margin+"px")),this.$options.outerMarginBottom!==null?(n+=this.$options.outerMarginBottom,this.renderer.setStyle(this.el,"padding-bottom",this.$options.outerMarginBottom+"px")):(n+=this.$options.margin,this.renderer.setStyle(this.el,"padding-bottom",this.$options.margin+"px")),this.curRowHeight=(this.curHeight-n)/this.rows*this.$options.rowHeightRatio}else this.curColWidth=(this.curWidth+this.$options.margin)/this.columns,this.curRowHeight=(this.curHeight+this.$options.margin)/this.rows*this.$options.rowHeightRatio,this.renderer.setStyle(this.el,"padding-left","0px"),this.renderer.setStyle(this.el,"padding-right","0px"),this.renderer.setStyle(this.el,"padding-top","0px"),this.renderer.setStyle(this.el,"padding-bottom","0px");this.gridRenderer.updateGridster(),this.$options.setGridSize?(this.renderer.addClass(this.el,"gridSize"),this.mobile||(this.renderer.setStyle(this.el,"width",this.columns*this.curColWidth+this.$options.margin+"px"),this.renderer.setStyle(this.el,"height",this.rows*this.curRowHeight+this.$options.margin+"px"))):(this.renderer.removeClass(this.el,"gridSize"),this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.updateGrid();let t=this.grid.length-1,i;for(;t>=0;t--)i=this.grid[t],i.setSize(),i.drag.toggle(),i.resize.toggle();this.resize$.next()}updateGrid(){this.$options.displayGrid==="always"&&!this.mobile?this.renderer.addClass(this.el,"display-grid"):this.$options.displayGrid==="onDrag&Resize"&&this.dragInProgress?this.renderer.addClass(this.el,"display-grid"):(this.$options.displayGrid==="none"||!this.dragInProgress||this.mobile)&&this.renderer.removeClass(this.el,"display-grid"),this.setGridDimensions(),this.gridColumns.length=s.getNewArrayLength(this.columns,this.curWidth,this.curColWidth),this.gridRows.length=s.getNewArrayLength(this.rows,this.curHeight,this.curRowHeight),this.cdRef.markForCheck()}addItem(t){t.$item.cols===void 0&&(t.$item.cols=this.$options.defaultItemCols,t.item.cols=t.$item.cols,t.itemChanged()),t.$item.rows===void 0&&(t.$item.rows=this.$options.defaultItemRows,t.item.rows=t.$item.rows,t.itemChanged()),t.$item.x===-1||t.$item.y===-1?this.autoPositionItem(t):this.checkCollision(t.$item)&&(this.$options.disableWarnings||(t.notPlaced=!0,console.warn("Can't be placed in the bounds of the dashboard, trying to auto position!/n"+JSON.stringify(t.item,["cols","rows","x","y"]))),this.$options.disableAutoPositionOnConflict?t.notPlaced=!0:this.autoPositionItem(t)),this.grid.push(t),this.calculateLayout$.next()}removeItem(t){this.grid.splice(this.grid.indexOf(t),1),this.calculateLayout$.next(),this.options.itemRemovedCallback&&this.options.itemRemovedCallback(t.item,t)}checkCollision(t){let i=!1;if(this.options.itemValidateCallback&&(i=!this.options.itemValidateCallback(t)),!i&&this.checkGridCollision(t)&&(i=!0),!i){let o=this.findItemWithItem(t);o&&(i=o)}return i}checkGridCollision(t){let i=t.y>-1&&t.x>-1,o=t.cols+t.x<=this.$options.maxCols,n=t.rows+t.y<=this.$options.maxRows,r=t.maxItemCols===void 0?this.$options.maxItemCols:t.maxItemCols,a=t.minItemCols===void 0?this.$options.minItemCols:t.minItemCols,l=t.maxItemRows===void 0?this.$options.maxItemRows:t.maxItemRows,c=t.minItemRows===void 0?this.$options.minItemRows:t.minItemRows,h=t.cols<=r&&t.cols>=a,d=t.rows<=l&&t.rows>=c,u=t.minItemArea===void 0?this.$options.minItemArea:t.minItemArea,m=t.maxItemArea===void 0?this.$options.maxItemArea:t.maxItemArea,g=t.cols*t.rows,y=u<=g,_=m>=g;return!(i&&o&&n&&h&&d&&y&&_)}findItemWithItem(t){let i=0,o;for(;i<this.grid.length;i++)if(o=this.grid[i],o.$item!==t&&this.checkCollisionTwoItems(o.$item,t))return o;return!1}findItemsWithItem(t){let i=[],o=0,n;for(;o<this.grid.length;o++)n=this.grid[o],n.$item!==t&&this.checkCollisionTwoItems(n.$item,t)&&i.push(n);return i}autoPositionItem(t){this.getNextPossiblePosition(t.$item)?(t.notPlaced=!1,t.item.x=t.$item.x,t.item.y=t.$item.y,t.itemChanged()):(t.notPlaced=!0,this.$options.disableWarnings||console.warn("Can't be placed in the bounds of the dashboard!/n"+JSON.stringify(t.item,["cols","rows","x","y"])))}getNextPossiblePosition=(t,i={})=>{t.cols===-1&&(t.cols=this.$options.defaultItemCols),t.rows===-1&&(t.rows=this.$options.defaultItemRows),this.setGridDimensions();let o=i.y||0,n;for(;o<this.rows;o++)for(t.y=o,n=i.x||0;n<this.columns;n++)if(t.x=n,!this.checkCollision(t))return!0;let r=this.$options.maxRows>=this.rows+t.rows,a=this.$options.maxCols>=this.columns+t.cols;return!(this.rows<=this.columns&&r)&&a?(t.x=this.columns,t.y=0,!0):r?(t.y=this.rows,t.x=0,!0):!1};getFirstPossiblePosition=t=>{let i=Object.assign({},t);return this.getNextPossiblePosition(i),i};getLastPossiblePosition=t=>{let i={y:0,x:0};i=this.grid.reduce((n,r)=>{let a={y:r.$item.y+r.$item.rows-1,x:r.$item.x+r.$item.cols-1};return Se.compareItems(n,a)===1?a:n},i);let o=Object.assign({},t);return this.getNextPossiblePosition(o,i),o};pixelsToPositionX(t,i,o){let n=i(t/this.curColWidth);return o?n:Math.max(n,0)}pixelsToPositionY(t,i,o){let n=i(t/this.curRowHeight);return o?n:Math.max(n,0)}positionXToPixels(t){return t*this.curColWidth}positionYToPixels(t){return t*this.curRowHeight}getItemComponent(t){return this.grid.find(i=>i.item===t)}checkCollisionForSwaping(t){let i=!1;if(this.options.itemValidateCallback&&(i=!this.options.itemValidateCallback(t)),!i&&this.checkGridCollision(t)&&(i=!0),!i){let o=this.findItemWithItemForSwapping(t);o&&(i=o)}return i}findItemWithItemForSwapping(t){let i=this.grid.length-1,o;for(;i>-1;i--)if(o=this.grid[i],o.$item!==t&&s.checkCollisionTwoItemsForSwaping(o.$item,t))return o;return!1}previewStyle(t=!1){this.movingItem?(this.compact&&t&&this.compact.checkCompactItem(this.movingItem),this.previewStyle$.next(this.movingItem)):this.previewStyle$.next(null)}static getNewArrayLength(t,i,o){let n=Math.max(t,Math.floor(i/o));return n<0?0:Number.isFinite(n)?Math.floor(n):0}static \u0275fac=function(i){return new(i||s)(oe(Pe),oe(Ct),oe(Hi),oe(Ce))};static \u0275cmp=q({type:s,selectors:[["gridster"]],inputs:{options:"options"},features:[Vt],ngContentSelectors:sc,decls:6,vars:2,consts:[[1,"gridster-column",3,"ngStyle"],[1,"gridster-row",3,"ngStyle"],[1,"gridster-preview",3,"gridRenderer","previewStyle$"]],template:function(i,o){i&1&&(Es(),St(0,If,1,1,"div",0,ta),St(2,Ef,1,1,"div",1,ta),Os(4),J(5,"gridster-preview",2)),i&2&&(Rt(o.gridColumns),M(2),Rt(o.gridRows),M(3),ue("gridRenderer",o.gridRenderer)("previewStyle$",o.previewStyle$))},dependencies:[Ul,Nf],styles:[`gridster{position:relative;box-sizing:border-box;background:gray;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:block}gridster.fit{overflow-x:hidden;overflow-y:hidden}gridster.scrollVertical{overflow-x:hidden;overflow-y:auto}gridster.scrollHorizontal{overflow-x:auto;overflow-y:hidden}gridster.fixed{overflow:auto}gridster.mobile{overflow-x:hidden;overflow-y:auto}gridster.mobile gridster-item{position:relative}gridster.gridSize{height:initial;width:initial}gridster.gridSize.fit{height:100%;width:100%}gridster .gridster-column,gridster .gridster-row{position:absolute;display:none;transition:.3s;box-sizing:border-box}gridster.display-grid .gridster-column,gridster.display-grid .gridster-row{display:block}gridster .gridster-column{border-left:1px solid white;border-right:1px solid white}gridster .gridster-row{border-top:1px solid white;border-bottom:1px solid white}
`],encapsulation:2})}return s})(),Fs=class{fromSouth;fromNorth;fromEast;fromWest;pushedItems;pushedItemsTemp;pushedItemsTempPath;pushedItemsPath;gridsterItem;gridster;pushedItemsOrder;tryPattern;iteration=0;constructor(e){this.pushedItems=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],this.pushedItemsPath=[],this.gridsterItem=e,this.gridster=e.gridster,this.tryPattern={fromEast:[this.tryWest,this.trySouth,this.tryNorth,this.tryEast],fromWest:[this.tryEast,this.trySouth,this.tryNorth,this.tryWest],fromNorth:[this.trySouth,this.tryEast,this.tryWest,this.tryNorth],fromSouth:[this.tryNorth,this.tryEast,this.tryWest,this.trySouth]},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){this.gridster=this.gridsterItem=null}pushItems(e,t){if(this.gridster.$options.pushItems&&!t){this.pushedItemsOrder=[],this.iteration=0;let i=this.push(this.gridsterItem,e);return i||this.restoreTempItems(),this.pushedItemsOrder=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],i}else return!1}restoreTempItems(){let e=this.pushedItemsTemp.length-1;for(;e>-1;e--)this.removeFromTempPushed(this.pushedItemsTemp[e])}restoreItems(){let e=0,t=this.pushedItems.length,i;for(;e<t;e++)i=this.pushedItems[e],i.$item.x=i.item.x||0,i.$item.y=i.item.y||0,i.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let e=0,t=this.pushedItems.length,i;for(;e<t;e++)i=this.pushedItems[e],i.checkItemChanges(i.$item,i.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let e=this.pushedItems.length-1,t=!1;for(;e>-1;e--)this.checkPushedItem(this.pushedItems[e],e)&&(t=!0);t&&this.checkPushBack()}push(e,t){if(this.iteration>100)return console.warn("max iteration reached"),!1;if(this.gridster.checkGridCollision(e.$item)||t==="")return!1;let i=this.gridster.findItemsWithItem(e.$item),o=t===this.fromNorth||t===this.fromWest;i.sort((c,h)=>o?h.$item.y-c.$item.y||h.$item.x-c.$item.x:c.$item.y-h.$item.y||c.$item.x-h.$item.x);let n=0,r,a=!0,l=[];for(;n<i.length;n++){if(r=i[n],r===this.gridsterItem)continue;if(!r.canBeDragged()){a=!1;break}let c=this.pushedItemsTemp.indexOf(r);if(c>-1&&this.pushedItemsTempPath[c].length>10){a=!1;break}if(this.tryPattern[t][0].call(this,r,e))this.pushedItemsOrder.push(r),l.push(r);else if(this.tryPattern[t][1].call(this,r,e))this.pushedItemsOrder.push(r),l.push(r);else if(this.tryPattern[t][2].call(this,r,e))this.pushedItemsOrder.push(r),l.push(r);else if(this.tryPattern[t][3].call(this,r,e))this.pushedItemsOrder.push(r),l.push(r);else{a=!1;break}}if(!a&&(n=this.pushedItemsOrder.lastIndexOf(l[0]),n>-1)){let c=this.pushedItemsOrder.length-1;for(;c>=n;c--)r=this.pushedItemsOrder[c],this.pushedItemsOrder.pop(),this.removeFromTempPushed(r),this.removeFromPushedItem(r)}return this.iteration++,a}trySouth(e,t){return this.gridster.$options.pushDirections.south?(this.addToTempPushed(e),e.$item.y=t.$item.y+t.$item.rows,this.push(e,this.fromNorth)?(e.setSize(),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1)):!1}tryNorth(e,t){return this.gridster.$options.pushDirections.north?(this.addToTempPushed(e),e.$item.y=t.$item.y-e.$item.rows,this.push(e,this.fromSouth)?(e.setSize(),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1)):!1}tryEast(e,t){return this.gridster.$options.pushDirections.east?(this.addToTempPushed(e),e.$item.x=t.$item.x+t.$item.cols,this.push(e,this.fromWest)?(e.setSize(),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1)):!1}tryWest(e,t){return this.gridster.$options.pushDirections.west?(this.addToTempPushed(e),e.$item.x=t.$item.x-e.$item.cols,this.push(e,this.fromEast)?(e.setSize(),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1)):!1}addToTempPushed(e){let t=this.pushedItemsTemp.indexOf(e);t===-1&&(t=this.pushedItemsTemp.push(e)-1,this.pushedItemsTempPath[t]=[]),this.pushedItemsTempPath[t].push({x:e.$item.x,y:e.$item.y})}removeFromTempPushed(e){let t=this.pushedItemsTemp.indexOf(e),i=this.pushedItemsTempPath[t].pop();i&&(e.$item.x=i.x,e.$item.y=i.y,e.setSize(),this.pushedItemsTempPath[t].length||(this.pushedItemsTemp.splice(t,1),this.pushedItemsTempPath.splice(t,1)))}addToPushed(e){if(this.pushedItems.indexOf(e)<0)this.pushedItems.push(e),this.pushedItemsPath.push([{x:e.item.x||0,y:e.item.y||0},{x:e.$item.x,y:e.$item.y}]);else{let t=this.pushedItems.indexOf(e);this.pushedItemsPath[t].push({x:e.$item.x,y:e.$item.y})}}removeFromPushed(e){e>-1&&(this.pushedItems.splice(e,1),this.pushedItemsPath.splice(e,1))}removeFromPushedItem(e){let t=this.pushedItems.indexOf(e);t>-1&&(this.pushedItemsPath[t].pop(),this.pushedItemsPath.length||(this.pushedItems.splice(t,1),this.pushedItemsPath.splice(t,1)))}checkPushedItem(e,t){let i=this.pushedItemsPath[t],o=i.length-2,n,r,a,l=!1;for(;o>-1;o--)n=i[o],r=e.$item.x,a=e.$item.y,e.$item.x=n.x,e.$item.y=n.y,this.gridster.findItemWithItem(e.$item)?(e.$item.x=r,e.$item.y=a):(e.setSize(),i.splice(o+1,i.length-o-1),l=!0);return i.length<2&&this.removeFromPushed(t),l}},Gi,Ht,nc=50,Ge,ji,pt,Yi,Xi,Ui,qi;function rc(s,e,t,i,o,n,r,a,l,c){Gi=s.$options.scrollSensitivity,Ht=s.$options.scrollSpeed,Ge=s.el,ji=l,pt=c;let h=Ge.offsetWidth,d=Ge.offsetHeight,u=Ge.scrollLeft,m=Ge.scrollTop,g=t-m,y=d+m-t-o,{clientX:_,clientY:x}=n;if(!s.$options.disableScrollVertical)if(r.clientY<x&&y<Gi){if(dc(),ji&&pt&&!pt.south||qi)return;qi=tc(1,a,r)}else if(r.clientY>x&&m>0&&g<Gi){if(hc(),ji&&pt&&!pt.north||Ui)return;Ui=tc(-1,a,r)}else r.clientY!==x&&pa();let w=u+h-e-i,S=e-u;if(!s.$options.disableScrollHorizontal)if(r.clientX<_&&w<=Gi){if(cc(),ji&&pt&&!pt.east||Yi)return;Yi=ic(1,a,r)}else if(r.clientX>_&&u>0&&S<Gi){if(lc(),ji&&pt&&!pt.west||Xi)return;Xi=ic(-1,a,r)}else r.clientX!==_&&fa()}function tc(s,e,t){let i=t.clientY;return window.setInterval(()=>{(!Ge||s===-1&&Ge.scrollTop-Ht<0)&&pa(),Ge.scrollTop+=s*Ht,i+=s*Ht,e({clientX:t.clientX,clientY:i})},nc)}function ic(s,e,t){let i=t.clientX;return window.setInterval(()=>{(!Ge||s===-1&&Ge.scrollLeft-Ht<0)&&fa(),Ge.scrollLeft+=s*Ht,i+=s*Ht,e({clientX:i,clientY:t.clientY})},nc)}function ac(){fa(),pa(),Ge=null}function fa(){lc(),cc()}function pa(){dc(),hc()}function lc(){Yi&&(clearInterval(Yi),Yi=0)}function cc(){Xi&&(clearInterval(Xi),Xi=0)}function hc(){qi&&(clearInterval(qi),qi=0)}function dc(){Ui&&(clearInterval(Ui),Ui=0)}var la=class{swapedItem;gridsterItem;gridster;constructor(e){this.gridsterItem=e,this.gridster=e.gridster}destroy(){this.gridster=this.gridsterItem=this.swapedItem=null}swapItems(){this.gridster.$options.swap&&(this.checkSwapBack(),this.checkSwap(this.gridsterItem))}checkSwapBack(){if(this.swapedItem){let e=this.swapedItem.$item.x,t=this.swapedItem.$item.y;this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.gridster.checkCollision(this.swapedItem.$item)?(this.swapedItem.$item.x=e,this.swapedItem.$item.y=t):(this.swapedItem.setSize(),this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.swapedItem=void 0)}}restoreSwapItem(){this.swapedItem&&(this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.swapedItem.setSize(),this.swapedItem=void 0)}setSwapItem(){this.swapedItem&&(this.swapedItem.checkItemChanges(this.swapedItem.$item,this.swapedItem.item),this.swapedItem=void 0)}checkSwap(e){let t;if(this.gridster.$options.swapWhileDragging?t=this.gridster.checkCollisionForSwaping(e.$item):t=this.gridster.checkCollision(e.$item),t&&t!==!0&&t.canBeDragged()){let i=t,o=i.$item.x,n=i.$item.y,r=e.$item.x,a=e.$item.y,l=r-o,c=a-n;i.$item.x=e.item.x-l,i.$item.y=e.item.y-c,e.$item.x=i.item.x+l,e.$item.y=i.item.y+c,this.gridster.checkCollision(i.$item)||this.gridster.checkCollision(e.$item)?(e.$item.x=r,e.$item.y=a,i.$item.x=o,i.$item.y=n):(i.setSize(),this.swapedItem=i,this.gridster.$options.swapWhileDragging&&(this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.setSwapItem()))}}},Vf="gridster-item-resizable-handler",$e=function(s){return s.UP="UP",s.DOWN="DOWN",s.LEFT="LEFT",s.RIGHT="RIGHT",s}($e||{}),ca=class{zone;gridsterItem;gridster;lastMouse;offsetLeft;offsetTop;margin;outerMarginTop;outerMarginRight;outerMarginBottom;outerMarginLeft;diffTop;diffLeft;originalClientX;originalClientY;top;left;height;width;positionX;positionY;positionXBackup;positionYBackup;enabled;mousemove;mouseup;mouseleave;cancelOnBlur;touchmove;touchend;touchcancel;mousedown;touchstart;push;swap;path;collision=!1;constructor(e,t,i){this.zone=i,this.gridsterItem=e,this.gridster=t,this.lastMouse={clientX:0,clientY:0},this.path=[]}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(!0),this.gridsterItem=this.gridster=this.collision=null,this.mousedown&&(this.mousedown(),this.touchstart())}dragStart(e){e.which&&e.which!==1||(this.gridster.options.draggable&&this.gridster.options.draggable.start&&this.gridster.options.draggable.start(this.gridsterItem.item,this.gridsterItem,e),e.stopPropagation(),e.preventDefault(),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragMove),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-moving"),this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.left=this.gridsterItem.left-this.margin,this.top=this.gridsterItem.top-this.margin,this.originalClientX=e.clientX,this.originalClientY=e.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.gridster.$options.dirType===ve.RTL?this.diffLeft=e.clientX-this.gridster.el.scrollWidth+this.gridsterItem.left:this.diffLeft=e.clientX+this.offsetLeft-this.margin-this.left,this.diffTop=e.clientY+this.offsetTop-this.margin-this.top,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(!0),this.push=new Fs(this.gridsterItem),this.swap=new la(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid(),this.path.push({x:this.gridsterItem.item.x||0,y:this.gridsterItem.item.y||0}))}dragMove=e=>{e.stopPropagation(),e.preventDefault(),Se.checkTouchEvent(e);let t=this.getDirections(e);this.gridster.options.enableBoundaryControl&&(t.includes($e.UP)&&this.gridsterItem.el.getBoundingClientRect().top<this.gridster.el.getBoundingClientRect().top+(this.outerMarginTop??this.margin)&&(t=t.filter(i=>i!=$e.UP),e=new MouseEvent(e.type,{clientX:e.clientX,clientY:this.lastMouse.clientY})),t.includes($e.LEFT)&&this.gridsterItem.el.getBoundingClientRect().left<this.gridster.el.getBoundingClientRect().left+(this.outerMarginLeft??this.margin)&&(t=t.filter(i=>i!=$e.LEFT),e=new MouseEvent(e.type,{clientX:this.lastMouse.clientX,clientY:e.clientY})),t.includes($e.RIGHT)&&this.gridsterItem.el.getBoundingClientRect().right>this.gridster.el.getBoundingClientRect().right-(this.outerMarginRight??this.margin)&&(t=t.filter(i=>i!=$e.RIGHT),e=new MouseEvent(e.type,{clientX:this.lastMouse.clientX,clientY:e.clientY})),t.includes($e.DOWN)&&this.gridsterItem.el.getBoundingClientRect().bottom>this.gridster.el.getBoundingClientRect().bottom-(this.outerMarginBottom??this.margin)&&(t=t.filter(i=>i!=$e.DOWN),e=new MouseEvent(e.type,{clientX:e.clientX,clientY:this.lastMouse.clientY}))),t.length&&(this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,rc(this.gridster,this.left,this.top,this.width,this.height,e,this.lastMouse,this.calculateItemPositionFromMousePosition),this.calculateItemPositionFromMousePosition(e))};calculateItemPositionFromMousePosition=e=>{this.gridster.options.scale?this.calculateItemPositionWithScale(e,this.gridster.options.scale):this.calculateItemPositionWithoutScale(e),this.calculateItemPosition(),this.lastMouse.clientX=e.clientX,this.lastMouse.clientY=e.clientY,this.zone.run(()=>{this.gridster.updateGrid()})};calculateItemPositionWithScale(e,t){this.gridster.$options.dirType===ve.RTL?this.left=this.gridster.el.scrollWidth-this.originalClientX+(e.clientX-this.originalClientX)/t+this.diffLeft:this.left=this.originalClientX+(e.clientX-this.originalClientX)/t+this.offsetLeft-this.diffLeft,this.top=this.originalClientY+(e.clientY-this.originalClientY)/t+this.offsetTop-this.diffTop}calculateItemPositionWithoutScale(e){this.gridster.$options.dirType===ve.RTL?this.left=this.gridster.el.scrollWidth-e.clientX+this.diffLeft:this.left=e.clientX+this.offsetLeft-this.diffLeft,this.top=e.clientY+this.offsetTop-this.diffTop}dragStop=e=>{e.stopPropagation(),e.preventDefault(),ac(),this.cancelOnBlur(),this.mousemove(),this.mouseup(),this.mouseleave(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-moving"),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.path=[],this.gridster.options.draggable&&this.gridster.options.draggable.stop?Promise.resolve(this.gridster.options.draggable.stop(this.gridsterItem.item,this.gridsterItem,e)).then(this.makeDrag,this.cancelDrag):this.makeDrag(),setTimeout(()=>{this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle(!0))})};cancelDrag=()=>{this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push&&this.push.restoreItems(),this.swap&&this.swap.restoreSwapItem(),this.push&&(this.push.destroy(),this.push=null),this.swap&&(this.swap.destroy(),this.swap=null)};makeDrag=()=>{this.gridster.$options.draggable.dropOverItems&&this.gridster.options.draggable&&this.gridster.options.draggable.dropOverItemsCallback&&this.collision&&this.collision!==!0&&this.collision.$item&&this.gridster.options.draggable.dropOverItemsCallback(this.gridsterItem.item,this.collision.item,this.gridster),this.collision=!1,this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push&&this.push.setPushedItems(),this.swap&&this.swap.setSwapItem(),this.push&&(this.push.destroy(),this.push=null),this.swap&&(this.swap.destroy(),this.swap=null)};calculateItemPosition(){if(this.gridster.movingItem=this.gridsterItem.$item,this.positionX=this.gridster.pixelsToPositionX(this.left,Math.round),this.positionY=this.gridster.pixelsToPositionY(this.top,Math.round),this.positionXBackup=this.gridsterItem.$item.x,this.positionYBackup=this.gridsterItem.$item.y,this.gridsterItem.$item.x=this.positionX,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.x=this.positionXBackup),this.gridsterItem.$item.y=this.positionY,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.y=this.positionYBackup),this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,this.top),this.positionXBackup!==this.gridsterItem.$item.x||this.positionYBackup!==this.gridsterItem.$item.y){let e=this.path[this.path.length-1],t="";e.x<this.gridsterItem.$item.x?t=this.push.fromWest:e.x>this.gridsterItem.$item.x?t=this.push.fromEast:e.y<this.gridsterItem.$item.y?t=this.push.fromNorth:e.y>this.gridsterItem.$item.y&&(t=this.push.fromSouth),this.push.pushItems(t,this.gridster.$options.disablePushOnDrag),this.swap.swapItems(),this.collision=this.gridster.checkCollision(this.gridsterItem.$item),this.collision?(this.gridsterItem.$item.x=this.positionXBackup,this.gridsterItem.$item.y=this.positionYBackup,this.gridster.$options.draggable.dropOverItems&&this.collision!==!0&&this.collision.$item&&(this.gridster.movingItem=null)):this.path.push({x:this.gridsterItem.$item.x,y:this.gridsterItem.$item.y}),this.push.checkPushBack()}else this.collision=!1;this.gridster.previewStyle(!0)}toggle(){let e=this.gridsterItem.canBeDragged();!this.enabled&&e?(this.enabled=!this.enabled,this.mousedown=this.gridsterItem.renderer.listen(this.gridsterItem.el,"mousedown",this.dragStartDelay),this.touchstart=this.gridsterItem.renderer.listen(this.gridsterItem.el,"touchstart",this.dragStartDelay)):this.enabled&&!e&&(this.enabled=!this.enabled,this.mousedown(),this.touchstart())}dragStartDelay=e=>{if(e.target.classList.contains(Vf)||Se.checkContentClassForEvent(this.gridster,e))return;if(Se.checkTouchEvent(e),!this.gridster.$options.draggable.delayStart){this.dragStart(e);return}let i=setTimeout(()=>{this.dragStart(e),d()},this.gridster.$options.draggable.delayStart),o=this.gridsterItem.renderer.listen("document","mouseup",d),n=this.gridsterItem.renderer.listen("document","mouseleave",d),r=this.gridsterItem.renderer.listen("window","blur",d),a=this.gridsterItem.renderer.listen("document","touchmove",h),l=this.gridsterItem.renderer.listen("document","touchend",d),c=this.gridsterItem.renderer.listen("document","touchcancel",d);function h(u){Se.checkTouchEvent(u),(Math.abs(u.clientX-e.clientX)>9||Math.abs(u.clientY-e.clientY)>9)&&d()}function d(){clearTimeout(i),r(),o(),n(),a(),l(),c()}};getDirections(e){let t=[];return this.lastMouse.clientX===0&&this.lastMouse.clientY===0&&(this.lastMouse.clientY=e.clientY,this.lastMouse.clientX=e.clientX),this.lastMouse.clientY>e.clientY&&t.push($e.UP),this.lastMouse.clientY<e.clientY&&t.push($e.DOWN),this.lastMouse.clientX<e.clientX&&t.push($e.RIGHT),this.lastMouse.clientX>e.clientX&&t.push($e.LEFT),t}},ha=class{fromSouth;fromNorth;fromEast;fromWest;pushedItems;pushedItemsPath;gridsterItem;gridster;tryPattern;constructor(e){this.pushedItems=[],this.pushedItemsPath=[],this.gridsterItem=e,this.gridster=e.gridster,this.tryPattern={fromEast:this.tryWest,fromWest:this.tryEast,fromNorth:this.trySouth,fromSouth:this.tryNorth},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){this.gridster=this.gridsterItem=null}pushItems(e){return this.gridster.$options.pushResizeItems?this.push(this.gridsterItem,e):!1}restoreItems(){let e=0,t=this.pushedItems.length,i;for(;e<t;e++)i=this.pushedItems[e],i.$item.x=i.item.x||0,i.$item.y=i.item.y||0,i.$item.cols=i.item.cols||1,i.$item.row=i.item.row||1,i.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let e=0,t=this.pushedItems.length,i;for(;e<t;e++)i=this.pushedItems[e],i.checkItemChanges(i.$item,i.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let e=this.pushedItems.length-1,t=!1;for(;e>-1;e--)this.checkPushedItem(this.pushedItems[e],e)&&(t=!0);t&&this.checkPushBack()}push(e,t){let i=this.gridster.checkCollision(e.$item);if(i&&i!==!0&&i!==this.gridsterItem&&i.canBeResized()){if(this.tryPattern[t].call(this,i,e,t))return!0}else if(i===!1)return!0;return!1}trySouth(e,t,i){let o=e.$item.y,n=e.$item.rows;return e.$item.y=t.$item.y+t.$item.rows,e.$item.rows=n+o-e.$item.y,!this.gridster.checkCollisionTwoItems(e.$item,t.$item)&&!this.gridster.checkGridCollision(e.$item)?(e.setSize(),this.addToPushed(e),this.push(t,i),!0):(e.$item.y=o,e.$item.rows=n,!1)}tryNorth(e,t,i){let o=e.$item.rows;return e.$item.rows=t.$item.y-e.$item.y,!this.gridster.checkCollisionTwoItems(e.$item,t.$item)&&!this.gridster.checkGridCollision(e.$item)?(e.setSize(),this.addToPushed(e),this.push(t,i),!0):(e.$item.rows=o,!1)}tryEast(e,t,i){let o=e.$item.x,n=e.$item.cols;return e.$item.x=t.$item.x+t.$item.cols,e.$item.cols=n+o-e.$item.x,!this.gridster.checkCollisionTwoItems(e.$item,t.$item)&&!this.gridster.checkGridCollision(e.$item)?(e.setSize(),this.addToPushed(e),this.push(t,i),!0):(e.$item.x=o,e.$item.cols=n,!1)}tryWest(e,t,i){let o=e.$item.cols;return e.$item.cols=t.$item.x-e.$item.x,!this.gridster.checkCollisionTwoItems(e.$item,t.$item)&&!this.gridster.checkGridCollision(e.$item)?(e.setSize(),this.addToPushed(e),this.push(t,i),!0):(e.$item.cols=o,!1)}addToPushed(e){if(this.pushedItems.indexOf(e)<0)this.pushedItems.push(e),this.pushedItemsPath.push([{x:e.item.x||0,y:e.item.y||0,cols:e.item.cols||0,rows:e.item.rows||0},{x:e.$item.x,y:e.$item.y,cols:e.$item.cols,rows:e.$item.rows}]);else{let t=this.pushedItems.indexOf(e);this.pushedItemsPath[t].push({x:e.$item.x,y:e.$item.y,cols:e.$item.cols,rows:e.$item.rows})}}removeFromPushed(e){e>-1&&(this.pushedItems.splice(e,1),this.pushedItemsPath.splice(e,1))}checkPushedItem(e,t){let i=this.pushedItemsPath[t],o=i.length-2,n,r,a,l,c;for(;o>-1;o--)n=i[o],r=e.$item.x,a=e.$item.y,l=e.$item.cols,c=e.$item.rows,e.$item.x=n.x,e.$item.y=n.y,e.$item.cols=n.cols,e.$item.rows=n.rows,this.gridster.findItemWithItem(e.$item)?(e.$item.x=r,e.$item.y=a,e.$item.cols=l,e.$item.rows=c):(e.setSize(),i.splice(o+1,i.length-1-o));return i.length<2?(this.removeFromPushed(t),!0):!1}},da=class{zone;gridsterItem;gridster;lastMouse;itemBackup;resizeEventScrollType;directionFunction=null;resizeEnabled;resizableHandles;mousemove;mouseup;mouseleave;cancelOnBlur;touchmove;touchend;touchcancel;push;pushResize;minHeight;minWidth;offsetTop;offsetLeft;diffTop;diffLeft;diffRight;diffBottom;margin;outerMarginTop;outerMarginRight;outerMarginBottom;outerMarginLeft;originalClientX;originalClientY;top;left;bottom;right;width;height;newPosition;constructor(e,t,i){this.zone=i,this.gridsterItem=e,this.gridster=t,this.lastMouse={clientX:0,clientY:0},this.itemBackup=[0,0,0,0],this.resizeEventScrollType={west:!1,east:!1,north:!1,south:!1}}destroy(){this.gridster?.previewStyle(),this.gridster=this.gridsterItem=null}dragStart(e){if(e.which&&e.which!==1)return;this.gridster.options.resizable&&this.gridster.options.resizable.start&&this.gridster.options.resizable.start(this.gridsterItem.item,this.gridsterItem,e),e.stopPropagation(),e.preventDefault(),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragMove),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-resizing"),this.lastMouse.clientX=e.clientX,this.lastMouse.clientY=e.clientY,this.left=this.gridsterItem.left,this.top=this.gridsterItem.top,this.originalClientX=e.clientX,this.originalClientY=e.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.bottom=this.gridsterItem.top+this.gridsterItem.height,this.right=this.gridsterItem.left+this.gridsterItem.width,this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.diffLeft=e.clientX+this.offsetLeft-this.left,this.diffRight=e.clientX+this.offsetLeft-this.right,this.diffTop=e.clientY+this.offsetTop-this.top,this.diffBottom=e.clientY+this.offsetTop-this.bottom,this.minHeight=this.gridster.positionYToPixels(this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows)-this.margin,this.minWidth=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(),this.push=new Fs(this.gridsterItem),this.pushResize=new ha(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid();let{classList:t}=e.target;t.contains("handle-n")?(this.resizeEventScrollType.north=!0,this.directionFunction=this.handleNorth):t.contains("handle-w")?this.gridster.$options.dirType===ve.RTL?(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):t.contains("handle-s")?(this.resizeEventScrollType.south=!0,this.directionFunction=this.handleSouth):t.contains("handle-e")?this.gridster.$options.dirType===ve.RTL?(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):t.contains("handle-nw")?this.gridster.$options.dirType===ve.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):t.contains("handle-ne")?this.gridster.$options.dirType===ve.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):t.contains("handle-sw")?this.gridster.$options.dirType===ve.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):t.contains("handle-se")&&(this.gridster.$options.dirType===ve.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast))}dragMove=e=>{if(this.directionFunction===null)throw new Error("The `directionFunction` has not been set before calling `dragMove`.");e.stopPropagation(),e.preventDefault(),Se.checkTouchEvent(e),this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,rc(this.gridster,this.left,this.top,this.width,this.height,e,this.lastMouse,this.directionFunction,!0,this.resizeEventScrollType);let t=this.gridster.options.scale||1;this.directionFunction({clientX:this.originalClientX+(e.clientX-this.originalClientX)/t,clientY:this.originalClientY+(e.clientY-this.originalClientY)/t}),this.lastMouse.clientX=e.clientX,this.lastMouse.clientY=e.clientY,this.zone.run(()=>{this.gridster.updateGrid()})};dragStop=e=>{e.stopPropagation(),e.preventDefault(),ac(),this.mousemove(),this.mouseup(),this.mouseleave(),this.cancelOnBlur(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.gridster.options.resizable&&this.gridster.options.resizable.stop?Promise.resolve(this.gridster.options.resizable.stop(this.gridsterItem.item,this.gridsterItem,e)).then(this.makeResize,this.cancelResize):this.makeResize(),setTimeout(()=>{this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-resizing"),this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())})};cancelResize=()=>{this.gridsterItem.$item.cols=this.gridsterItem.item.cols||1,this.gridsterItem.$item.rows=this.gridsterItem.item.rows||1,this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push.restoreItems(),this.pushResize.restoreItems(),this.push.destroy(),this.push=null,this.pushResize.destroy(),this.pushResize=null};makeResize=()=>{this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push.setPushedItems(),this.pushResize.setPushedItems(),this.push.destroy(),this.push=null,this.pushResize.destroy(),this.pushResize=null};handleNorth=e=>{this.top=e.clientY+this.offsetTop-this.diffTop,this.height=this.bottom-this.top,this.minHeight>this.height?(this.height=this.minHeight,this.top=this.bottom-this.minHeight):this.gridster.options.enableBoundaryControl&&(this.top=Math.max(0,this.top),this.height=this.bottom-this.top);let t=this.gridster.options.pushItems?this.margin:0;if(this.newPosition=this.gridster.pixelsToPositionY(this.top+t,Math.floor),this.gridsterItem.$item.y!==this.newPosition){if(this.itemBackup[1]=this.gridsterItem.$item.y,this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows+=this.gridsterItem.$item.y-this.newPosition,this.gridsterItem.$item.y=this.newPosition,this.pushResize.pushItems(this.pushResize.fromSouth),this.push.pushItems(this.push.fromSouth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item)){this.gridsterItem.$item.y=this.itemBackup[1],this.gridsterItem.$item.rows=this.itemBackup[3],this.top=this.gridster.positionYToPixels(this.gridsterItem.$item.y),this.setItemTop(this.gridster.positionYToPixels(this.gridsterItem.$item.y)),this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);return}else this.gridster.previewStyle();this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemTop(this.top),this.setItemHeight(this.height)};handleWest=e=>{let t=this.gridster.$options.dirType===ve.RTL?this.originalClientX+(this.originalClientX-e.clientX):e.clientX;this.left=t+this.offsetLeft-this.diffLeft,this.width=this.right-this.left,this.minWidth>this.width?(this.width=this.minWidth,this.left=this.right-this.minWidth):this.gridster.options.enableBoundaryControl&&(this.left=Math.max(0,this.left),this.width=this.right-this.left);let i=this.gridster.options.pushItems?this.margin:0;if(this.newPosition=this.gridster.pixelsToPositionX(this.left+i,Math.floor),this.gridsterItem.$item.x!==this.newPosition){if(this.itemBackup[0]=this.gridsterItem.$item.x,this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols+=this.gridsterItem.$item.x-this.newPosition,this.gridsterItem.$item.x=this.newPosition,this.pushResize.pushItems(this.pushResize.fromEast),this.push.pushItems(this.push.fromEast,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item)){this.gridsterItem.$item.x=this.itemBackup[0],this.gridsterItem.$item.cols=this.itemBackup[2],this.left=this.gridster.positionXToPixels(this.gridsterItem.$item.x),this.setItemLeft(this.gridster.positionXToPixels(this.gridsterItem.$item.x)),this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);return}else this.gridster.previewStyle();this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemLeft(this.left),this.setItemWidth(this.width)};handleSouth=e=>{if(this.height=e.clientY+this.offsetTop-this.diffBottom-this.top,this.minHeight>this.height&&(this.height=this.minHeight),this.bottom=this.top+this.height,this.gridster.options.enableBoundaryControl){let i=this.outerMarginBottom??this.margin,o=this.gridster.el.getBoundingClientRect();this.bottom=Math.min(this.bottom,o.bottom-o.top-2*i),this.height=this.bottom-this.top}let t=this.gridster.options.pushItems?0:this.margin;if(this.newPosition=this.gridster.pixelsToPositionY(this.bottom+t,Math.ceil),this.gridsterItem.$item.y+this.gridsterItem.$item.rows!==this.newPosition){if(this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows=this.newPosition-this.gridsterItem.$item.y,this.pushResize.pushItems(this.pushResize.fromNorth),this.push.pushItems(this.push.fromNorth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item)){this.gridsterItem.$item.rows=this.itemBackup[3],this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);return}else this.gridster.previewStyle();this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemHeight(this.height)};handleEast=e=>{let t=this.gridster.$options.dirType===ve.RTL?this.originalClientX+(this.originalClientX-e.clientX):e.clientX;if(this.width=t+this.offsetLeft-this.diffRight-this.left,this.minWidth>this.width&&(this.width=this.minWidth),this.right=this.left+this.width,this.gridster.options.enableBoundaryControl){let o=this.outerMarginRight??this.margin,n=this.gridster.el.getBoundingClientRect();this.right=Math.min(this.right,n.right-n.left-2*o),this.width=this.right-this.left}let i=this.gridster.options.pushItems?0:this.margin;if(this.newPosition=this.gridster.pixelsToPositionX(this.right+i,Math.ceil),this.gridsterItem.$item.x+this.gridsterItem.$item.cols!==this.newPosition){if(this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols=this.newPosition-this.gridsterItem.$item.x,this.pushResize.pushItems(this.pushResize.fromWest),this.push.pushItems(this.push.fromWest,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item)){this.gridsterItem.$item.cols=this.itemBackup[2],this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);return}else this.gridster.previewStyle();this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemWidth(this.width)};handleNorthWest=e=>{this.handleNorth(e),this.handleWest(e)};handleNorthEast=e=>{this.handleNorth(e),this.handleEast(e)};handleSouthWest=e=>{this.handleSouth(e),this.handleWest(e)};handleSouthEast=e=>{this.handleSouth(e),this.handleEast(e)};toggle(){this.resizeEnabled=this.gridsterItem.canBeResized(),this.resizableHandles=this.gridsterItem.getResizableHandles()}dragStartDelay(e){if(Se.checkTouchEvent(e),!this.gridster.$options.resizable.delayStart){this.dragStart(e);return}let t=setTimeout(()=>{this.dragStart(e),h()},this.gridster.$options.resizable.delayStart),{cancelMouse:i,cancelMouseLeave:o,cancelOnBlur:n,cancelTouchMove:r,cancelTouchEnd:a,cancelTouchCancel:l}=this.zone.runOutsideAngular(()=>{let d=this.gridsterItem.renderer.listen("document","mouseup",h),u=this.gridsterItem.renderer.listen("document","mouseleave",h),m=this.gridsterItem.renderer.listen("window","blur",h),g=this.gridsterItem.renderer.listen("document","touchmove",c),y=this.gridsterItem.renderer.listen("document","touchend",h),_=this.gridsterItem.renderer.listen("document","touchcancel",h);return{cancelMouse:d,cancelMouseLeave:u,cancelOnBlur:m,cancelTouchMove:g,cancelTouchEnd:y,cancelTouchCancel:_}});function c(d){Se.checkTouchEvent(d),(Math.abs(d.clientX-e.clientX)>9||Math.abs(d.clientY-e.clientY)>9)&&h()}function h(){clearTimeout(t),n(),i(),o(),r(),a(),l()}}setItemTop(e){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,e)}setItemLeft(e){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,e,this.top)}setItemHeight(e){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"height",e+"px")}setItemWidth(e){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"width",e+"px")}},uc=(()=>{class s{renderer;zone;item;itemInit=new G;itemChange=new G;itemResize=new G;$item;el;gridster;top;left;width;height;drag;resize;notPlaced;init;get zIndex(){return this.getLayerIndex()+this.gridster.$options.baseLayerIndex}constructor(t,i,o,n){this.renderer=o,this.zone=n,this.el=t.nativeElement,this.$item={cols:-1,rows:-1,x:-1,y:-1},this.gridster=i,this.drag=new ca(this,i,this.zone),this.resize=new da(this,i,this.zone)}ngOnInit(){this.gridster.addItem(this)}ngOnChanges(t){t.item&&(this.updateOptions(),this.init||this.gridster.calculateLayout$.next()),t.item&&t.item.previousValue&&this.setSize()}updateOptions(){this.$item=Se.merge(this.$item,this.item,{cols:void 0,rows:void 0,x:void 0,y:void 0,layerIndex:void 0,dragEnabled:void 0,resizeEnabled:void 0,compactEnabled:void 0,maxItemRows:void 0,minItemRows:void 0,maxItemCols:void 0,minItemCols:void 0,maxItemArea:void 0,minItemArea:void 0,resizableHandles:{s:void 0,e:void 0,n:void 0,w:void 0,se:void 0,ne:void 0,sw:void 0,nw:void 0}})}ngOnDestroy(){this.gridster.removeItem(this),this.drag.destroy(),this.resize.destroy(),this.gridster=this.drag=this.resize=null}setSize(){this.renderer.setStyle(this.el,"display",this.notPlaced?"":"block"),this.gridster.gridRenderer.updateItem(this.el,this.$item,this.renderer),this.updateItemSize()}updateItemSize(){let t=this.$item.y*this.gridster.curRowHeight,i=this.$item.x*this.gridster.curColWidth,o=this.$item.cols*this.gridster.curColWidth-this.gridster.$options.margin,n=this.$item.rows*this.gridster.curRowHeight-this.gridster.$options.margin;this.top=t,this.left=i,!this.init&&o>0&&n>0&&(this.init=!0,this.item.initCallback&&this.item.initCallback(this.item,this),this.gridster.options.itemInitCallback&&this.gridster.options.itemInitCallback(this.item,this),this.itemInit.next({item:this.item,itemComponent:this}),this.gridster.$options.scrollToNewItems&&this.el.scrollIntoView(!1)),(o!==this.width||n!==this.height)&&(this.width=o,this.height=n,this.gridster.options.itemResizeCallback&&this.gridster.options.itemResizeCallback(this.item,this),this.itemResize.next({item:this.item,itemComponent:this}))}itemChanged(){this.gridster.options.itemChangeCallback&&this.gridster.options.itemChangeCallback(this.item,this),this.itemChange.next({item:this.item,itemComponent:this})}checkItemChanges(t,i){t.rows===i.rows&&t.cols===i.cols&&t.x===i.x&&t.y===i.y||(this.gridster.checkCollision(this.$item)?(this.$item.x=i.x||0,this.$item.y=i.y||0,this.$item.cols=i.cols||1,this.$item.rows=i.rows||1,this.setSize()):(this.item.cols=this.$item.cols,this.item.rows=this.$item.rows,this.item.x=this.$item.x,this.item.y=this.$item.y,this.gridster.calculateLayout$.next(),this.itemChanged()))}canBeDragged(){let t=this.gridster.$options.draggable.enabled,i=this.$item.dragEnabled===void 0?t:this.$item.dragEnabled;return!this.gridster.mobile&&t&&i}canBeResized(){let t=this.gridster.$options.resizable.enabled,i=this.$item.resizeEnabled===void 0?t:this.$item.resizeEnabled;return!this.gridster.mobile&&t&&i}getResizableHandles(){let t=this.gridster.$options.resizable.handles,i=this.$item.resizableHandles;return i===void 0?t:T(T({},t),i)}bringToFront(t){if(t&&t<=0)return;let i=this.getLayerIndex(),o=this.gridster.$options.maxLayerIndex;if(i<o){let n=t?i+t:o;this.item.layerIndex=this.$item.layerIndex=n>o?o:n}}sendToBack(t){if(t&&t<=0)return;let i=this.getLayerIndex();if(i>0){let o=t?i-t:0;this.item.layerIndex=this.$item.layerIndex=o<0?0:o}}getLayerIndex(){return this.item.layerIndex!==void 0?this.item.layerIndex:this.gridster.$options.defaultLayerIndex!==void 0?this.gridster.$options.defaultLayerIndex:0}static \u0275fac=function(i){return new(i||s)(oe(Pe),oe(ua),oe(Ct),oe(Ce))};static \u0275cmp=q({type:s,selectors:[["gridster-item"]],hostVars:2,hostBindings:function(i,o){i&2&&Je("z-index",o.zIndex)},inputs:{item:"item"},outputs:{itemInit:"itemInit",itemChange:"itemChange",itemResize:"itemResize"},features:[Vt],ngContentSelectors:sc,decls:9,vars:8,consts:[[1,"gridster-item-resizable-handler","handle-s"],[1,"gridster-item-resizable-handler","handle-e"],[1,"gridster-item-resizable-handler","handle-n"],[1,"gridster-item-resizable-handler","handle-w"],[1,"gridster-item-resizable-handler","handle-se"],[1,"gridster-item-resizable-handler","handle-ne"],[1,"gridster-item-resizable-handler","handle-sw"],[1,"gridster-item-resizable-handler","handle-nw"],[1,"gridster-item-resizable-handler","handle-s",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-e",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-n",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-w",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-se",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-ne",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-sw",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-nw",3,"mousedown","touchstart"]],template:function(i,o){i&1&&(Es(),Os(0),he(1,Of,1,0,"div",0),he(2,Tf,1,0,"div",1),he(3,Mf,1,0,"div",2),he(4,zf,1,0,"div",3),he(5,Lf,1,0,"div",4),he(6,Ff,1,0,"div",5),he(7,$f,1,0,"div",6),he(8,Af,1,0,"div",7)),i&2&&(M(),de(o.resize.resizableHandles!=null&&o.resize.resizableHandles.s&&o.resize.resizeEnabled?1:-1),M(),de(o.resize.resizableHandles!=null&&o.resize.resizableHandles.e&&o.resize.resizeEnabled?2:-1),M(),de(o.resize.resizableHandles!=null&&o.resize.resizableHandles.n&&o.resize.resizeEnabled?3:-1),M(),de(o.resize.resizableHandles!=null&&o.resize.resizableHandles.w&&o.resize.resizeEnabled?4:-1),M(),de(o.resize.resizableHandles!=null&&o.resize.resizableHandles.se&&o.resize.resizeEnabled?5:-1),M(),de(o.resize.resizableHandles!=null&&o.resize.resizableHandles.ne&&o.resize.resizeEnabled?6:-1),M(),de(o.resize.resizableHandles!=null&&o.resize.resizableHandles.sw&&o.resize.resizeEnabled?7:-1),M(),de(o.resize.resizableHandles!=null&&o.resize.resizableHandles.nw&&o.resize.resizeEnabled?8:-1))},styles:[`gridster-item{box-sizing:border-box;z-index:1;position:absolute;overflow:hidden;transition:.3s;display:none;background:#fff;-webkit-user-select:text;user-select:text}gridster-item.gridster-item-moving{cursor:move}gridster-item.gridster-item-resizing,gridster-item.gridster-item-moving{transition:0s;z-index:2;box-shadow:0 0 5px 5px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.gridster-item-resizable-handler{position:absolute;z-index:2}.gridster-item-resizable-handler.handle-n{cursor:ns-resize;height:10px;right:0;top:0;left:0}.gridster-item-resizable-handler.handle-e{cursor:ew-resize;width:10px;bottom:0;right:0;top:0}.gridster-item-resizable-handler.handle-s{cursor:ns-resize;height:10px;right:0;bottom:0;left:0}.gridster-item-resizable-handler.handle-w{cursor:ew-resize;width:10px;left:0;top:0;bottom:0}.gridster-item-resizable-handler.handle-ne{cursor:ne-resize;width:10px;height:10px;right:0;top:0}.gridster-item-resizable-handler.handle-nw{cursor:nw-resize;width:10px;height:10px;left:0;top:0}.gridster-item-resizable-handler.handle-se{cursor:se-resize;width:0;height:0;right:0;bottom:0;border-style:solid;border-width:0 0 10px 10px;border-color:transparent}.gridster-item-resizable-handler.handle-sw{cursor:sw-resize;width:10px;height:10px;left:0;bottom:0}gridster-item:hover .gridster-item-resizable-handler.handle-se{border-color:transparent transparent #ccc}
`],encapsulation:2})}return s})();var Pt=function(s){return s[s.Dropdown=0]="Dropdown",s[s.Button=1]="Button",s}(Pt||{}),rt=function(s){return s[s.NewGame=0]="NewGame",s[s.Difficulty=1]="Difficulty",s[s.Rules=2]="Rules",s}(rt||{}),at=function(s){return s[s.Easy=0]="Easy",s[s.Medium=1]="Medium",s[s.Hard=2]="Hard",s}(at||{}),Zi=function(s){return s[s.Car=0]="Car",s[s.Truck=1]="Truck",s[s.GreenCar=2]="GreenCar",s}(Zi||{}),Ae=function(s){return s[s.Horizontal=0]="Horizontal",s[s.Vertical=1]="Vertical",s}(Ae||{}),lt=function(s){return s[s.NoOverlapAllowed=0]="NoOverlapAllowed",s[s.CanOnlyMoveHorizontaly=1]="CanOnlyMoveHorizontaly",s[s.CanOnlyMoveVertically=2]="CanOnlyMoveVertically",s}(lt||{});var Wt=6,kt=6,fc=Wt*kt,$s=3;function ma(){return[{name:"New Game",id:rt.NewGame,type:Pt.Button},{name:"Difficulty",id:rt.Difficulty,type:Pt.Dropdown,options:[{name:"Easy",id:at.Easy},{name:"Medium",id:at.Medium},{name:"Hard",id:at.Hard}]},{name:"How to Play?",id:rt.Rules,type:Pt.Button}]}function pc(){return{title:"How to Play?",content:`<h2>Rush Hour: Gridlock Escape!</h2>
      <p><b>Goal:</b> Get your <span style="color: green; font-weight: bold;">green car</span> off the board via the right exit.</p>
      <hr>
      <h3>Setup</h3>
      <ul>
          <li><b>Board:</b> 6x6 grid.</li>
          <li><b>Pieces:</b> Cars (2 squares), Trucks (3 squares), and your special <span style="color: green; font-weight: bold;">Green Car</span> (2 squares).</li>
          <li>Each challenge has a unique starting layout.</li>
      </ul>
      <hr>
      <h3>How to Move</h3>
      <ul>
          <li><b>Straight Only:</b> Vehicles slide forward/backward (horizontal) or up/down (vertical). No turns.</li>
          <li><b>Clear Path:</b> Move pieces only if squares are empty.</li>
          <li><b>No Overlap:</b> Pieces can't land on others. All stay on the board until your green car exits.</li>
          <li><b>One Move:</b> Move one vehicle per turn.</li>
      </ul>
      <hr>
      <h3>Winning</h3>
      <p>You win when your <span style="color: green; font-weight: bold;">green car</span> slides towards the green exit door!</p>`}}var mc={fullScreen:{zIndex:1},particles:{number:{value:100},color:{value:["#80CBC4","#B4EBE6","#00FF9C"]},shape:{type:["circle"]},opacity:{value:.8},size:{value:{min:2,max:5}},move:{enable:!0,speed:5,direction:"outside",random:!0,straight:!1,outModes:{default:"out"}}},detectRetina:!0};function Hf(s,e){if(s&1&&(D(0,"div",0),J(1,"div",2)(2,"div",3)(3,"div",4),E()),s&2){let t=P();M(),Je("background-color",t.color),M(),Je("background-color",t.color)}}function Wf(s,e){if(s&1&&(D(0,"div",1),J(1,"div",5)(2,"div",6)(3,"div",7),E()),s&2){let t=P();M(2),Je("background-color",t.color),M(),Je("background-color",t.color)}}var ui=function(s){return s.Green="green",s.Red="red",s.Blue="blue",s.Purple="purple",s.Yellow="yellow",s.Orange="orange",s.Pink="pink",s}(ui||{}),gc=(()=>{class s{direction=Ae.Horizontal;color=ui.Red;dragDirection=Ae;static \u0275fac=function(i){return new(i||s)};static \u0275cmp=q({type:s,selectors:[["vehicle"]],inputs:{direction:"direction",color:"color"},decls:2,vars:1,consts:[[1,"vehicle-hor"],[1,"vehicle-ver"],[1,"vehicle-hor__rear"],[1,"vehicle-hor__body"],[1,"vehicle-hor__front"],[1,"vehicle-ver__front"],[1,"vehicle-ver__body"],[1,"vehicle-ver__rear"]],template:function(i,o){i&1&&he(0,Hf,4,4,"div",0)(1,Wf,4,4,"div",1),i&2&&de(o.direction===o.dragDirection.Horizontal?0:1)},styles:['.vehicle-hor[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;position:relative;box-shadow:0 8px 16px #0000004d;height:100%}.vehicle-hor__front[_ngcontent-%COMP%]{width:20%;height:75%;background:linear-gradient(90deg,#ff6b6b,#ff5252);border-radius:0 8px 8px 0;position:relative}.vehicle-hor__body[_ngcontent-%COMP%]{height:75%;position:relative;display:flex;align-items:center;justify-content:center;flex:.8}.vehicle-hor__body[_ngcontent-%COMP%]:before{content:"";position:absolute;left:50%;transform:translate(-50%);width:80%;height:60%;border-radius:4px}.vehicle-hor__rear[_ngcontent-%COMP%]{width:20%;height:75%;border-radius:8px 0 0 8px}.vehicle-ver[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;position:relative;box-shadow:0 8px 16px #0000004d}.vehicle-ver__front[_ngcontent-%COMP%]{width:75%;height:20%;background:linear-gradient(180deg,#ff6b6b,#ff5252);border-radius:8px 8px 0 0}.vehicle-ver__body[_ngcontent-%COMP%]{width:75%;position:relative;display:flex;align-items:center;justify-content:center;flex:.8}.vehicle-ver__body[_ngcontent-%COMP%]:before{content:"";position:absolute;width:60%;height:80%;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:4px}.vehicle-ver__rear[_ngcontent-%COMP%]{width:75%;height:20%;border-radius:0 0 8px 8px}.red[_ngcontent-%COMP%]{background:linear-gradient(90deg,#e57373,#d32f2f)}.green[_ngcontent-%COMP%]{background:linear-gradient(90deg,#81c784,#388e3c)}.purple[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ba68c8,#7b1fa2)}.orange[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ffb74d,#f57c00)}.blue[_ngcontent-%COMP%]{background:linear-gradient(90deg,#90caf9,#2196f3)}.yellow[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fff176,#fbc02d)}.pink[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f06292,#d81b60)}']})}return s})();function Gf(s,e){if(s&1&&(D(0,"gridster-item",3),J(1,"vehicle",5),E()),s&2){let t=e.$implicit;ue("item",t),M(),ue("direction",t.dragging)("color",t.color)}}function jf(s,e){if(s&1&&(D(0,"gridster",2),St(1,Gf,2,3,"gridster-item",3,Is),E(),J(3,"div",4)),s&2){let t=P(2);Je("background-color","#ffffff"),ue("options",t.options),M(),Rt(t.grid),M(2),Je("top","calc(100% / 6 * "+t.exitRow+")")}}function Yf(s,e){s&1&&(D(0,"span",1),Fe(1,"Start a new Game to play"),E())}function Xf(s,e){if(s&1&&(D(0,"div",0),he(1,jf,4,5)(2,Yf,2,0,"span",1),E()),s&2){let t=P();M(),de(t.grid.length?1:2)}}var _c=(()=>{class s{set config(t){t&&t.length?(this.carPositions=this.getCarsPlaceholderArray(t),this.grid=this.getGameGrid(t)):this.grid=[],this.updatePrevGrid()}exitRow=$s;onGridComplete=new G;onGridError=new G;onUserError=new G;prevGrid=[];carPositions=null;isValidDrag=!0;options;grid=[];constructor(){this.options={gridType:z.Fit,enableBoundaryControl:!0,swap:!1,pushItems:!1,minCols:kt,maxCols:kt,minRows:Wt,maxRows:Wt,draggable:{enabled:!0,stop:this.itemDragEnd},resizable:{enabled:!1},itemChangeCallback:this.itemChange}}getCarsPlaceholderArray(t){let i=!1,n=new Array(kt).fill(null).map(r=>new Array(Wt).fill(null));return t.forEach(r=>{if(n[r.y][r.x]=r.id,r.rows>1)for(let a=1;a<r.rows;a++)r.y+a>kt-1&&(i=!0,this.onGridError.emit()),n[r.y+a][r.x]=r.id;if(r.cols>1)for(let a=1;a<r.cols;a++)r.x+a>Wt-1&&(i=!0,this.onGridError.emit()),n[r.y][r.x+a]=r.id}),i?null:n}getGameGrid(t){if(!this.carPositions)return[];let i=[],o=[];for(let n=0;n<Wt;n++)for(let r=0;r<kt;)if(this.carPositions[n][r]!=null){let a=this.carPositions[n][r];if(i.includes(a)){r++;continue}let l=t.find(h=>h.id===this.carPositions?.[n][r]),{cols:c}=l;o.push(be(T({},l),{dragEnabled:!0})),i.push(l.id),r+=c}else r++;return o}checkOverlap(t,i){t===null||!this.isValidDrag||t!==i&&(this.isValidDrag=!1)}updateCarPositions(t,i,o,n){let r=this.carPositions?.map(a=>[...a]);switch(t){case Ae.Horizontal:let a=Math.min(i?.x,o?.x),l=Math.max(i?.x,o?.x)+o.cols;for(let d=a;d<l;d++){let u=d>=o.x+o.cols,m=d<o.x;if(r){if(this.checkOverlap(r[o.y][d],n),!this.isValidDrag){this.onUserError.emit(lt.NoOverlapAllowed);return}r[o.y][d]=u||m?null:n}}break;case Ae.Vertical:let c=Math.min(i?.y,o?.y),h=Math.max(i?.y,o?.y)+o.rows;for(let d=c;d<h;d++){let u=d>=o.y+o.rows,m=d<o.y;if(r){if(this.checkOverlap(r[d][o.x],n),!this.isValidDrag){this.onUserError.emit(lt.NoOverlapAllowed);return}r[d][o.x]=u||m?null:n}}break}this.carPositions=r}revertGrid(t,i,o){this.grid=this.prevGrid.map(n=>(n.id===t&&(n.x=i,n.y=o),T({},n)))}updatePrevGrid(){this.prevGrid=this.grid.map(t=>T({},t))}isValidDragDirection(t,i,o){switch(t){case Ae.Horizontal:return o?.y===i?.y;case Ae.Vertical:return o?.x===i?.x}return!0}itemChange=(t,i)=>{let{type:o,x:n,y:r,cols:a}=t;if(this.isValidDrag)o===Zi.GreenCar&&r===this.exitRow&&n===kt-a&&this.onGridComplete.emit(),this.updatePrevGrid();else{let{id:l}=t,{x:c,y:h}=this.prevGrid.find(d=>d.id===l);this.revertGrid(l,c,h),this.isValidDrag=!0}};itemDragEnd=(t,i,o)=>{let{id:n,dragging:r}=t,a=this.prevGrid.find(c=>c.id===n),l=i.$item;if(!(l.x===a.x&&l.y===a.y))if(this.isValidDragDirection(r,a,l))this.updateCarPositions(r,a,l,n);else{let c=r===Ae.Horizontal?lt.CanOnlyMoveHorizontaly:lt.CanOnlyMoveVertically;this.onUserError.emit(c),this.isValidDrag=!1}};static \u0275fac=function(i){return new(i||s)};static \u0275cmp=q({type:s,selectors:[["grid"]],inputs:{config:"config",exitRow:"exitRow"},outputs:{onGridComplete:"onGridComplete",onGridError:"onGridError",onUserError:"onUserError"},decls:1,vars:1,consts:[[1,"grid"],[1,"grid__empty"],[3,"options"],[1,"grid__item",3,"item"],[1,"grid__exit"],[3,"direction","color"]],template:function(i,o){i&1&&he(0,Xf,3,1,"div",0),i&2&&de(o.options?0:-1)},dependencies:[ua,uc,gc],styles:[".grid[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;width:100%;height:100%}.grid__item[_ngcontent-%COMP%]{border-radius:8px}.grid__exit[_ngcontent-%COMP%]{position:absolute;width:4px;right:0;background-color:green;height:16.393442623%}.grid__empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}"]})}return s})();var Ki=function(s){return s.GameCache="GameCache",s}(Ki||{}),yc=(()=>{class s{setItem(t,i){let o=JSON.stringify(i),n=btoa(o);localStorage.setItem(t,n)}getItem(t){let i=localStorage.getItem(t);if(i){let o=atob(i);return JSON.parse(o)}return null}removeItem(t){localStorage.removeItem(t)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var qf=50,Zf=1e3,Kf=3,vc=(()=>{class s{startTime=0;intervalId;displayTime=We("0.000s");ngOnInit(){this.startTime=performance.now(),this.intervalId=setInterval(()=>{let t=performance.now()-this.startTime;this.displayTime.set((t/Zf).toFixed(Kf)+"s")},qf)}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=q({type:s,selectors:[["loader"]],decls:10,vars:1,consts:[[1,"container"],["viewBox","0 0 100 50","xmlns","http://www.w3.org/2000/svg",1,"container__car"],["x","10","y","20","width","80","height","20","rx","4","fill","green"],["points","30,20 40,10 60,10 70,20","fill","#2ecc71"],["x","42","y","12","width","6","height","8","fill","#ecf0f1"],["x","52","y","12","width","6","height","8","fill","#ecf0f1"],["cx","25","cy","42","r","6","fill","#333"],["cx","75","cy","42","r","6","fill","#333"],[1,"container__counter"]],template:function(i,o){i&1&&(D(0,"div",0),Fl(),D(1,"svg",1),J(2,"rect",2)(3,"polygon",3)(4,"rect",4)(5,"rect",5)(6,"circle",6)(7,"circle",7),E(),$l(),D(8,"div",8),Fe(9),E()()),i&2&&(M(9),di(" ",o.displayTime()," "))},styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:relative;gap:8px}.container__car[_ngcontent-%COMP%]{width:100px;height:50px;transform-origin:center center;position:absolute;animation:_ngcontent-%COMP%_drive-horizontal 4s linear infinite}.container__counter[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}@keyframes _ngcontent-%COMP%_drive-horizontal{0%{transform:translate(-200%) scaleX(1)}49.9%{transform:translate(200%) scaleX(1)}50%{transform:translate(200%) scaleX(-1)}to{transform:translate(-200%) scaleX(-1)}}"]})}return s})();function xc(s){return s.cols>s.rows?Ae.Horizontal:Ae.Vertical}var mt="generated",wc="pointerdown",bc="pointerup",Qi="pointerleave",Cc="pointerout",Be="pointermove",Sc="touchstart",ga="touchend",Rc="touchmove",Pc="touchcancel",kc="resize",Dc="visibilitychange",ce="tsParticles - Error";var me={x:0,y:0,z:0},Ji={a:1,b:0,c:0,d:1},Dt="random",es="mid",ne=2,Ic=Math.PI*ne,As=60;var _a="true",ya="false",Bs="canvas",va=0,Ne=2,xa=4,Ec=1,wa=1,ba=1,Oc=4,Ns=1,ts=255,It=360,Vs=100,Hs=100,Ca=0,Ws=0,Tc=60,Mc=0,is=.25,Sa=.5+is,Ra=0,zc=1,Lc=0,Fc=0,$c=1,ss=1,Ac=1,Pa=1,fi=0,Gs=1,Bc=0,Nc=120,Vc=0,Hc=0,Wc=1e4,Gc=0,jc=1,Gt=0,js=1,Yc=1,Xc=0,ka=1,Uc=0,qc=0,Da=-is,Ia=1.5,Ea=0,Zc=1,Kc=0,os=0,Qc=0,Ys=1,Jc=1,pi=1,eh=500,Oa=50,th=0,ns=1,Ta=0,Ma=1,ih=0,Et=255,Xs=3,Us=6,sh=1,oh=1,nh=0,rh=0,ah=0,lh=0;var fe=function(s){return s.bottom="bottom",s.bottomLeft="bottom-left",s.bottomRight="bottom-right",s.left="left",s.none="none",s.right="right",s.top="top",s.topLeft="top-left",s.topRight="top-right",s.outside="outside",s.inside="inside",s}(fe||{});function qs(s){return typeof s=="boolean"}function je(s){return typeof s=="string"}function et(s){return typeof s=="number"}function gt(s){return typeof s=="object"&&s!==null}function ke(s){return Array.isArray(s)}function f(s){return s==null}var mi=class s{constructor(e,t,i){if(this._updateFromAngle=(o,n)=>{this.x=Math.cos(o)*n,this.y=Math.sin(o)*n},!et(e)&&e){this.x=e.x,this.y=e.y;let o=e;this.z=o.z?o.z:me.z}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??me.z;else throw new Error(`${ce} Vector3d not initialized correctly`)}static get origin(){return s.create(me.x,me.y,me.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return s.create(e.x,e.y,e.z)}static create(e,t,i){return new s(e,t,i)}add(e){return s.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return s.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return s.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**Ne+this.y**Ne}mult(e){return s.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){let e=this.length;e!=Gt&&this.multTo(Ns/e)}rotate(e){return s.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),me.z)}setTo(e){this.x=e.x,this.y=e.y;let t=e;this.z=t.z?t.z:me.z}sub(e){return s.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}},H=class s extends mi{constructor(e,t){super(e,t,me.z)}static get origin(){return s.create(me.x,me.y)}static clone(e){return s.create(e.x,e.y)}static create(e,t){return new s(e,t)}};var Qf=Math.random,ch={nextFrame:s=>requestAnimationFrame(s),cancel:s=>cancelAnimationFrame(s)};function O(){return re(Qf(),0,1-Number.EPSILON)}function hh(s){return ch.nextFrame(s)}function dh(s){ch.cancel(s)}function re(s,e,t){return Math.min(Math.max(s,e),t)}function Zs(s,e,t,i){return Math.floor((s*t+e*i)/(t+i))}function ge(s){let e=De(s),t=0,i=gi(s);return e===i&&(i=t),O()*(e-i)+i}function v(s){return et(s)?s:ge(s)}function gi(s){return et(s)?s:s.min}function De(s){return et(s)?s:s.max}function R(s,e){if(s===e||e===void 0&&et(s))return s;let t=gi(s),i=De(s);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:R(t,i)}function j(s,e){let t=s.x-e.x,i=s.y-e.y,o=2;return{dx:t,dy:i,distance:Math.sqrt(t**o+i**o)}}function Z(s,e){return j(s,e).distance}function Xe(s){return s*Math.PI/180}function uh(s,e,t){if(et(s))return Xe(s);switch(s){case fe.top:return-Math.PI*.5;case fe.topRight:return-Math.PI*is;case fe.right:return Mc;case fe.bottomRight:return Math.PI*is;case fe.bottom:return Math.PI*.5;case fe.bottomLeft:return Math.PI*Sa;case fe.left:return Math.PI;case fe.topLeft:return-Math.PI*Sa;case fe.inside:return Math.atan2(t.y-e.y,t.x-e.x);case fe.outside:return Math.atan2(e.y-t.y,e.x-t.x);default:return O()*Ic}}function fh(s){let e=H.origin;return e.length=1,e.angle=s,e}function za(s,e,t,i){return H.create(s.x*(t-i)/(t+i)+e.x*ne*i/(t+i),s.y)}function ph(s){return{x:s.position?.x??O()*s.size.width,y:s.position?.y??O()*s.size.height}}function Ks(s){return s?s.endsWith("%")?parseFloat(s)/100:parseFloat(s):1}var Ot=function(s){return s.auto="auto",s.increase="increase",s.decrease="decrease",s.random="random",s}(Ot||{});var te=function(s){return s.increasing="increasing",s.decreasing="decreasing",s}(te||{});var ct=function(s){return s.none="none",s.max="max",s.min="min",s}(ct||{});var k=function(s){return s.bottom="bottom",s.left="left",s.right="right",s.top="top",s}(k||{});var _t=function(s){return s.precise="precise",s.percent="percent",s}(_t||{});var jt=function(s){return s.max="max",s.min="min",s.random="random",s}(jt||{});var Jf={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Ue(){return Jf}function ep(s){let e=new Map;return(...t)=>{let i=JSON.stringify(t);if(e.has(i))return e.get(i);let o=s(...t);return e.set(i,o),o}}function mh(s){let e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:o,rectOtherSide:n,velocity:r,factor:a}=s;return i.min<n.min||i.min>n.max||i.max<n.min||i.max>n.max||(t.max>=o.min&&t.max<=(o.max+o.min)*.5&&r>Ra||t.min<=o.max&&t.min>(o.max+o.min)*.5&&r<Ra)&&(e.velocity=r*-a,e.bounced=!0),e}function tp(s,e){let t=ae(e,i=>s.matches(i));return ke(t)?t.some(i=>i):t}function ht(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function ip(){return!ht()&&typeof matchMedia<"u"}function Qs(s){if(ip())return matchMedia(s)}function gh(s){if(!(ht()||typeof IntersectionObserver>"u"))return new IntersectionObserver(s)}function _h(s){if(!(ht()||typeof MutationObserver>"u"))return new MutationObserver(s)}function $(s,e){return s===e||ke(e)&&e.indexOf(s)>-1}function La(s,e){return p(this,null,function*(){try{yield document.fonts.load(`${e??"400"} 36px '${s??"Verdana"}'`)}catch{}})}function sp(s){return Math.floor(O()*s.length)}function _i(s,e,t=!0){return s[e!==void 0&&t?e%s.length:sp(s)]}function yi(s,e,t,i,o){return op(Tt(s,i??0),e,t,o)}function op(s,e,t,i){let o=!0;return(!i||i===k.bottom)&&(o=s.top<e.height+t.x),o&&(!i||i===k.left)&&(o=s.right>t.x),o&&(!i||i===k.right)&&(o=s.left<e.width+t.y),o&&(!i||i===k.top)&&(o=s.bottom>t.y),o}function Tt(s,e){return{bottom:s.y+e,left:s.x-e,right:s.x+e,top:s.y-e}}function Y(s,...e){for(let t of e){if(t==null)continue;if(!gt(t)){s=t;continue}let i=Array.isArray(t);i&&(gt(s)||!s||!Array.isArray(s))?s=[]:!i&&(gt(s)||!s||Array.isArray(s))&&(s={});for(let o in t){if(o==="__proto__")continue;let n=t,r=n[o],a=s;a[o]=gt(r)&&Array.isArray(r)?r.map(l=>Y(a[o],l)):Y(a[o],r)}}return s}function vi(s,e){return!!vh(e,t=>t.enable&&$(s,t.mode))}function xi(s,e,t){ae(e,i=>{let o=i.mode;i.enable&&$(s,o)&&np(i,t)})}function np(s,e){let t=s.selectors;ae(t,i=>{e(i,s)})}function Js(s,e){if(!(!e||!s))return vh(s,t=>tp(e,t.selectors))}function rs(s){return{position:s.getPosition(),radius:s.getRadius(),mass:s.getMass(),velocity:s.velocity,factor:H.create(v(s.options.bounce.horizontal.value),v(s.options.bounce.vertical.value))}}function eo(s,e){let{x:t,y:i}=s.velocity.sub(e.velocity),[o,n]=[s.position,e.position],{dx:r,dy:a}=j(n,o);if(t*r+i*a<0)return;let c=-Math.atan2(a,r),h=s.mass,d=e.mass,u=s.velocity.rotate(c),m=e.velocity.rotate(c),g=za(u,m,h,d),y=za(m,u,h,d),_=g.rotate(-c),x=y.rotate(-c);s.velocity.x=_.x*s.factor.x,s.velocity.y=_.y*s.factor.y,e.velocity.x=x.x*e.factor.x,e.velocity.y=x.y*e.factor.y}function yh(s,e){let t=s.getPosition(),i=s.getRadius(),o=Tt(t,i),n=s.options.bounce,r=mh({pSide:{min:o.left,max:o.right},pOtherSide:{min:o.top,max:o.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:s.velocity.x,factor:v(n.horizontal.value)});r.bounced&&(r.velocity!==void 0&&(s.velocity.x=r.velocity),r.position!==void 0&&(s.position.x=r.position));let a=mh({pSide:{min:o.top,max:o.bottom},pOtherSide:{min:o.left,max:o.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:s.velocity.y,factor:v(n.vertical.value)});a.bounced&&(a.velocity!==void 0&&(s.velocity.y=a.velocity),a.position!==void 0&&(s.position.y=a.position))}function ae(s,e){return ke(s)?s.map((i,o)=>e(i,o)):e(s,0)}function Re(s,e,t){return ke(s)?_i(s,e,t):s}function vh(s,e){return ke(s)?s.find((i,o)=>e(i,o)):e(s,0)?s:void 0}function to(s,e){let t=s.value,i=s.animation,o={delayTime:v(i.delay)*1e3,enable:i.enable,value:v(s.value)*e,max:De(t)*e,min:gi(t)*e,loops:0,maxLoops:v(i.count),time:0},n=1;if(i.enable){switch(o.decay=n-v(i.decay),i.mode){case Ot.increase:o.status=te.increasing;break;case Ot.decrease:o.status=te.decreasing;break;case Ot.random:o.status=O()>=.5?te.increasing:te.decreasing;break}let r=i.mode===Ot.auto;switch(i.startValue){case jt.min:o.value=o.min,r&&(o.status=te.increasing);break;case jt.max:o.value=o.max,r&&(o.status=te.decreasing);break;case jt.random:default:o.value=ge(o),r&&(o.status=O()>=.5?te.increasing:te.decreasing);break}}return o.initialValue=o.value,o}function rp(s,e){if(!(s.mode===_t.percent)){let o=s,{mode:n}=o;return Rl(o,["mode"])}return"x"in s?{x:s.x/100*e.width,y:s.y/100*e.height}:{width:s.width/100*e.width,height:s.height/100*e.height}}function io(s,e){return rp(s,e)}function ap(s,e,t,i,o){switch(e){case ct.max:t>=o&&s.destroy();break;case ct.min:t<=i&&s.destroy();break}}function wi(s,e,t,i,o){if(s.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;let h=(e.velocity??0)*o.factor,d=e.min,u=e.max,m=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=o.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case te.increasing:e.value>=u?(t?e.status=te.decreasing:e.value-=u,e.loops||(e.loops=0),e.loops++):e.value+=h;break;case te.decreasing:e.value<=d?(t?e.status=te.increasing:e.value+=u,e.loops||(e.loops=0),e.loops++):e.value-=h}e.velocity&&m!==1&&(e.velocity*=m),ap(s,i,e.value,d,u),s.destroyed||(e.value=re(e.value,d,u))}}function xh(s){let e=document.createElement("div").style;if(!s)return e;for(let t in s){let i=s[t];if(!Object.prototype.hasOwnProperty.call(s,t)||f(i))continue;let o=s.getPropertyValue?.(i);if(!o)continue;let n=s.getPropertyPriority?.(i);n?e.setProperty?.(i,o,n):e.setProperty?.(i,o)}return e}function lp(s){let e=document.createElement("div").style,t=10,i={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:s.toString(t),"z-index":s.toString(t),top:"0",left:"0"};for(let o in i){let n=i[o];e.setProperty(o,n)}return e}var wh=ep(lp);var Fa=function(s){return s.darken="darken",s.enlighten="enlighten",s}(Fa||{});function cp(s,e){if(e){for(let t of s.colorManagers.values())if(e.startsWith(t.stringPrefix))return t.parseString(e)}}function Ie(s,e,t,i=!0){if(!e)return;let o=je(e)?{value:e}:e;if(je(o.value))return bh(s,o.value,t,i);if(ke(o.value))return Ie(s,{value:_i(o.value,t,i)});for(let n of s.colorManagers.values()){let r=n.handleRangeColor(o);if(r)return r}}function bh(s,e,t,i=!0){if(!e)return;let o=je(e)?{value:e}:e;if(je(o.value))return o.value===Dt?Sh():hp(s,o.value);if(ke(o.value))return bh(s,{value:_i(o.value,t,i)});for(let n of s.colorManagers.values()){let r=n.handleColor(o);if(r)return r}}function yt(s,e,t,i=!0){let o=Ie(s,e,t,i);return o?Ba(o):void 0}function Ba(s){let e=s.r/ts,t=s.g/ts,i=s.b/ts,o=Math.max(e,t,i),n=Math.min(e,t,i),r={h:Ca,l:(o+n)*.5,s:Ws};return o!==n&&(r.s=r.l<.5?(o-n)/(o+n):(o-n)/(ne-o-n),r.h=e===o?(t-i)/(o-n):r.h=t===o?ne+(i-e)/(o-n):ne*ne+(e-t)/(o-n)),r.l*=Hs,r.s*=Vs,r.h*=Tc,r.h<Ca&&(r.h+=It),r.h>=It&&(r.h-=It),r}function hp(s,e){return cp(s,e)}function Yt(s){let e=(s.h%It+It)%It,t=Math.max(Ws,Math.min(Vs,s.s)),i=Math.max(ih,Math.min(Hs,s.l)),o=e/It,n=t/Vs,r=i/Hs;if(t===Ws){let g=Math.round(r*Et);return{r:g,g,b:g}}let a=(g,y,_)=>{if(_<0&&_++,_>1&&_--,_*Us<1)return g+(y-g)*Us*_;if(_*ne<1)return y;if(_*Xs<1*ne){let S=ne/Xs;return g+(y-g)*(S-_)*Us}return g},l=r<.5?r*(sh+n):r+n-r*n,c=ne*r-l,h=oh/Xs,d=Math.min(Et,Et*a(c,l,o+h)),u=Math.min(Et,Et*a(c,l,o)),m=Math.min(Et,Et*a(c,l,o-h));return{r:Math.round(d),g:Math.round(u),b:Math.round(m)}}function Ch(s){let e=Yt(s);return{a:s.a,b:e.b,g:e.g,r:e.r}}function Sh(s){let e=s??nh,t=ts+ns;return{b:Math.floor(ge(R(e,t))),g:Math.floor(ge(R(e,t))),r:Math.floor(ge(R(e,t)))}}function Me(s,e){return`rgba(${s.r}, ${s.g}, ${s.b}, ${e??ss})`}function Mt(s,e){return`hsla(${s.h}, ${s.s}%, ${s.l}%, ${e??ss})`}function as(s,e,t,i){let o=s,n=e;return o.r===void 0&&(o=Yt(s)),n.r===void 0&&(n=Yt(e)),{b:Zs(o.b,n.b,t,i),g:Zs(o.g,n.g,t,i),r:Zs(o.r,n.r,t,i)}}function ls(s,e,t){if(t===Dt)return Sh();if(t===es){let i=s.getFillColor()??s.getStrokeColor(),o=e?.getFillColor()??e?.getStrokeColor();if(i&&o&&e)return as(i,o,s.getRadius(),e.getRadius());{let n=i??o;if(n)return Yt(n)}}else return t}function so(s,e,t,i){let o=je(e)?e:e.value;return o===Dt?i?Ie(s,{value:o}):t?Dt:es:o===es?es:Ie(s,{value:o})}function Na(s){return s!==void 0?{h:s.h.value,s:s.s.value,l:s.l.value}:void 0}function oo(s,e,t){let i={h:{enable:!1,value:s.h},s:{enable:!1,value:s.s},l:{enable:!1,value:s.l}};return e&&($a(i.h,e.h,t),$a(i.s,e.s,t),$a(i.l,e.l,t)),i}function $a(s,e,t){s.enable=e.enable,s.enable?(s.velocity=v(e.speed)/100*t,s.decay=js-v(e.decay),s.status=te.increasing,s.loops=ah,s.maxLoops=v(e.count),s.time=lh,s.delayTime=v(e.delay)*1e3,e.sync||(s.velocity*=O(),s.value*=O()),s.initialValue=s.value,s.offset=R(e.offset)):s.velocity=rh}function Aa(s,e,t,i){if(!s||!s.enable||(s.maxLoops??0)>0&&(s.loops??0)>(s.maxLoops??0)||(s.time||(s.time=0),(s.delayTime??0)>0&&s.time<(s.delayTime??0)&&(s.time+=i.value),(s.delayTime??0)>0&&s.time<(s.delayTime??0)))return;let h=s.offset?ge(s.offset):0,d=(s.velocity??0)*i.factor+h*3.6,u=s.decay??1,m=De(e),g=gi(e);!t||s.status===te.increasing?(s.value+=d,s.value>m&&(s.loops||(s.loops=0),s.loops++,t?s.status=te.decreasing:s.value-=m)):(s.value-=d,s.value<0&&(s.loops||(s.loops=0),s.loops++,s.status=te.increasing)),s.velocity&&u!==1&&(s.velocity*=u),s.value=re(s.value,g,m)}function no(s,e){if(!s)return;let{h:t,s:i,l:o}=s,n={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};t&&Aa(t,n.h,!1,e),i&&Aa(i,n.s,!0,e),o&&Aa(o,n.l,!0,e)}function zt(s,e,t){s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.closePath()}function Rh(s,e,t){s.fillStyle=t??"rgba(0,0,0,0)",s.fillRect(me.x,me.y,e.width,e.height)}function Ph(s,e,t,i){t&&(s.globalAlpha=i,s.drawImage(t,me.x,me.y,e.width,e.height),s.globalAlpha=1)}function ro(s,e){s.clearRect(me.x,me.y,e.width,e.height)}function kh(s){let{container:e,context:t,particle:i,delta:o,colorStyles:n,backgroundMask:r,composite:a,radius:l,opacity:c,shadow:h,transform:d}=s,u=i.getPosition(),m=i.rotation+(i.pathRotation?i.velocity.angle:th),g={sin:Math.sin(m),cos:Math.cos(m)},y=!!m,_={a:g.cos*(d.a??Ji.a),b:y?g.sin*(d.b??ns):d.b??Ji.b,c:y?-g.sin*(d.c??ns):d.c??Ji.c,d:g.cos*(d.d??Ji.d)};t.setTransform(_.a,_.b,_.c,_.d,u.x,u.y),r&&(t.globalCompositeOperation=a);let x=i.shadowColor;h.enable&&x&&(t.shadowBlur=h.blur,t.shadowColor=Me(x),t.shadowOffsetX=h.offset.x,t.shadowOffsetY=h.offset.y),n.fill&&(t.fillStyle=n.fill);let w=i.strokeWidth??Ta;t.lineWidth=w,n.stroke&&(t.strokeStyle=n.stroke);let S={container:e,context:t,particle:i,radius:l,opacity:c,delta:o,transformData:_,strokeWidth:w};up(S),fp(S),dp(S),t.globalCompositeOperation="source-over",t.resetTransform()}function dp(s){let{container:e,context:t,particle:i,radius:o,opacity:n,delta:r,transformData:a}=s;if(!i.effect)return;let l=e.effectDrawers.get(i.effect);l&&l.draw({context:t,particle:i,radius:o,opacity:n,delta:r,pixelRatio:e.retina.pixelRatio,transformData:T({},a)})}function up(s){let{container:e,context:t,particle:i,radius:o,opacity:n,delta:r,strokeWidth:a,transformData:l}=s;if(!i.shape)return;let c=e.shapeDrawers.get(i.shape);c&&(t.beginPath(),c.draw({context:t,particle:i,radius:o,opacity:n,delta:r,pixelRatio:e.retina.pixelRatio,transformData:T({},l)}),i.shapeClose&&t.closePath(),a>Ta&&t.stroke(),i.shapeFill&&t.fill())}function fp(s){let{container:e,context:t,particle:i,radius:o,opacity:n,delta:r,transformData:a}=s;if(!i.shape)return;let l=e.shapeDrawers.get(i.shape);l?.afterDraw&&l.afterDraw({context:t,particle:i,radius:o,opacity:n,delta:r,pixelRatio:e.retina.pixelRatio,transformData:T({},a)})}function Dh(s,e,t){e.draw&&e.draw(s,t)}function Ih(s,e,t,i){e.drawParticle&&e.drawParticle(s,t,i)}function Eh(s,e,t){return{h:s.h,s:s.s,l:s.l+(e===Fa.darken?-Ma:Ma)*t}}function pp(s,e,t){let i=e[t];i!==void 0&&(s[t]=(s[t]??zc)*i)}function Oh(s,e,t=!1){if(!e)return;let i=s;if(!i)return;let o=i.style;if(!o)return;let n=new Set;for(let r in o)Object.prototype.hasOwnProperty.call(o,r)&&n.add(o[r]);for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.add(e[r]);for(let r of n){let a=e.getPropertyValue(r);a?o.setProperty(r,a,t?"important":""):o.removeProperty(r)}}var ao=class{constructor(e,t){this.container=e,this._applyPostDrawUpdaters=n=>{for(let r of this._postDrawUpdaters)r.afterDraw?.(n)},this._applyPreDrawUpdaters=(n,r,a,l,c,h)=>{for(let d of this._preDrawUpdaters){if(d.getColorStyles){let{fill:u,stroke:m}=d.getColorStyles(r,n,a,l);u&&(c.fill=u),m&&(c.stroke=m)}if(d.getTransformValues){let u=d.getTransformValues(r);for(let m in u)pp(h,u,m)}d.beforeDraw?.(r)}},this._applyResizePlugins=()=>{for(let n of this._resizePlugins)n.resize?.()},this._getPluginParticleColors=n=>{let r,a;for(let l of this._colorPlugins)if(!r&&l.particleFillColor&&(r=yt(this._engine,l.particleFillColor(n))),!a&&l.particleStrokeColor&&(a=yt(this._engine,l.particleStrokeColor(n))),r&&a)break;return[r,a]},this._initCover=()=>p(this,null,function*(){let n=this.container.actualOptions,r=n.backgroundMask.cover,a=r.color;if(a){let l=Ie(this._engine,a);if(l){let c=be(T({},l),{a:r.opacity});this._coverColorStyle=Me(c,c.a)}}else yield new Promise((l,c)=>{if(!r.image)return;let h=document.createElement("img");h.addEventListener("load",()=>{this._coverImage={image:h,opacity:r.opacity},l()}),h.addEventListener("error",d=>{c(d.error)}),h.src=r.image})}),this._initStyle=()=>{let n=this.element,r=this.container.actualOptions;if(n){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(let a in r.style){if(!a||!r.style||!Object.prototype.hasOwnProperty.call(r.style,a))continue;let l=r.style[a];l&&n.style.setProperty(a,l,"important")}}},this._initTrail=()=>p(this,null,function*(){let n=this.container.actualOptions,r=n.particles.move.trail,a=r.fill;if(!r.enable)return;let l=Ns/r.length;if(a.color){let c=Ie(this._engine,a.color);if(!c)return;this._trailFill={color:T({},c),opacity:l}}else yield new Promise((c,h)=>{if(!a.image)return;let d=document.createElement("img");d.addEventListener("load",()=>{this._trailFill={image:d,opacity:l},c()}),d.addEventListener("error",u=>{h(u.error)}),d.src=a.image})}),this._paintBase=n=>{this.draw(r=>Rh(r,this.size,n))},this._paintImage=(n,r)=>{this.draw(a=>Ph(a,this.size,n,r))},this._repairStyle=()=>{let n=this.element;n&&(this._safeMutationObserver(r=>r.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(r=>{!n||!(n instanceof Node)||r.observe(n,{attributes:!0})}))},this._resetOriginalStyle=()=>{let n=this.element,r=this._originalStyle;!n||!r||Oh(n,r,!0)},this._safeMutationObserver=n=>{this._mutationObserver&&n(this._mutationObserver)},this._setFullScreenStyle=()=>{let n=this.element;n&&Oh(n,wh(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=t,this._standardSize={height:0,width:0};let i=e.retina.pixelRatio,o=this._standardSize;this.size={height:o.height*i,width:o.width*i},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){let e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>Fc&&i?i.color?this._paintBase(Me(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(o=>{ro(o,this.size)})}destroy(){this.stop(),this._generated?(this.element?.remove(),this.element=void 0):this._resetOriginalStyle(),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){let t=this._context;if(t)return e(t)}drawAsync(e){let t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;let i=e.getRadius();if(i<=Lc)return;let o=e.getFillColor(),n=e.getStrokeColor()??o,[r,a]=this._getPluginParticleColors(e);r||(r=o),a||(a=n),!(!r&&!a)&&this.draw(l=>{let c=this.container,h=c.actualOptions,d=e.options.zIndex,u=$c-e.zIndexFactor,m=u**d.opacityRate,g=e.bubble.opacity??e.opacity?.value??ss,y=e.strokeOpacity??g,_=g*m,x=y*m,w={},S={fill:r?Mt(r,_):void 0};S.stroke=a?Mt(a,x):S.fill,this._applyPreDrawUpdaters(l,e,i,_,S,w),kh({container:c,context:l,particle:e,delta:t,colorStyles:S,backgroundMask:h.backgroundMask.enable,composite:h.backgroundMask.composite,radius:i*u**d.sizeRate,opacity:_,shadow:e.options.shadow,transform:w}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(o=>Ih(o,e,t,i))}drawPlugin(e,t){this.draw(i=>Dh(i,e,t))}init(){return p(this,null,function*(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=_h(e=>{for(let t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),yield this._initCover();try{yield this._initTrail()}catch(e){Ue().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()})}initBackground(){let e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;let o=i.style;if(o){if(t.color){let n=Ie(this._engine,t.color);o.backgroundColor=n?Me(n,t.opacity):""}else o.backgroundColor="";o.backgroundImage=t.image||"",o.backgroundPosition=t.position||"",o.backgroundRepeat=t.repeat||"",o.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(let e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(let e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&mt in e.dataset?e.dataset[mt]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=xh(this.element.style);let t=this._standardSize;t.height=e.offsetHeight,t.width=e.offsetWidth;let i=this.container.retina.pixelRatio,o=this.size;e.height=o.height=t.height*i,e.width=o.width=t.width*i,this._context=this.element.getContext("2d"),this._safeMutationObserver(n=>n.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(n=>{!this.element||!(this.element instanceof Node)||n.observe(this.element,{attributes:!0})})}paint(){let e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(ro(t,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;let e=this.container,t=e.canvas._standardSize,i={width:this.element.offsetWidth,height:this.element.offsetHeight},o=e.retina.pixelRatio,n={width:i.width*o,height:i.height*o};if(i.height===t.height&&i.width===t.width&&n.height===this.element.height&&n.width===this.element.width)return!1;let r=T({},t);t.height=i.height,t.width=i.width;let a=this.size;return this.element.width=a.width=n.width,this.element.height=a.height=n.height,this.container.started&&e.particles.setResizeFactor({width:t.width/r.width,height:t.height/r.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>ro(e,this.size))}windowResize(){return p(this,null,function*(){if(!this.element||!this.resize())return;let e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&(yield e.refresh())})}};var Xt=function(s){return s.canvas="canvas",s.parent="parent",s.window="window",s}(Xt||{});function qe(s,e,t,i,o){if(i){let n={passive:!0};qs(o)?n.capture=o:o!==void 0&&(n=o),s.addEventListener(e,t,n)}else{let n=o;s.removeEventListener(e,t,n)}}var lo=class{constructor(e){this.container=e,this._doMouseTouchClick=t=>{let i=this.container,o=i.actualOptions;if(this._canPush){let n=i.interactivity.mouse,r=n.position;if(!r)return;n.clickPosition=T({},r),n.clickTime=new Date().getTime();let a=o.interactivity.events.onClick;ae(a.mode,l=>this.container.handleClickMode(l))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),eh)},this._handleThemeChange=t=>{let i=t,o=this.container,n=o.options,r=n.defaultThemes,a=i.matches?r.dark:r.light;n.themes.find(c=>c.name===a)?.default.auto&&o.loadTheme(a)},this._handleVisibilityChange=()=>{let t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document?.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.animationStatus?t.play(!0):t.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);let t=()=>p(this,null,function*(){yield this.container.canvas?.windowResize()});this._resizeTimeout=setTimeout(()=>void t(),this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(t,i)=>{let o=this._handlers,n=this.container,r=n.actualOptions,a=n.interactivity.element;if(!a)return;let l=a,c=n.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(r.interactivity.events.onHover.enable||r.interactivity.events.onClick.enable)&&(qe(a,Be,o.mouseMove,i),qe(a,Sc,o.touchStart,i),qe(a,Rc,o.touchMove,i),r.interactivity.events.onClick.enable?(qe(a,ga,o.touchEndClick,i),qe(a,bc,o.mouseUp,i),qe(a,wc,o.mouseDown,i)):qe(a,ga,o.touchEnd,i),qe(a,t,o.mouseLeave,i),qe(a,Pc,o.touchCancel,i))},this._manageListeners=t=>{let i=this._handlers,o=this.container,n=o.actualOptions,r=n.interactivity.detectsOn,a=o.canvas.element,l=Qi;r===Xt.window?(o.interactivity.element=window,l=Cc):r===Xt.parent&&a?o.interactivity.element=a.parentElement??a.parentNode:o.interactivity.element=a,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(l,t),document&&qe(document,Dc,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{let i=this._handlers,o=Qs("(prefers-color-scheme: dark)");if(o){if(o.addEventListener!==void 0){qe(o,"change",i.themeChange,t);return}o.addListener!==void 0&&(t?o.addListener(i.oldThemeChange):o.removeListener(i.oldThemeChange))}},this._manageResize=t=>{let i=this._handlers,o=this.container;if(!o.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){qe(window,kc,i.resize,t);return}let r=o.canvas.element;this._resizeObserver&&!t?(r&&this._resizeObserver.unobserve(r),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&r&&(this._resizeObserver=new ResizeObserver(a=>{a.find(c=>c.target===r)&&this._handleWindowResize()}),this._resizeObserver.observe(r))},this._mouseDown=()=>{let{interactivity:t}=this.container;if(!t)return;let{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{let i=this.container,o=i.actualOptions,{mouse:n}=i.interactivity;n.inside=!0;let r=!1,a=n.position;if(!(!a||!o.interactivity.events.onClick.enable)){for(let l of i.plugins.values())if(l.clickPositionValid&&(r=l.clickPositionValid(a),r))break;r||this._doMouseTouchClick(t),n.clicking=!1}},this._mouseTouchFinish=()=>{let t=this.container.interactivity;if(!t)return;let i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=Qi,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{let i=this.container,o=i.actualOptions,n=i.interactivity,r=i.canvas.element;if(!n?.element)return;n.mouse.inside=!0;let a;if(t.type.startsWith("pointer")){this._canPush=!0;let c=t;if(n.element===window){if(r){let h=r.getBoundingClientRect();a={x:c.clientX-h.left,y:c.clientY-h.top}}}else if(o.interactivity.detectsOn===Xt.parent){let h=c.target,d=c.currentTarget;if(h&&d&&r){let u=h.getBoundingClientRect(),m=d.getBoundingClientRect(),g=r.getBoundingClientRect();a={x:c.offsetX+ne*u.left-(m.left+g.left),y:c.offsetY+ne*u.top-(m.top+g.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===r&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=t.type!=="touchmove",r){let c=t,h=c.touches[c.touches.length-Ys],d=r.getBoundingClientRect();a={x:h.clientX-(d.left??fi),y:h.clientY-(d.top??fi)}}let l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),n.mouse.position=a,n.status=Be},this._touchEnd=t=>{let i=t,o=Array.from(i.changedTouches);for(let n of o)this._touches.delete(n.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{let i=t,o=Array.from(i.changedTouches);for(let n of o)this._touches.delete(n.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{let i=t,o=Array.from(i.changedTouches);for(let n of o)this._touches.set(n.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}};var _e=function(s){return s.configAdded="configAdded",s.containerInit="containerInit",s.particlesSetup="particlesSetup",s.containerStarted="containerStarted",s.containerStopped="containerStopped",s.containerDestroyed="containerDestroyed",s.containerPaused="containerPaused",s.containerPlay="containerPlay",s.containerBuilt="containerBuilt",s.particleAdded="particleAdded",s.particleDestroyed="particleDestroyed",s.particleRemoved="particleRemoved",s}(_e||{});var V=class s{constructor(){this.value=""}static create(e,t){let i=new s;return i.load(e),t!==void 0&&(je(t)||ke(t)?i.load({value:t}):i.load(t)),i}load(e){f(e)||f(e.value)||(this.value=e.value)}};var co=class{constructor(){this.color=new V,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){f(e)||(e.color!==void 0&&(this.color=V.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}};var ho=class{constructor(){this.opacity=1}load(e){f(e)||(e.color!==void 0&&(this.color=V.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}};var uo=class{constructor(){this.composite="destination-out",this.cover=new ho,this.enable=!1}load(e){if(!f(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){let t=e.cover,i=je(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0||t.image!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}};var fo=class{constructor(){this.enable=!0,this.zIndex=0}load(e){f(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}};var po=class{constructor(){this.enable=!1,this.mode=[]}load(e){f(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}};var vt=function(s){return s.circle="circle",s.rectangle="rectangle",s}(vt||{});var cs=class{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=vt.circle}load(e){f(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}};var mo=class{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){f(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}};var go=class{constructor(){this.enable=!1,this.mode=[],this.parallax=new mo}load(e){f(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}};var _o=class{constructor(){this.delay=.5,this.enable=!0}load(e){f(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}};var yo=class{constructor(){this.onClick=new po,this.onDiv=new cs,this.onHover=new go,this.resize=new _o}load(e){if(f(e))return;this.onClick.load(e.onClick);let t=e.onDiv;t!==void 0&&(this.onDiv=ae(t,i=>{let o=new cs;return o.load(i),o})),this.onHover.load(e.onHover),this.resize.load(e.resize)}};var vo=class{constructor(e,t){this._engine=e,this._container=t}load(e){if(f(e)||!this._container)return;let t=this._engine.interactors.get(this._container);if(t)for(let i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}};var bi=class{constructor(e,t){this.detectsOn=Xt.window,this.events=new yo,this.modes=new vo(e,t)}load(e){if(f(e))return;let t=e.detectsOn;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}};var xo=class{load(e){f(e)||(e.position&&(this.position={x:e.position.x??Oa,y:e.position.y??Oa,mode:e.position.mode??_t.percent}),e.options&&(this.options=Y({},e.options)))}};var Lt=function(s){return s.screen="screen",s.canvas="canvas",s}(Lt||{});var wo=class{constructor(){this.maxWidth=1/0,this.options={},this.mode=Lt.canvas}load(e){f(e)||(f(e.maxWidth)||(this.maxWidth=e.maxWidth),f(e.mode)||(e.mode===Lt.screen?this.mode=Lt.screen:this.mode=Lt.canvas),f(e.options)||(this.options=Y({},e.options)))}};var xt=function(s){return s.any="any",s.dark="dark",s.light="light",s}(xt||{});var bo=class{constructor(){this.auto=!1,this.mode=xt.any,this.value=!1}load(e){f(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}};var Co=class{constructor(){this.name="",this.default=new bo}load(e){f(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Y({},e.options)))}};var Ut=class{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){f(e)||(e.count!==void 0&&(this.count=R(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=R(e.speed)),e.decay!==void 0&&(this.decay=R(e.decay)),e.delay!==void 0&&(this.delay=R(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}},Ft=class extends Ut{constructor(){super(),this.mode=Ot.auto,this.startValue=jt.random}load(e){super.load(e),!f(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}};var Ci=class extends Ut{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!f(e)&&e.offset!==void 0&&(this.offset=R(e.offset))}};var So=class{constructor(){this.h=new Ci,this.s=new Ci,this.l=new Ci}load(e){f(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}};var qt=class s extends V{constructor(){super(),this.animation=new So}static create(e,t){let i=new s;return i.load(e),t!==void 0&&(je(t)||ke(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),f(e))return;let t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}};var Zt=function(s){return s.absorb="absorb",s.bounce="bounce",s.destroy="destroy",s}(Zt||{});var Ro=class{constructor(){this.speed=2}load(e){f(e)||e.speed!==void 0&&(this.speed=e.speed)}};var Po=class{constructor(){this.enable=!0,this.retries=0}load(e){f(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}};var Ee=class{constructor(){this.value=0}load(e){f(e)||f(e.value)||(this.value=R(e.value))}},Va=class extends Ee{constructor(){super(),this.animation=new Ut}load(e){if(super.load(e),f(e))return;let t=e.animation;t!==void 0&&this.animation.load(t)}},Si=class extends Va{constructor(){super(),this.animation=new Ft}load(e){super.load(e)}};var hs=class extends Ee{constructor(){super(),this.value=1}};var Ri=class{constructor(){this.horizontal=new hs,this.vertical=new hs}load(e){f(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}};var ko=class{constructor(){this.absorb=new Ro,this.bounce=new Ri,this.enable=!1,this.maxSpeed=50,this.mode=Zt.bounce,this.overlap=new Po}load(e){f(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=R(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}};var Do=class{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(f(e))return;let t=e.options;if(t!==void 0)for(let i in t){let o=t[i];o&&(this.options[i]=Y(this.options[i]??{},o))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}};var Io=class{constructor(){this.offset=0,this.value=90}load(e){f(e)||(e.offset!==void 0&&(this.offset=R(e.offset)),e.value!==void 0&&(this.value=R(e.value)))}};var Eo=class{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!f(e)&&(e.distance!==void 0&&(this.distance=R(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){let t=e.rotate.x;t!==void 0&&(this.rotate.x=t);let i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}};var Oo=class{constructor(){this.x=50,this.y=50,this.mode=_t.percent,this.radius=0}load(e){f(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}};var To=class{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){f(e)||(e.acceleration!==void 0&&(this.acceleration=R(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=R(e.maxSpeed)))}};var Mo=class{constructor(){this.clamp=!0,this.delay=new Ee,this.enable=!1,this.options={}}load(e){f(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Y(this.options,e.options)))}};var zo=class{load(e){f(e)||(e.color!==void 0&&(this.color=V.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}};var Lo=class{constructor(){this.enable=!1,this.length=10,this.fill=new zo}load(e){f(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}};var A=function(s){return s.bounce="bounce",s.none="none",s.out="out",s.destroy="destroy",s.split="split",s}(A||{});var Fo=class{constructor(){this.default=A.out}load(e){f(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}};var $o=class{constructor(){this.acceleration=0,this.enable=!1}load(e){f(e)||(e.acceleration!==void 0&&(this.acceleration=R(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Y({},e.position)))}};var Ao=class{constructor(){this.angle=new Io,this.attract=new Eo,this.center=new Oo,this.decay=0,this.distance={},this.direction=fe.none,this.drift=0,this.enable=!1,this.gravity=new To,this.path=new Mo,this.outModes=new Fo,this.random=!1,this.size=!1,this.speed=2,this.spin=new $o,this.straight=!1,this.trail=new Lo,this.vibrate=!1,this.warp=!1}load(e){if(f(e))return;this.angle.load(et(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=R(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=et(e.distance)?{horizontal:e.distance,vertical:e.distance}:T({},e.distance)),e.drift!==void 0&&(this.drift=R(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);let t=e.outModes;t!==void 0&&(gt(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=R(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}};var Bo=class extends Ft{constructor(){super(),this.destroy=ct.none,this.speed=2}load(e){super.load(e),!f(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}};var No=class extends Si{constructor(){super(),this.animation=new Bo,this.value=1}load(e){if(f(e))return;super.load(e);let t=e.animation;t!==void 0&&this.animation.load(t)}};var Vo=class{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(f(e))return;e.enable!==void 0&&(this.enable=e.enable);let t=e.width;t!==void 0&&(this.width=t);let i=e.height;i!==void 0&&(this.height=i)}};var Pi=function(s){return s.delete="delete",s.wait="wait",s}(Pi||{});var Ho=class{constructor(){this.mode=Pi.delete,this.value=0}load(e){f(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}};var Wo=class{constructor(){this.density=new Vo,this.limit=new Ho,this.value=0}load(e){f(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}};var Go=class{constructor(){this.blur=0,this.color=new V,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){f(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=V.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}};var jo=class{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(f(e))return;let t=e.options;if(t!==void 0)for(let i in t){let o=t[i];o&&(this.options[i]=Y(this.options[i]??{},o))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}};var Yo=class extends Ft{constructor(){super(),this.destroy=ct.none,this.speed=5}load(e){super.load(e),!f(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}};var Xo=class extends Si{constructor(){super(),this.animation=new Yo,this.value=3}load(e){if(super.load(e),f(e))return;let t=e.animation;t!==void 0&&this.animation.load(t)}};var ds=class{constructor(){this.width=0}load(e){f(e)||(e.color!==void 0&&(this.color=qt.create(this.color,e.color)),e.width!==void 0&&(this.width=R(e.width)),e.opacity!==void 0&&(this.opacity=R(e.opacity)))}};var Uo=class extends Ee{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!f(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}};var qo=class{constructor(e,t){this._engine=e,this._container=t,this.bounce=new Ri,this.collisions=new ko,this.color=new qt,this.color.value="#fff",this.effect=new Do,this.groups={},this.move=new Ao,this.number=new Wo,this.opacity=new No,this.reduceDuplicates=!1,this.shadow=new Go,this.shape=new jo,this.size=new Xo,this.stroke=new ds,this.zIndex=new Uo}load(e){if(f(e))return;if(e.groups!==void 0)for(let i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;let o=e.groups[i];o!==void 0&&(this.groups[i]=Y(this.groups[i]??{},o))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(qt.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Y({},e.interactivity));let t=e.stroke;if(t&&(this.stroke=ae(t,i=>{let o=new ds;return o.load(i),o})),this._container){let i=this._engine.updaters.get(this._container);if(i)for(let n of i)n.loadOptions&&n.loadOptions(this,e);let o=this._engine.interactors.get(this._container);if(o)for(let n of o)n.loadParticlesOptions&&n.loadParticlesOptions(this,e)}}};function Ha(s,...e){for(let t of e)s.load(t)}function Zo(s,e,...t){let i=new qo(s,e);return Ha(i,...t),i}var Ko=class{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(o=>o.default.value&&o.default.mode===i)??this.themes.find(o=>o.default.value&&o.default.mode===xt.any),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new co,this.backgroundMask=new uo,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new fo,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new bi(e,t),this.manualParticles=[],this.particles=Zo(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){if(f(e))return;e.preset!==void 0&&ae(e.preset,r=>this._importPreset(r)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=R(e.delay));let t=e.detectRetina;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=R(e.duration));let i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);let o=e.fullScreen;qs(o)?this.fullScreen.enable=o:this.fullScreen.load(o),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(r=>{let a=new xo;return a.load(r),a})),this.particles.load(e.particles),this.style=Y(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);let n=this._engine.interactors.get(this._container);if(n)for(let r of n)r.loadOptions&&r.loadOptions(this,e);if(e.responsive!==void 0)for(let r of e.responsive){let a=new wo;a.load(r),this.responsive.push(a)}if(this.responsive.sort((r,a)=>r.maxWidth-a.maxWidth),e.themes!==void 0)for(let r of e.themes){let a=this.themes.find(l=>l.name===r.name);if(a)a.load(r);else{let l=new Co;l.load(r),this.themes.push(l)}}this.defaultThemes.dark=this._findDefaultTheme(xt.dark)?.name,this.defaultThemes.light=this._findDefaultTheme(xt.light)?.name}setResponsive(e,t,i){this.load(i);let o=this.responsive.find(n=>n.mode===Lt.screen&&screen?n.maxWidth>screen.availWidth:n.maxWidth*t>e);return this.load(o?.options),o?.maxWidth}setTheme(e){if(e){let t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{let t=Qs("(prefers-color-scheme: dark)"),i=t?.matches,o=this._findDefaultTheme(i?xt.dark:xt.light);o&&this.load(o.options)}}};var $t=function(s){return s.external="external",s.particles="particles",s}($t||{});var Qo=class{constructor(e,t){this.container=t,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(let t of this._externalInteractors)t.isEnabled()&&t.interact(e)}handleClickMode(e){for(let t of this._externalInteractors)t.handleClickMode?.(e)}init(){return p(this,null,function*(){this._interactors=yield this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(let e of this._interactors){switch(e.type){case $t.external:this._externalInteractors.push(e);break;case $t.particles:this._particleInteractors.push(e);break}e.init()}})}particlesInteract(e,t){for(let i of this._externalInteractors)i.clear(e,t);for(let i of this._particleInteractors)i.isEnabled(e)&&i.interact(e,t)}reset(e){for(let t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(let t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}};var Ve=function(s){return s.normal="normal",s.inside="inside",s.outside="outside",s}(Ve||{});function mp(s,e,t,i){let o=e.options[s];if(o)return Y({close:e.close,fill:e.fill},Re(o,t,i))}function gp(s,e,t,i){let o=e.options[s];if(o)return Y({close:e.close,fill:e.fill},Re(o,t,i))}function Th(s){if(!$(s.outMode,s.checkModes))return;let e=s.radius*ne;s.coord>s.maxCoord-e?s.setCb(-s.radius):s.coord<e&&s.setCb(s.radius)}var Jo=class{constructor(e,t){this.container=t,this._calcPosition=(i,o,n,r=va)=>{for(let g of i.plugins.values()){let y=g.particlePosition!==void 0?g.particlePosition(o,this):void 0;if(y)return mi.create(y.x,y.y,n)}let a=i.canvas.size,l=ph({size:a,position:o}),c=mi.create(l.x,l.y,n),h=this.getRadius(),d=this.options.move.outModes,u=g=>{Th({outMode:g,checkModes:[A.bounce],coord:c.x,maxCoord:i.canvas.size.width,setCb:y=>c.x+=y,radius:h})},m=g=>{Th({outMode:g,checkModes:[A.bounce],coord:c.y,maxCoord:i.canvas.size.height,setCb:y=>c.y+=y,radius:h})};return u(d.left??d.default),u(d.right??d.default),m(d.top??d.default),m(d.bottom??d.default),this._checkOverlap(c,r)?this._calcPosition(i,void 0,n,r+Yc):c},this._calculateVelocity=()=>{let i=fh(this.direction),o=i.copy(),n=this.options.move;if(n.direction===fe.inside||n.direction===fe.outside)return o;let r=Xe(v(n.angle.value)),a=Xe(v(n.angle.offset)),l={left:a-r*.5,right:a+r*.5};return n.straight||(o.angle+=ge(R(l.left,l.right))),n.random&&typeof n.speed=="number"&&(o.length*=O()),o},this._checkOverlap=(i,o=va)=>{let n=this.options.collisions,r=this.getRadius();if(!n.enable)return!1;let a=n.overlap;if(a.enable)return!1;let l=a.retries;if(l>=Xc&&o>l)throw new Error(`${ce} particle is overlapping and can't be placed`);return!!this.container.particles.find(c=>Z(i,c.position)<r+c.getRadius())},this._getRollColor=i=>{if(!i||!this.roll||!this.backColor&&!this.roll.alter)return i;let o=this.roll.horizontal&&this.roll.vertical?ne*ka:ka,n=this.roll.horizontal?Math.PI*.5:Gt;return Math.floor(((this.roll.angle??Gt)+n)/(Math.PI/o))%ne?this.backColor?this.backColor:this.roll.alter?Eh(i,this.roll.alter.type,this.roll.alter.value):i:i},this._initPosition=i=>{let o=this.container,n=v(this.options.zIndex.value);this.position=this._calcPosition(o,i,re(n,Uc,o.zLayers)),this.initialPosition=this.position.copy();let r=o.canvas.size;switch(this.moveCenter=be(T({},io(this.options.move.center,r)),{radius:this.options.move.center.radius??qc,mode:this.options.move.center.mode??_t.percent}),this.direction=uh(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case fe.inside:this.outType=Ve.inside;break;case fe.outside:this.outType=Ve.outside;break}this.offset=H.origin},this._engine=e}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;let t=this.container,i=this.pathGenerator;t.shapeDrawers.get(this.shape)?.particleDestroy?.(this);for(let n of t.plugins.values())n.particleDestroyed?.(this,e);for(let n of t.particles.updaters)n.particleDestroyed?.(this,e);i?.reset(this),this._engine.dispatchEvent(_e.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){let t=this.container,i=t.canvas;for(let o of t.plugins.values())i.drawParticlePlugin(o,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??Na(this.color))}getMass(){return this.getRadius()**Ne*Math.PI*.5}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??Na(this.strokeColor))}init(e,t,i,o){let n=this.container,r=this._engine;this.id=e,this.group=o,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=Ve.normal,this.ignoresResizeRatio=!0;let a=n.retina.pixelRatio,l=n.actualOptions,c=Zo(this._engine,n,l.particles),{reduceDuplicates:h}=c,d=c.effect.type,u=c.shape.type;this.effect=Re(d,this.id,h),this.shape=Re(u,this.id,h);let m=c.effect,g=c.shape;if(i){if(i.effect?.type){let B=i.effect.type,we=Re(B,this.id,h);we&&(this.effect=we,m.load(i.effect))}if(i.shape?.type){let B=i.shape.type,we=Re(B,this.id,h);we&&(this.shape=we,g.load(i.shape))}}if(this.effect===Dt){let B=[...this.container.effectDrawers.keys()];this.effect=B[Math.floor(Math.random()*B.length)]}if(this.shape===Dt){let B=[...this.container.shapeDrawers.keys()];this.shape=B[Math.floor(Math.random()*B.length)]}this.effectData=mp(this.effect,m,this.id,h),this.shapeData=gp(this.shape,g,this.id,h),c.load(i);let y=this.effectData;y&&c.load(y.particles);let _=this.shapeData;_&&c.load(_.particles);let x=new bi(r,n);x.load(n.actualOptions.interactivity),x.load(c.interactivity),this.interactivity=x,this.effectFill=y?.fill??c.effect.fill,this.effectClose=y?.close??c.effect.close,this.shapeFill=_?.fill??c.shape.fill,this.shapeClose=_?.close??c.shape.close,this.options=c;let w=this.options.move.path;this.pathDelay=v(w.delay.value)*1e3,w.generator&&(this.pathGenerator=this._engine.getPathGenerator(w.generator),this.pathGenerator&&n.addPath(w.generator,this.pathGenerator)&&this.pathGenerator.init(n)),n.retina.initParticle(this),this.size=to(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=js-v(this.options.move.decay);let S=n.particles;S.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/n.zLayers,this.sides=24;let b=n.effectDrawers.get(this.effect);b||(b=this._engine.getEffectDrawer(this.effect),b&&n.effectDrawers.set(this.effect,b)),b?.loadEffect&&b.loadEffect(this);let L=n.shapeDrawers.get(this.shape);L||(L=this._engine.getShapeDrawer(this.shape),L&&n.shapeDrawers.set(this.shape,L)),L?.loadShape&&L.loadShape(this);let Q=L?.getSidesCount;Q&&(this.sides=Q(this)),this.spawning=!1,this.shadowColor=Ie(this._engine,this.options.shadow.color);for(let B of S.updaters)B.init(this);for(let B of S.movers)B.init?.(this);b?.particleInit?.(n,this),L?.particleInit?.(n,this);for(let B of n.plugins.values())B.particleCreated?.(this)}isInsideCanvas(){let e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(let e of this.container.particles.updaters)e.reset?.(this)}};var en=class{constructor(e,t){this.position=e,this.particle=t}};var ki=function(s){return s.circle="circle",s.rectangle="rectangle",s}(ki||{});var tn=class{constructor(e,t,i){this.position={x:e,y:t},this.type=i}},K=class s extends tn{constructor(e,t,i){super(e,t,ki.circle),this.radius=i}contains(e){return Z(e,this.position)<=this.radius}intersects(e){let t=this.position,i=e.position,o={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},n=this.radius;if(e instanceof s||e.type===ki.circle){let r=e,a=n+r.radius,l=Math.sqrt(o.x**Ne+o.y**Ne);return a>l}else if(e instanceof xe||e.type===ki.rectangle){let r=e,{width:a,height:l}=r.size;return Math.pow(o.x-a,Ne)+Math.pow(o.y-l,Ne)<=n**Ne||o.x<=n+a&&o.y<=n+l||o.x<=a||o.y<=l}return!1}},xe=class s extends tn{constructor(e,t,i,o){super(e,t,ki.rectangle),this.size={height:o,width:i}}contains(e){let t=this.size.width,i=this.size.height,o=this.position;return e.x>=o.x&&e.x<=o.x+t&&e.y>=o.y&&e.y<=o.y+i}intersects(e){if(e instanceof K)return e.intersects(this);let t=this.size.width,i=this.size.height,o=this.position,n=e.position,r=e instanceof s?e.size:{width:0,height:0},a=r.width,l=r.height;return n.x<o.x+t&&n.x+a>o.x&&n.y<o.y+i&&n.y+l>o.y}};var us=class s{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{let{x:i,y:o}=this.rectangle.position,{width:n,height:r}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<Oc;l++){let c=l%ne;this._subs.push(new s(new xe(i+n*.5*c,o+r*.5*(Math.round(l*.5)-c),n*.5,r*.5),a))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t){let i=[];if(!e.intersects(this.rectangle))return[];for(let o of this._points)!e.contains(o.position)&&Z(e.position,o.position)>o.particle.getRadius()&&(!t||t(o.particle))||i.push(o.particle);if(this._divided)for(let o of this._subs)i.push(...o.query(e,t));return i}queryCircle(e,t,i){return this.query(new K(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new xe(e.x,e.y,t.width,t.height),i)}};var Mh=s=>{let{height:e,width:t}=s;return new xe(Da*t,Da*e,Ia*t,Ia*e)},sn=class{constructor(e,t){this._addToPool=(...o)=>{this._pool.push(...o)},this._applyDensity=(o,n,r)=>{let a=o.number;if(!o.number.density?.enable){r===void 0?this._limit=a.limit.value:a.limit&&this._groupLimits.set(r,a.limit.value);return}let l=this._initDensityFactor(a.density),c=a.value,h=a.limit.value>Ea?a.limit.value:c,d=Math.min(c,h)*l+n,u=Math.min(this.count,this.filter(m=>m.group===r).length);r===void 0?this._limit=a.limit.value*l:this._groupLimits.set(r,a.limit.value*l),u<d?this.push(Math.abs(d-u),void 0,o,r):u>d&&this.removeQuantity(u-d,r)},this._initDensityFactor=o=>{let n=this._container;if(!n.canvas.element||!o.enable)return Jc;let r=n.canvas.element,a=n.retina.pixelRatio;return r.width*r.height/(o.height*o.width*a**Ne)},this._pushParticle=(o,n,r,a)=>{try{let l=this._pool.pop();l||(l=new Jo(this._engine,this._container)),l.init(this._nextId,o,n,r);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent(_e.particleAdded,{container:this._container,data:{particle:l}}),l):void 0}catch(l){Ue().warning(`${ce} adding particle: ${l}`)}},this._removeParticle=(o,n,r)=>{let a=this._array[o];if(!a||a.group!==n)return!1;let l=this._zArray.indexOf(a);return this._array.splice(o,pi),this._zArray.splice(l,pi),a.destroy(r),this._engine.dispatchEvent(_e.particleRemoved,{container:this._container,data:{particle:a}}),this._addToPool(a),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new Qo(e,t),this._pluginsInitialized=!1;let i=t.canvas.size;this.quadTree=new us(Mh(i),xa),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){let e=this._container;e.actualOptions.manualParticles.forEach(i=>this.addParticle(i.position?io(i.position,e.canvas.size):void 0,i.options))}addParticle(e,t,i,o){let n=this._container.actualOptions.particles.number.limit.mode,r=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,a=this.count;if(r>Ea)switch(n){case Pi.delete:{let l=a+Zc-r;l>Kc&&this.removeQuantity(l);break}case Pi.wait:if(a>=r)return;break}return this._pushParticle(e,t,i,o)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){let t=this._container,i=t.canvas;i.clear(),this.update(e);for(let o of t.plugins.values())i.drawPlugin(o,e);for(let o of this._zArray)o.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){return p(this,null,function*(){let e=this._container,t=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,yield this.initPlugins();let i=!1;for(let o of e.plugins.values())if(i=o.particlesInitialization?.()??i,i)break;if(this.addManualParticles(),!i){let o=t.particles,n=o.groups;for(let r in n){let a=n[r];for(let l=this.count,c=0;c<a.number?.value&&l<o.number.value;l++,c++)this.addParticle(void 0,a,r)}for(let r=this.count;r<o.number.value;r++)this.addParticle()}})}initPlugins(){return p(this,null,function*(){if(this._pluginsInitialized)return;let e=this._container;this.movers=yield this._engine.getMovers(e,!0),this.updaters=yield this._engine.getUpdaters(e,!0),yield this._interactionManager.init();for(let t of e.pathGenerators.values())t.init(e)})}push(e,t,i,o){for(let n=0;n<e;n++)this.addParticle(t?.position,i,o)}redraw(){return p(this,null,function*(){this.clear(),yield this.init(),this.draw({value:0,factor:0})})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=Ec,i,o){if(e<os||e>this.count)return;let n=0;for(let r=e;n<t&&r<this.count;r++)this._removeParticle(r,i,o)&&(r--,n++)}removeQuantity(e,t){this.removeAt(os,e,t)}setDensity(){let e=this._container.actualOptions,t=e.particles.groups;for(let i in t)this._applyDensity(t[i],Qc,i);this._applyDensity(e.particles,e.manualParticles.length)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){let t=this._container,i=new Set;this.quadTree=new us(Mh(t.canvas.size),xa);for(let n of t.pathGenerators.values())n.update();for(let n of t.plugins.values())n.update?.(e);let o=this._resizeFactor;for(let n of this._array){o&&!n.ignoresResizeRatio&&(n.position.x*=o.width,n.position.y*=o.height,n.initialPosition.x*=o.width,n.initialPosition.y*=o.height),n.ignoresResizeRatio=!1,this._interactionManager.reset(n);for(let r of this._container.plugins.values()){if(n.destroyed)break;r.particleUpdate?.(n,e)}for(let r of this.movers)r.isEnabled(n)&&r.move(n,e);if(n.destroyed){i.add(n);continue}this.quadTree.insert(new en(n.getPosition(),n))}if(i.size){let n=r=>!i.has(r);this._array=this.filter(n),this._zArray=this._zArray.filter(n);for(let r of i)this._engine.dispatchEvent(_e.particleRemoved,{container:this._container,data:{particle:r}});this._addToPool(...i)}this._interactionManager.externalInteract(e);for(let n of this._array){for(let r of this.updaters)r.update(n,e);!n.destroyed&&!n.spawning&&this._interactionManager.particlesInteract(n,e)}if(delete this._resizeFactor,this._needsSort){let n=this._zArray;n.sort((r,a)=>a.position.z-r.position.z||r.id-a.id),this._lastZIndex=n[n.length-Ys].position.z,this._needsSort=!1}}};var on=class{constructor(e){this.container=e,this.pixelRatio=wa,this.reduceFactor=ba}init(){let e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||ht()?wa:window.devicePixelRatio,this.reduceFactor=ba;let i=this.pixelRatio,o=e.canvas;if(o.element){let a=o.element;o.size.width=a.offsetWidth*i,o.size.height=a.offsetHeight*i}let n=t.particles,r=n.move;this.maxSpeed=v(r.gravity.maxSpeed)*i,this.sizeAnimationSpeed=v(n.size.animation.speed)*i}initParticle(e){let t=e.options,i=this.pixelRatio,o=t.move,n=o.distance,r=e.retina;r.moveDrift=v(o.drift)*i,r.moveSpeed=v(o.speed)*i,r.sizeAnimationSpeed=v(t.size.animation.speed)*i;let a=r.maxDistance;a.horizontal=n.horizontal!==void 0?n.horizontal*i:void 0,a.vertical=n.vertical!==void 0?n.vertical*i:void 0,r.maxSpeed=v(o.gravity.maxSpeed)*i}};function ie(s){return s&&!s.destroyed}function _p(s,e=As,t=!1){return{value:s,factor:t?As/e:As*s/1e3}}function Di(s,e,...t){let i=new Ko(s,e);return Ha(i,...t),i}var nn=class{constructor(e,t,i){this._intersectionManager=o=>{if(!(!ie(this)||!this.actualOptions.pauseOnOutsideViewport))for(let n of o)n.target===this.interactivity.element&&(n.isIntersecting?this.play():this.pause())},this._nextFrame=o=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&o<this._lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??=o;let n=_p(o-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(n.value),this._lastFrameTime=o,n.value>1e3){this.draw(!1);return}if(this.particles.draw(n),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(n){Ue().error(`${ce} in animation loop`,n)}},this._engine=e,this.id=Symbol(t),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new on(this),this.canvas=new ao(this,this._engine),this.particles=new sn(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=Di(this._engine,this),this.actualOptions=Di(this._engine,this),this._eventListeners=new lo(this),this._intersectionObserver=gh(o=>this._intersectionManager(o)),this._engine.dispatchEvent(_e.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&ie(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!ie(this))return;let t=this.interactivity.element;if(!t)return;let i=(d,u,m)=>{if(!ie(this))return;let g=this.retina.pixelRatio,y={x:u.x*g,y:u.y*g},_=this.particles.quadTree.queryCircle(y,m*g);e(d,_)},o=d=>{if(!ie(this))return;let u=d,m={x:u.offsetX||u.clientX,y:u.offsetY||u.clientY};i(d,m,Ac)},n=()=>{ie(this)&&(c=!0,h=!1)},r=()=>{ie(this)&&(h=!0)},a=d=>{if(ie(this)){if(c&&!h){let u=d,m=u.touches[u.touches.length-Pa];if(!m&&(m=u.changedTouches[u.changedTouches.length-Pa],!m))return;let g=this.canvas.element,y=g?g.getBoundingClientRect():void 0,_={x:m.clientX-(y?y.left:fi),y:m.clientY-(y?y.top:fi)};i(d,_,Math.max(m.radiusX,m.radiusY))}c=!1,h=!1}},l=()=>{ie(this)&&(c=!1,h=!1)},c=!1,h=!1;this._clickHandlers.set("click",o),this._clickHandlers.set("touchstart",n),this._clickHandlers.set("touchmove",r),this._clickHandlers.set("touchend",a),this._clickHandlers.set("touchcancel",l);for(let[d,u]of this._clickHandlers)t.addEventListener(d,u)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!ie(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){if(ie(this)){for(let[e,t]of this._clickHandlers)this.interactivity.element?.removeEventListener(e,t);this._clickHandlers.clear()}}destroy(e=!0){if(ie(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(let t of this.effectDrawers.values())t.destroy?.(this);for(let t of this.shapeDrawers.values())t.destroy?.(this);for(let t of this.effectDrawers.keys())this.effectDrawers.delete(t);for(let t of this.shapeDrawers.keys())this.shapeDrawers.delete(t);if(this._engine.clearPlugins(this),this.destroyed=!0,e){let t=this._engine.items,i=t.findIndex(o=>o===this);i>=Bc&&t.splice(i,Gs)}this._engine.dispatchEvent(_e.containerDestroyed,{container:this})}}draw(e){if(!ie(this))return;let t=e,i=o=>{t&&(this._lastFrameTime=void 0,t=!1),this._nextFrame(o)};this._drawAnimationFrame=hh(o=>i(o))}export(i){return p(this,arguments,function*(e,t={}){for(let o of this.plugins.values()){if(!o.export)continue;let n=yield o.export(e,t);if(n.supported)return n.blob}Ue().error(`${ce} - Export plugin with type ${e} not found`)})}handleClickMode(e){if(ie(this)){this.particles.handleClickMode(e);for(let t of this.plugins.values())t.handleClickMode?.(e)}}init(){return p(this,null,function*(){if(!ie(this))return;let e=this._engine.getSupportedEffects();for(let c of e){let h=this._engine.getEffectDrawer(c);h&&this.effectDrawers.set(c,h)}let t=this._engine.getSupportedShapes();for(let c of t){let h=this._engine.getShapeDrawer(c);h&&this.shapeDrawers.set(c,h)}yield this.particles.initPlugins(),this._options=Di(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Di(this._engine,this,this._options);let i=yield this._engine.getAvailablePlugins(this);for(let[c,h]of i)this.plugins.set(c,h);this.retina.init(),yield this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();let{zLayers:o,duration:n,delay:r,fpsLimit:a,smooth:l}=this.actualOptions;this.zLayers=o,this._duration=v(n)*1e3,this._delay=v(r)*1e3,this._lifeTime=0,this.fpsLimit=a>Vc?a:Nc,this._smooth=l;for(let c of this.effectDrawers.values())yield c.init?.(this);for(let c of this.shapeDrawers.values())yield c.init?.(this);for(let c of this.plugins.values())yield c.init?.();this._engine.dispatchEvent(_e.containerInit,{container:this}),yield this.particles.init(),this.particles.setDensity();for(let c of this.plugins.values())c.particlesSetup?.();this._engine.dispatchEvent(_e.particlesSetup,{container:this})})}loadTheme(e){return p(this,null,function*(){ie(this)&&(this._currentTheme=e,yield this.refresh())})}pause(){if(ie(this)&&(this._drawAnimationFrame!==void 0&&(dh(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(let e of this.plugins.values())e.pause?.();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(_e.containerPaused,{container:this})}}play(e){if(!ie(this))return;let t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(let i of this.plugins.values())i.play&&i.play();this._engine.dispatchEvent(_e.containerPlay,{container:this}),this.draw(t??!1)}refresh(){return p(this,null,function*(){if(ie(this))return this.stop(),this.start()})}reset(e){return p(this,null,function*(){if(ie(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=Di(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Di(this._engine,this,this._options),this.refresh()})}start(){return p(this,null,function*(){!ie(this)||this.started||(yield this.init(),this.started=!0,yield new Promise(e=>{let t=()=>p(this,null,function*(){this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(let i of this.plugins.values())yield i.start?.();this._engine.dispatchEvent(_e.containerStarted,{container:this}),this.play(),e()});this._delayTimeout=setTimeout(()=>void t(),this._delay)}))})}stop(){if(!(!ie(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(let e of this.plugins.values())e.stop?.();for(let e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent(_e.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];let e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}};var rn=class{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){this._listeners.get(e)?.forEach(o=>o(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){let i=this._listeners.get(e);if(!i)return;let o=i.length,n=i.indexOf(t);n<os||(o===pi?this._listeners.delete(e):i.splice(n,pi))}};function Wa(s,e,t,i=!1){return p(this,null,function*(){let o=e.get(s);return(!o||i)&&(o=yield Promise.all([...t.values()].map(n=>n(s))),e.set(s,o)),o})}function yp(s){return p(this,null,function*(){let e=Re(s.url,s.index);if(!e)return s.fallback;let t=yield fetch(e);return t.ok?yield t.json():(Ue().error(`${ce} ${t.status} while retrieving config file`),s.fallback)})}var vp=s=>{let e;if(s instanceof HTMLCanvasElement||s.tagName.toLowerCase()===Bs)e=s,e.dataset[mt]||(e.dataset[mt]=ya);else{let i=s.getElementsByTagName(Bs);i.length?(e=i[Hc],e.dataset[mt]=ya):(e=document.createElement(Bs),e.dataset[mt]=_a,s.appendChild(e))}let t="100%";return e.style.width||(e.style.width=t),e.style.height||(e.style.height=t),e},xp=(s,e)=>{let t=e??document.getElementById(s);return t||(t=document.createElement("div"),t.id=s,t.dataset[mt]=_a,document.body.append(t),t)},an=class{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new rn,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){let e={};for(let[t,i]of this._configs)e[t]=i;return e}get items(){return this._domArray}get version(){return"3.8.1"}addColorManager(e,t=!0){return p(this,null,function*(){this.colorManagers.set(e.key,e),yield this.refresh(t)})}addConfig(e){let t=e.key??e.name??"default";this._configs.set(t,e),this._eventDispatcher.dispatchEvent(_e.configAdded,{data:{name:t,config:e}})}addEasing(e,t,i=!0){return p(this,null,function*(){this.getEasing(e)||(this.easingFunctions.set(e,t),yield this.refresh(i))})}addEffect(e,t,i=!0){return p(this,null,function*(){ae(e,o=>{this.getEffectDrawer(o)||this.effectDrawers.set(o,t)}),yield this.refresh(i)})}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}addInteractor(e,t,i=!0){return p(this,null,function*(){this._initializers.interactors.set(e,t),yield this.refresh(i)})}addMover(e,t,i=!0){return p(this,null,function*(){this._initializers.movers.set(e,t),yield this.refresh(i)})}addParticleUpdater(e,t,i=!0){return p(this,null,function*(){this._initializers.updaters.set(e,t),yield this.refresh(i)})}addPathGenerator(e,t,i=!0){return p(this,null,function*(){this.getPathGenerator(e)||this.pathGenerators.set(e,t),yield this.refresh(i)})}addPlugin(e,t=!0){return p(this,null,function*(){this.getPlugin(e.id)||this.plugins.push(e),yield this.refresh(t)})}addPreset(e,t,i=!1,o=!0){return p(this,null,function*(){(i||!this.getPreset(e))&&this.presets.set(e,t),yield this.refresh(o)})}addShape(e,t=!0){return p(this,null,function*(){for(let i of e.validTypes)this.getShapeDrawer(i)||this.shapeDrawers.set(i,e);yield this.refresh(t)})}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this.items}domItem(e){return this.item(e)}getAvailablePlugins(e){return p(this,null,function*(){let t=new Map;for(let i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,yield i.getPlugin(e));return t})}getEasing(e){return this.easingFunctions.get(e)??(t=>t)}getEffectDrawer(e){return this.effectDrawers.get(e)}getInteractors(e,t=!1){return p(this,null,function*(){return Wa(e,this.interactors,this._initializers.interactors,t)})}getMovers(e,t=!1){return p(this,null,function*(){return Wa(e,this.movers,this._initializers.movers,t)})}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}getUpdaters(e,t=!1){return p(this,null,function*(){return Wa(e,this.updaters,this._initializers.updaters,t)})}init(){this._initialized||(this._initialized=!0)}item(e){let{items:t}=this,i=t[e];if(!i||i.destroyed){t.splice(e,Gs);return}return i}load(e){return p(this,null,function*(){let t=e.id??e.element?.id??`tsparticles${Math.floor(O()*Wc)}`,{index:i,url:o}=e,n=o?yield yp({fallback:e.options,url:o,index:i}):e.options,r=Re(n,i),{items:a}=this,l=a.findIndex(u=>u.id.description===t),c=new nn(this,t,r);if(l>=Gc){let u=this.item(l),m=u?jc:Gt;u&&!u.destroyed&&u.destroy(!1),a.splice(l,m,c)}else a.push(c);let h=xp(t,e.element),d=vp(h);return c.canvas.loadCanvas(d),yield c.start(),c})}loadOptions(e,t){this.plugins.forEach(i=>i.loadOptions?.(e,t))}loadParticlesOptions(e,t,...i){let o=this.updaters.get(e);o&&o.forEach(n=>n.loadOptions?.(t,...i))}refresh(e=!0){return p(this,null,function*(){e&&(yield Promise.all(this.items.map(t=>t.refresh())))})}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}setOnClickHandler(e){let{items:t}=this;if(!t.length)throw new Error(`${ce} can only set click handlers after calling tsParticles.load()`);t.forEach(i=>i.addClickHandler(e))}};function zh(){let s=new an;return s.init(),s}var se=class{constructor(e){this.type=$t.external,this.container=e}};var At=class{constructor(e){this.type=$t.particles,this.container=e}};var He=function(s){return s.clockwise="clockwise",s.counterClockwise="counter-clockwise",s.random="random",s}(He||{});var wt=function(s){return s.easeInBack="ease-in-back",s.easeInCirc="ease-in-circ",s.easeInCubic="ease-in-cubic",s.easeInLinear="ease-in-linear",s.easeInQuad="ease-in-quad",s.easeInQuart="ease-in-quart",s.easeInQuint="ease-in-quint",s.easeInExpo="ease-in-expo",s.easeInSine="ease-in-sine",s.easeOutBack="ease-out-back",s.easeOutCirc="ease-out-circ",s.easeOutCubic="ease-out-cubic",s.easeOutLinear="ease-out-linear",s.easeOutQuad="ease-out-quad",s.easeOutQuart="ease-out-quart",s.easeOutQuint="ease-out-quint",s.easeOutExpo="ease-out-expo",s.easeOutSine="ease-out-sine",s.easeInOutBack="ease-in-out-back",s.easeInOutCirc="ease-in-out-circ",s.easeInOutCubic="ease-in-out-cubic",s.easeInOutLinear="ease-in-out-linear",s.easeInOutQuad="ease-in-out-quad",s.easeInOutQuart="ease-in-out-quart",s.easeInOutQuint="ease-in-out-quint",s.easeInOutExpo="ease-in-out-expo",s.easeInOutSine="ease-in-out-sine",s}(wt||{});var fs=zh();ht()||(window.tsParticles=fs);var Ga=.5,wp=2,Bt=0,tt=1,Lh=60,Fh=0,bp=.01,Cp=Math.PI*wp;function $h(s){let e=s.initialPosition,{dx:t,dy:i}=j(e,s.position),o=Math.abs(t),n=Math.abs(i),{maxDistance:r}=s.retina,a=r.horizontal,l=r.vertical;if(!a&&!l)return;let c=(a&&o>=a)??!1,h=(l&&n>=l)??!1;if((c||h)&&!s.misplaced)s.misplaced=!!a&&o>a||!!l&&n>l,a&&(s.velocity.x=s.velocity.y*Ga-s.velocity.x),l&&(s.velocity.y=s.velocity.x*Ga-s.velocity.y);else if((!a||o<a)&&(!l||n<l)&&s.misplaced)s.misplaced=!1;else if(s.misplaced){let d=s.position,u=s.velocity;a&&(d.x<e.x&&u.x<Bt||d.x>e.x&&u.x>Bt)&&(u.x*=-O()),l&&(d.y<e.y&&u.y<Bt||d.y>e.y&&u.y>Bt)&&(u.y*=-O())}}function Ah(s,e,t,i,o,n){Sp(s,n);let r=s.gravity,a=r?.enable&&r.inverse?-tt:tt;o&&t&&(s.velocity.x+=o*n.factor/(Lh*t)),r?.enable&&t&&(s.velocity.y+=a*(r.acceleration*n.factor)/(Lh*t));let l=s.moveDecay;s.velocity.multTo(l);let c=s.velocity.mult(t);r?.enable&&i>Bt&&(!r.inverse&&c.y>=Bt&&c.y>=i||r.inverse&&c.y<=Bt&&c.y<=-i)&&(c.y=a*i,t&&(s.velocity.y=c.y/t));let h=s.options.zIndex,d=(tt-s.zIndexFactor)**h.velocityRate;c.multTo(d);let{position:u}=s;u.addTo(c),e.vibrate&&(u.x+=Math.sin(u.x*Math.cos(u.y)),u.y+=Math.cos(u.y*Math.sin(u.x)))}function Bh(s,e){let t=s.container;if(!s.spin)return;let i=s.spin.direction===He.clockwise,o={x:i?Math.cos:Math.sin,y:i?Math.sin:Math.cos};s.position.x=s.spin.center.x+s.spin.radius*o.x(s.spin.angle),s.position.y=s.spin.center.y+s.spin.radius*o.y(s.spin.angle),s.spin.radius+=s.spin.acceleration;let n=Math.max(t.canvas.size.width,t.canvas.size.height),r=n*Ga;s.spin.radius>r?(s.spin.radius=r,s.spin.acceleration*=-tt):s.spin.radius<Fh&&(s.spin.radius=Fh,s.spin.acceleration*=-tt),s.spin.angle+=e*bp*(tt-s.spin.radius/n)}function Sp(s,e){let t=s.options,i=t.move.path;if(!i.enable)return;if(s.lastPathTime<=s.pathDelay){s.lastPathTime+=e.value;return}let n=s.pathGenerator?.generate(s,e);n&&s.velocity.addTo(n),i.clamp&&(s.velocity.x=re(s.velocity.x,-tt,tt),s.velocity.y=re(s.velocity.y,-tt,tt)),s.lastPathTime-=s.pathDelay}function Nh(s){return s.slow.inRange?s.slow.factor:tt}function Vh(s){let e=s.container,t=s.options,i=t.move.spin;if(!i.enable)return;let o=i.position??{x:50,y:50},n=.01,r={x:o.x*n*e.canvas.size.width,y:o.y*n*e.canvas.size.height},a=s.getPosition(),l=Z(a,r),c=v(i.acceleration);s.retina.spinAcceleration=c*e.retina.pixelRatio,s.spin={center:r,direction:s.velocity.x>=Bt?He.clockwise:He.counterClockwise,angle:O()*Cp,radius:l,acceleration:s.retina.spinAcceleration}}var Rp=2,Pp=1,kp=1,ln=class{init(e){let t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:v(i.acceleration),inverse:i.inverse},Vh(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){let i=e.options,o=i.move;if(!o.enable)return;let n=e.container,r=n.retina.pixelRatio;e.retina.moveSpeed??=v(o.speed)*r,e.retina.moveDrift??=v(e.options.move.drift)*r;let a=Nh(e),l=e.retina.moveSpeed*n.retina.reduceFactor,c=e.retina.moveDrift,h=De(i.size.value)*r,d=o.size?e.getRadius()/h:Pp,u=t.factor||kp,m=l*d*a*u/Rp,g=e.retina.maxSpeed??n.retina.maxSpeed;o.spin.enable?Bh(e,m):Ah(e,o,m,g,c,t),$h(e)}};function Hh(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addMover("base",()=>Promise.resolve(new ln),e)})}var Dp=Math.PI*2,Ip=0,Wh={x:0,y:0};function Gh(s){let{context:e,particle:t,radius:i}=s;t.circleRange||(t.circleRange={min:Ip,max:Dp});let o=t.circleRange;e.arc(Wh.x,Wh.y,i,o.min,o.max,!1)}var Ep=12,Op=360,jh=0,cn=class{constructor(){this.validTypes=["circle"]}draw(e){Gh(e)}getSidesCount(){return Ep}particleInit(e,t){let i=t.shapeData,o=i?.angle??{max:Op,min:jh};t.circleRange=gt(o)?{min:Xe(o.min),max:Xe(o.max)}:{min:jh,max:Xe(o)}}};function Yh(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addShape(new cn,e)})}var hn=class{constructor(e,t){this._container=e,this._engine=t}init(e){let t=yt(this._engine,e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=oo(t,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){let{h:t,s:i,l:o}=e.options.color.animation,{color:n}=e;return!e.destroyed&&!e.spawning&&(n?.h.value!==void 0&&t.enable||n?.s.value!==void 0&&i.enable||n?.l.value!==void 0&&o.enable)}update(e,t){no(e.color,t)}};function Xh(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addParticleUpdater("color",t=>Promise.resolve(new hn(t,s)),e)})}var Ii=function(s){return s[s.r=1]="r",s[s.g=2]="g",s[s.b=3]="b",s[s.a=4]="a",s}(Ii||{}),Tp=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,Mp=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,dn=16,zp=1,Lp=255,un=class{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!e?.startsWith(this.stringPrefix))return;let t=e.replace(Tp,(o,n,r,a,l)=>n+n+r+r+a+a+(l!==void 0?l+l:"")),i=Mp.exec(t);return i?{a:i[Ii.a]!==void 0?parseInt(i[Ii.a],dn)/Lp:zp,b:parseInt(i[Ii.b],dn),g:parseInt(i[Ii.g],dn),r:parseInt(i[Ii.r],dn)}:void 0}};function Uh(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addColorManager(new un,e)})}var ps=function(s){return s[s.h=1]="h",s[s.s=2]="s",s[s.l=3]="l",s[s.a=5]="a",s}(ps||{}),fn=class{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){let t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Yt(i)}handleRangeColor(e){let t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Yt({h:v(i.h),l:v(i.l),s:v(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;let t=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),o=4,n=1,r=10;return i?Ch({a:i.length>o?Ks(i[ps.a]):n,h:parseInt(i[ps.h],r),l:parseInt(i[ps.l],r),s:parseInt(i[ps.s],r)}):void 0}};function qh(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addColorManager(new fn,e)})}var pn=class{constructor(e){this.container=e}init(e){let t=e.options.opacity,i=1;e.opacity=to(t,i);let o=t.animation;o.enable&&(e.opacity.velocity=v(o.speed)/100*this.container.retina.reduceFactor,o.sync||(e.opacity.velocity*=O()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){!this.isEnabled(e)||!e.opacity||wi(e,e.opacity,!0,e.options.opacity.animation.destroy,t)}};function Zh(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addParticleUpdater("opacity",t=>Promise.resolve(new pn(t)),e)})}var mn=0,Ei=0;function Kh(s){if(s.outMode!==A.bounce&&s.outMode!==A.split||s.direction!==k.left&&s.direction!==k.right)return;s.bounds.right<Ei&&s.direction===k.left?s.particle.position.x=s.size+s.offset.x:s.bounds.left>s.canvasSize.width&&s.direction===k.right&&(s.particle.position.x=s.canvasSize.width-s.size-s.offset.x);let e=s.particle.velocity.x,t=!1;if(s.direction===k.right&&s.bounds.right>=s.canvasSize.width&&e>mn||s.direction===k.left&&s.bounds.left<=Ei&&e<mn){let o=v(s.particle.options.bounce.horizontal.value);s.particle.velocity.x*=-o,t=!0}if(!t)return;let i=s.offset.x+s.size;s.bounds.right>=s.canvasSize.width&&s.direction===k.right?s.particle.position.x=s.canvasSize.width-i:s.bounds.left<=Ei&&s.direction===k.left&&(s.particle.position.x=i),s.outMode===A.split&&s.particle.destroy()}function Qh(s){if(s.outMode!==A.bounce&&s.outMode!==A.split||s.direction!==k.bottom&&s.direction!==k.top)return;s.bounds.bottom<Ei&&s.direction===k.top?s.particle.position.y=s.size+s.offset.y:s.bounds.top>s.canvasSize.height&&s.direction===k.bottom&&(s.particle.position.y=s.canvasSize.height-s.size-s.offset.y);let e=s.particle.velocity.y,t=!1;if(s.direction===k.bottom&&s.bounds.bottom>=s.canvasSize.height&&e>mn||s.direction===k.top&&s.bounds.top<=Ei&&e<mn){let o=v(s.particle.options.bounce.vertical.value);s.particle.velocity.y*=-o,t=!0}if(!t)return;let i=s.offset.y+s.size;s.bounds.bottom>=s.canvasSize.height&&s.direction===k.bottom?s.particle.position.y=s.canvasSize.height-i:s.bounds.top<=Ei&&s.direction===k.top&&(s.particle.position.y=i),s.outMode===A.split&&s.particle.destroy()}var gn=class{constructor(e){this.container=e,this.modes=[A.bounce,A.split]}update(e,t,i,o){if(!this.modes.includes(o))return;let n=this.container,r=!1;for(let u of n.plugins.values())if(u.particleBounce!==void 0&&(r=u.particleBounce(e,i,t)),r)break;if(r)return;let a=e.getPosition(),l=e.offset,c=e.getRadius(),h=Tt(a,c),d=n.canvas.size;Kh({particle:e,outMode:o,direction:t,bounds:h,canvasSize:d,offset:l,size:c}),Qh({particle:e,outMode:o,direction:t,bounds:h,canvasSize:d,offset:l,size:c})}};var _n=0,yn=class{constructor(e){this.container=e,this.modes=[A.destroy]}update(e,t,i,o){if(!this.modes.includes(o))return;let n=this.container;switch(e.outType){case Ve.normal:case Ve.outside:if(yi(e.position,n.canvas.size,H.origin,e.getRadius(),t))return;break;case Ve.inside:{let{dx:r,dy:a}=j(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<_n&&r>e.moveCenter.radius||c<_n&&a>e.moveCenter.radius||l>=_n&&r<-e.moveCenter.radius||c>=_n&&a<-e.moveCenter.radius)return;break}}n.particles.remove(e,e.group,!0)}};var vn=0,xn=class{constructor(e){this.container=e,this.modes=[A.none]}update(e,t,i,o){if(!this.modes.includes(o)||((e.options.move.distance.horizontal&&(t===k.left||t===k.right))??(e.options.move.distance.vertical&&(t===k.top||t===k.bottom))))return;let n=e.options.move.gravity,r=this.container,a=r.canvas.size,l=e.getRadius();if(n.enable){let c=e.position;(!n.inverse&&c.y>a.height+l&&t===k.bottom||n.inverse&&c.y<-l&&t===k.top)&&r.particles.remove(e)}else{if(e.velocity.y>vn&&e.position.y<=a.height+l||e.velocity.y<vn&&e.position.y>=-l||e.velocity.x>vn&&e.position.x<=a.width+l||e.velocity.x<vn&&e.position.x>=-l)return;yi(e.position,r.canvas.size,H.origin,l,t)||r.particles.remove(e)}}};var wn=0,bn=0,Cn=class{constructor(e){this.container=e,this.modes=[A.out]}update(e,t,i,o){if(!this.modes.includes(o))return;let n=this.container;switch(e.outType){case Ve.inside:{let{x:r,y:a}=e.velocity,l=H.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(H.create(e.moveCenter));let{dx:c,dy:h}=j(e.position,l);if(r<=wn&&c>=bn||a<=wn&&h>=bn||r>=wn&&c<=bn||a>=wn&&h<=bn)return;e.position.x=Math.floor(ge({min:0,max:n.canvas.size.width})),e.position.y=Math.floor(ge({min:0,max:n.canvas.size.height}));let{dx:d,dy:u}=j(e.position,e.moveCenter);e.direction=Math.atan2(-u,-d),e.velocity.angle=e.direction;break}default:{if(yi(e.position,n.canvas.size,H.origin,e.getRadius(),t))return;switch(e.outType){case Ve.outside:{e.position.x=Math.floor(ge({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(ge({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;let{dx:r,dy:a}=j(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,r),e.velocity.angle=e.direction);break}case Ve.normal:{let r=e.options.move.warp,a=n.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),h=Tt(e.position,c);t===k.right&&h.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,r||(e.position.y=O()*a.height,e.initialPosition.y=e.position.y)):t===k.left&&h.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,r||(e.position.y=O()*a.height,e.initialPosition.y=e.position.y)),t===k.bottom&&h.top>a.height+e.offset.y?(r||(e.position.x=O()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):t===k.top&&h.bottom<-e.offset.y&&(r||(e.position.x=O()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}};var Fp=(s,e)=>s.default===e||s.bottom===e||s.left===e||s.right===e||s.top===e,Sn=class{constructor(e){this._addUpdaterIfMissing=(t,i,o)=>{let n=t.options.move.outModes;!this.updaters.has(i)&&Fp(n,i)&&this.updaters.set(i,o(this.container))},this._updateOutMode=(t,i,o,n)=>{for(let r of this.updaters.values())r.update(t,n,i,o)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,A.bounce,t=>new gn(t)),this._addUpdaterIfMissing(e,A.out,t=>new Cn(t)),this._addUpdaterIfMissing(e,A.destroy,t=>new yn(t)),this._addUpdaterIfMissing(e,A.none,t=>new xn(t))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){let i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,k.bottom),this._updateOutMode(e,t,i.left??i.default,k.left),this._updateOutMode(e,t,i.right??i.default,k.right),this._updateOutMode(e,t,i.top??i.default,k.top)}};function Jh(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addParticleUpdater("outModes",t=>Promise.resolve(new Sn(t)),e)})}var ms=function(s){return s[s.r=1]="r",s[s.g=2]="g",s[s.b=3]="b",s[s.a=5]="a",s}(ms||{}),Rn=class{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){let t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){let t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:v(i.r),g:v(i.g),b:v(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;let t=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),o=10;return i?{a:i.length>4?Ks(i[ms.a]):1,b:parseInt(i[ms.b],o),g:parseInt(i[ms.g],o),r:parseInt(i[ms.r],o)}:void 0}};function ed(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addColorManager(new Rn,e)})}var Kt=0,Pn=class{init(e){let t=e.container,i=e.options.size,o=i.animation;o.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/100*t.retina.reduceFactor,o.sync||(e.size.velocity*=O()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??Kt)<=Kt||(e.size.maxLoops??Kt)>Kt&&(e.size.loops??Kt)<(e.size.maxLoops??Kt))}reset(e){e.size.loops=Kt}update(e,t){this.isEnabled(e)&&wi(e,e.size,!0,e.options.size.animation.destroy,t)}};function td(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addParticleUpdater("size",()=>Promise.resolve(new Pn),e)})}function id(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield Uh(s,!1),yield qh(s,!1),yield ed(s,!1),yield Hh(s,!1),yield Yh(s,!1),yield Xh(s,!1),yield Zh(s,!1),yield Jh(s,!1),yield td(s,!1),yield s.refresh(e)})}function sd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addEasing(wt.easeInQuad,t=>t**2,!1),yield s.addEasing(wt.easeOutQuad,t=>1-(1-t)**2,!1),yield s.addEasing(wt.easeInOutQuad,t=>t<.5?2*t**2:1-(-2*t+2)**2/2,!1),yield s.refresh(e)})}function od(s,e){let{context:t,opacity:i}=s,o=.5,n=t.globalAlpha;if(!e)return;let r=e.width,a=r*o;t.globalAlpha=i,t.drawImage(e,-a,-a,r,r),t.globalAlpha=n}var ja='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',nd=0,kn=class{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(let[e,t]of this._emojiShapeDict)t instanceof ImageBitmap&&t?.close(),this._emojiShapeDict.delete(e)}draw(e){let t=e.particle.emojiDataKey;if(!t)return;let i=this._emojiShapeDict.get(t);i&&od(e,i)}init(e){return p(this,null,function*(){let t=e.actualOptions,{validTypes:i}=this;if(!i.find(r=>$(r,t.particles.shape.type)))return;let o=[La(ja)],n=i.map(r=>t.particles.shape.options[r]).find(r=>!!r);n&&ae(n,r=>{r.font&&o.push(La(r.font))}),yield Promise.all(o)})}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,t){let o=t.shapeData;if(!o?.value)return;let n=Re(o.value,t.randomIndexData);if(!n)return;let r=typeof n=="string"?{font:o.font??ja,padding:o.padding??nd,value:n}:T(T({font:ja,padding:nd},o),n),a=r.font,l=r.value,c=`${l}_${a}`;if(this._emojiShapeDict.has(c)){t.emojiDataKey=c;return}let h=r.padding*2,d=De(t.size.value),u=d+h,m=u*2,g;if(typeof OffscreenCanvas<"u"){let y=new OffscreenCanvas(m,m),_=y.getContext("2d");if(!_)return;_.font=`400 ${d*2}px ${a}`,_.textBaseline="middle",_.textAlign="center",_.fillText(l,u,u),g=y.transferToImageBitmap()}else{let y=document.createElement("canvas");y.width=m,y.height=m;let _=y.getContext("2d");if(!_)return;_.font=`400 ${d*2}px ${a}`,_.textBaseline="middle",_.textAlign="center",_.fillText(l,u,u),g=y}this._emojiShapeDict.set(c,g),t.emojiDataKey=c}};function rd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addShape(new kn,e)})}var $p=1,Ap=1,ad=0;function ld(s,e,t,i,o,n){let r=e.actualOptions.interactivity.modes.attract;if(!r)return;let a=e.particles.quadTree.query(o,n);for(let l of a){let{dx:c,dy:h,distance:d}=j(l.position,t),u=r.speed*r.factor,m=re(s.getEasing(r.easing)(Ap-d/i)*u,$p,r.maxSpeed),g=H.create(d?c/d*m:u,d?h/d*m:u);l.position.subFrom(g)}}function cd(s,e,t){e.attract||(e.attract={particles:[]});let{attract:i}=e;if(i.finish||(i.count||(i.count=0),i.count++,i.count===e.particles.count&&(i.finish=!0)),i.clicking){let o=e.interactivity.mouse.clickPosition,n=e.retina.attractModeDistance;if(!n||n<ad||!o)return;ld(s,e,o,n,new K(o.x,o.y,n),r=>t(r))}else i.clicking===!1&&(i.particles=[])}function hd(s,e,t){let i=e.interactivity.mouse.position,o=e.retina.attractModeDistance;!o||o<ad||!i||ld(s,e,i,o,new K(i.x,i.y,o),n=>t(n))}var Dn=class{constructor(){this.distance=200,this.duration=.4,this.easing=wt.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){f(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}};var gs="attract",In=class extends se{constructor(e,t){super(t),this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{let o=this.container.actualOptions,n=o.interactivity.modes.attract;if(!(!n||i!==gs)){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(let r of t.attract.particles)this.isEnabled(r)&&r.velocity.setTo(r.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},n.duration*1e3)}}}clear(){}init(){let e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}interact(){let e=this.container,t=e.actualOptions,i=e.interactivity.status===Be,o=t.interactivity.events,{enable:n,mode:r}=o.onHover,{enable:a,mode:l}=o.onClick;i&&n&&$(gs,r)?hd(this._engine,this.container,c=>this.isEnabled(c)):a&&$(gs,l)&&cd(this._engine,this.container,c=>this.isEnabled(c))}isEnabled(e){let t=this.container,i=t.actualOptions,o=t.interactivity.mouse,n=(e?.interactivity??i.interactivity).events;if((!o.position||!n.onHover.enable)&&(!o.clickPosition||!n.onClick.enable))return!1;let r=n.onHover.mode,a=n.onClick.mode;return $(gs,r)||$(gs,a)}loadModeOptions(e,...t){e.attract||(e.attract=new Dn);for(let i of t)e.attract.load(i?.attract)}reset(){}};function dd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalAttract",t=>Promise.resolve(new In(s,t)),e)})}var Bp=2,En=.5,Np=Math.PI*En,ud=2,fd=10,Vp=0;function pd(s,e,t,i,o){let n=s.particles.quadTree.query(i,o);for(let r of n)i instanceof K?eo(rs(r),{position:e,radius:t,mass:t**Bp*Np,velocity:H.origin,factor:H.origin}):i instanceof xe&&yh(r,Tt(e,t))}function Hp(s,e,t,i){let o=document.querySelectorAll(e);o.length&&o.forEach(n=>{let r=n,a=s.retina.pixelRatio,l={x:(r.offsetLeft+r.offsetWidth*En)*a,y:(r.offsetTop+r.offsetHeight*En)*a},c=r.offsetWidth*En*a,h=fd*a,d=t.type===vt.circle?new K(l.x,l.y,c+h):new xe(r.offsetLeft*a-h,r.offsetTop*a-h,r.offsetWidth*a+h*ud,r.offsetHeight*a+h*ud);i(l,c,d)})}function md(s,e,t,i){xi(t,e,(o,n)=>Hp(s,o,n,(r,a,l)=>pd(s,r,a,l,i)))}function gd(s,e){let t=s.retina.pixelRatio,i=fd*t,o=s.interactivity.mouse.position,n=s.retina.bounceModeDistance;!n||n<Vp||!o||pd(s,o,n,new K(o.x,o.y,n+i),e)}var On=class{constructor(){this.distance=200}load(e){f(e)||e.distance!==void 0&&(this.distance=e.distance)}};var Tn="bounce",Mn=class extends se{constructor(e){super(e)}clear(){}init(){let e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){let e=this.container,t=e.actualOptions,i=t.interactivity.events,o=e.interactivity.status===Be,n=i.onHover.enable,r=i.onHover.mode,a=i.onDiv;o&&n&&$(Tn,r)?gd(this.container,l=>this.isEnabled(l)):md(this.container,a,Tn,l=>this.isEnabled(l))}isEnabled(e){let t=this.container,i=t.actualOptions,o=t.interactivity.mouse,n=(e?.interactivity??i.interactivity).events,r=n.onDiv;return!!o.position&&n.onHover.enable&&$(Tn,n.onHover.mode)||vi(Tn,r)}loadModeOptions(e,...t){e.bounce||(e.bounce=new On);for(let i of t)e.bounce.load(i?.bounce)}reset(){}};function _d(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalBounce",t=>Promise.resolve(new Mn(t)),e)})}var Oi=class{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!f(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){let t=ke(this.color)?void 0:this.color;this.color=ae(e.color,i=>V.create(t,i))}e.size!==void 0&&(this.size=e.size)}}};var zn=class extends Oi{constructor(){super(),this.selectors=[]}load(e){super.load(e),!f(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}};var Ln=class extends Oi{load(e){super.load(e),!f(e)&&(this.divs=ae(e.divs,t=>{let i=new zn;return i.load(t),i}))}};var dt=function(s){return s.color="color",s.opacity="opacity",s.size="size",s}(dt||{});function Ya(s,e,t,i){if(e>=t){let o=s+(e-t)*i;return re(o,s,e)}else if(e<t){let o=s-(t-e)*i;return re(o,e,s)}}var Qt="bubble",Xa=0,Wp=0,Gp=2,yd=1,vd=1,jp=0,Yp=0,Ua=.5,qa=1,Fn=class extends se{constructor(e,t){super(e),this._clickBubble=()=>{let i=this.container,o=i.actualOptions,n=i.interactivity.mouse.clickPosition,r=o.interactivity.modes.bubble;if(!r||!n)return;i.bubble||(i.bubble={});let a=i.retina.bubbleModeDistance;if(!a||a<Xa)return;let l=i.particles.quadTree.queryCircle(n,a,h=>this.isEnabled(h)),{bubble:c}=i;for(let h of l){if(!c.clicking)continue;h.bubble.inRange=!c.durationEnd;let d=h.getPosition(),u=Z(d,n),m=(new Date().getTime()-(i.interactivity.mouse.clickTime??Wp))/1e3;m>r.duration&&(c.durationEnd=!0),m>r.duration*Gp&&(c.clicking=!1,c.durationEnd=!1);let g={bubbleObj:{optValue:i.retina.bubbleModeSize,value:h.bubble.radius},particlesObj:{optValue:De(h.options.size.value)*i.retina.pixelRatio,value:h.size.value},type:dt.size};this._process(h,u,m,g);let y={bubbleObj:{optValue:r.opacity,value:h.bubble.opacity},particlesObj:{optValue:De(h.options.opacity.value),value:h.opacity?.value??yd},type:dt.opacity};this._process(h,u,m,y),!c.durationEnd&&u<=a?this._hoverBubbleColor(h,u):delete h.bubble.color}},this._hoverBubble=()=>{let i=this.container,o=i.interactivity.mouse.position,n=i.retina.bubbleModeDistance;if(!n||n<Xa||!o)return;let r=i.particles.quadTree.queryCircle(o,n,a=>this.isEnabled(a));for(let a of r){a.bubble.inRange=!0;let l=a.getPosition(),c=Z(l,o),h=vd-c/n;c<=n?h>=Yp&&i.interactivity.status===Be&&(this._hoverBubbleSize(a,h),this._hoverBubbleOpacity(a,h),this._hoverBubbleColor(a,h)):this.reset(a),i.interactivity.status===Qi&&this.reset(a)}},this._hoverBubbleColor=(i,o,n)=>{let r=this.container.actualOptions,a=n??r.interactivity.modes.bubble;if(a){if(!i.bubble.finalColor){let l=a.color;if(!l)return;let c=Re(l);i.bubble.finalColor=yt(this._engine,c)}if(i.bubble.finalColor)if(a.mix){i.bubble.color=void 0;let l=i.getFillColor();i.bubble.color=l?Ba(as(l,i.bubble.finalColor,vd-o,o)):i.bubble.finalColor}else i.bubble.color=i.bubble.finalColor}},this._hoverBubbleOpacity=(i,o,n)=>{let r=this.container,a=r.actualOptions,l=n?.opacity??a.interactivity.modes.bubble?.opacity;if(!l)return;let c=i.options.opacity.value,h=i.opacity?.value??yd,d=Ya(h,l,De(c),o);d!==void 0&&(i.bubble.opacity=d)},this._hoverBubbleSize=(i,o,n)=>{let r=this.container,a=n?.size?n.size*r.retina.pixelRatio:r.retina.bubbleModeSize;if(a===void 0)return;let l=De(i.options.size.value)*r.retina.pixelRatio,c=i.size.value,h=Ya(c,a,l,o);h!==void 0&&(i.bubble.radius=h)},this._process=(i,o,n,r)=>{let a=this.container,l=r.bubbleObj.optValue,c=a.actualOptions,h=c.interactivity.modes.bubble;if(!h||l===void 0)return;let d=h.duration,u=a.retina.bubbleModeDistance,m=r.particlesObj.optValue,g=r.bubbleObj.value,y=r.particlesObj.value??jp,_=r.type;if(!(!u||u<Xa||l===m))if(a.bubble||(a.bubble={}),a.bubble.durationEnd)g&&(_===dt.size&&delete i.bubble.radius,_===dt.opacity&&delete i.bubble.opacity);else if(o<=u){if((g??y)!==l){let w=y-n*(y-l)/d;_===dt.size&&(i.bubble.radius=w),_===dt.opacity&&(i.bubble.opacity=w)}}else _===dt.size&&delete i.bubble.radius,_===dt.opacity&&delete i.bubble.opacity},this._singleSelectorHover=(i,o,n)=>{let r=this.container,a=document.querySelectorAll(o),l=r.actualOptions.interactivity.modes.bubble;!l||!a.length||a.forEach(c=>{let h=c,d=r.retina.pixelRatio,u={x:(h.offsetLeft+h.offsetWidth*Ua)*d,y:(h.offsetTop+h.offsetHeight*Ua)*d},m=h.offsetWidth*Ua*d,g=n.type===vt.circle?new K(u.x,u.y,m):new xe(h.offsetLeft*d,h.offsetTop*d,h.offsetWidth*d,h.offsetHeight*d),y=r.particles.quadTree.query(g,_=>this.isEnabled(_));for(let _ of y){if(!g.contains(_.getPosition()))continue;_.bubble.inRange=!0;let x=l.divs,w=Js(x,h);(!_.bubble.div||_.bubble.div!==h)&&(this.clear(_,i,!0),_.bubble.div=h),this._hoverBubbleSize(_,qa,w),this._hoverBubbleOpacity(_,qa,w),this._hoverBubbleColor(_,qa,w)}})},this._engine=t,e.bubble||(e.bubble={}),this.handleClickMode=i=>{i===Qt&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){let e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){let t=this.container.actualOptions,i=t.interactivity.events,o=i.onHover,n=i.onClick,r=o.enable,a=o.mode,l=n.enable,c=n.mode,h=i.onDiv;r&&$(Qt,a)?this._hoverBubble():l&&$(Qt,c)?this._clickBubble():xi(Qt,h,(d,u)=>this._singleSelectorHover(e,d,u))}isEnabled(e){let t=this.container,i=t.actualOptions,o=t.interactivity.mouse,n=(e?.interactivity??i.interactivity).events,{onClick:r,onDiv:a,onHover:l}=n,c=vi(Qt,a);return c||l.enable&&o.position||r.enable&&o.clickPosition?$(Qt,l.mode)||$(Qt,r.mode)||c:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new Ln);for(let i of t)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}};function xd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalBubble",t=>Promise.resolve(new Fn(t,s)),e)})}var $n=class{constructor(){this.opacity=.5}load(e){f(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}};var An=class{constructor(){this.distance=80,this.links=new $n,this.radius=60}load(e){f(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}};var wd=0,bd=1,Xp=0;function Up(s,e,t,i){let o=Math.floor(t.getRadius()/e.getRadius()),n=e.getFillColor(),r=t.getFillColor();if(!n||!r)return;let a=e.getPosition(),l=t.getPosition(),c=as(n,r,e.getRadius(),t.getRadius()),h=s.createLinearGradient(a.x,a.y,l.x,l.y);return h.addColorStop(wd,Mt(n,i)),h.addColorStop(re(o,wd,bd),Me(c,i)),h.addColorStop(bd,Mt(r,i)),h}function qp(s,e,t,i,o){zt(s,i,o),s.lineWidth=e,s.strokeStyle=t,s.stroke()}function Zp(s,e,t,i){let o=s.actualOptions,n=o.interactivity.modes.connect;if(n)return Up(e,t,i,n.links.opacity)}function Cd(s,e,t){s.canvas.draw(i=>{let o=Zp(s,i,e,t);if(!o)return;let n=e.getPosition(),r=t.getPosition();qp(i,e.retina.linksWidth??Xp,o,n,r)})}var Kp="connect",Sd=0,Bn=class extends se{constructor(e){super(e)}clear(){}init(){let e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}interact(){let e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){let i=e.interactivity.mouse.position,{connectModeDistance:o,connectModeRadius:n}=e.retina;if(!o||o<Sd||!n||n<Sd||!i)return;let r=Math.abs(n),a=e.particles.quadTree.queryCircle(i,r,l=>this.isEnabled(l));a.forEach((l,c)=>{let h=l.getPosition(),d=1;for(let u of a.slice(c+d)){let m=u.getPosition(),g=Math.abs(o),y=Math.abs(h.x-m.x),_=Math.abs(h.y-m.y);y<g&&_<g&&Cd(e,l,u)}})}}isEnabled(e){let t=this.container,i=t.interactivity.mouse,o=(e?.interactivity??t.actualOptions.interactivity).events;return o.onHover.enable&&i.position?$(Kp,o.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new An);for(let i of t)e.connect.load(i?.connect)}reset(){}};function Rd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalConnect",t=>Promise.resolve(new Bn(t)),e)})}var Nn=class{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){f(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=V.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}};var Vn=class{constructor(){this.distance=100,this.links=new Nn}load(e){f(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}};var Qp=0;function Jp(s,e,t,i,o,n){zt(s,t,i),s.strokeStyle=Me(o,n),s.lineWidth=e,s.stroke()}function Pd(s,e,t,i,o){s.canvas.draw(n=>{let r=e.getPosition();Jp(n,e.retina.linksWidth??Qp,r,o,t,i)})}var em="grab",tm=0,im=0,Hn=class extends se{constructor(e,t){super(e),this._engine=t}clear(){}init(){let e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}interact(){let e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==Be)return;let o=e.interactivity.mouse.position;if(!o)return;let n=e.retina.grabModeDistance;if(!n||n<tm)return;let r=e.particles.quadTree.queryCircle(o,n,a=>this.isEnabled(a));for(let a of r){let l=a.getPosition(),c=Z(l,o);if(c>n)continue;let h=i.modes.grab.links,d=h.opacity,u=d-c*d/n;if(u<=im)continue;let m=h.color??a.options.links?.color;if(!e.particles.grabLineColor&&m){let y=i.modes.grab.links;e.particles.grabLineColor=so(this._engine,m,y.blink,y.consent)}let g=ls(a,void 0,e.particles.grabLineColor);g&&Pd(e,a,g,u,o)}}isEnabled(e){let t=this.container,i=t.interactivity.mouse,o=(e?.interactivity??t.actualOptions.interactivity).events;return o.onHover.enable&&!!i.position&&$(em,o.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new Vn);for(let i of t)e.grab.load(i?.grab)}reset(){}};function kd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalGrab",t=>Promise.resolve(new Hn(t,s)),e)})}var sm="pause",Wn=class extends se{constructor(e){super(e),this.handleClickMode=t=>{if(t!==sm)return;let i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}};function Dd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalPause",t=>Promise.resolve(new Wn(t)),e)})}var Gn=class{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(f(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);let t=e.quantity;t!==void 0&&(this.quantity=R(t))}};var om="push",nm=0,jn=class extends se{constructor(e){super(e),this.handleClickMode=t=>{if(t!==om)return;let i=this.container,o=i.actualOptions,n=o.interactivity.modes.push;if(!n)return;let r=v(n.quantity);if(r<=nm)return;let a=_i([void 0,...n.groups]),l=a!==void 0?i.actualOptions.particles.groups[a]:void 0;i.particles.push(r,i.interactivity.mouse,l,a)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new Gn);for(let i of t)e.push.load(i?.push)}reset(){}};function Id(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalPush",t=>Promise.resolve(new jn(t)),e)})}var Yn=class{constructor(){this.quantity=2}load(e){if(f(e))return;let t=e.quantity;t!==void 0&&(this.quantity=R(t))}};var rm="remove",Xn=class extends se{constructor(e){super(e),this.handleClickMode=t=>{let i=this.container,o=i.actualOptions;if(!o.interactivity.modes.remove||t!==rm)return;let n=v(o.interactivity.modes.remove.quantity);i.particles.removeQuantity(n)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new Yn);for(let i of t)e.remove.load(i?.remove)}reset(){}};function Ed(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalRemove",t=>Promise.resolve(new Xn(t)),e)})}var Ti=class{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=wt.easeOutQuad}load(e){f(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}};var Un=class extends Ti{constructor(){super(),this.selectors=[]}load(e){super.load(e),!f(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}};var qn=class extends Ti{load(e){super.load(e),!f(e)&&(this.divs=ae(e.divs,t=>{let i=new Un;return i.load(t),i}))}};var Jt="repulse",am=0,lm=6,cm=3,hm=2,dm=0,um=0,fm=1,Za=.5,Zn=class extends se{constructor(e,t){super(t),this._clickRepulse=()=>{let i=this.container,o=i.actualOptions.interactivity.modes.repulse;if(!o)return;let n=i.repulse??{particles:[]};if(n.finish||(n.count||(n.count=0),n.count++,n.count===i.particles.count&&(n.finish=!0)),n.clicking){let r=i.retina.repulseModeDistance;if(!r||r<am)return;let a=Math.pow(r/lm,cm),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;let c=new K(l.x,l.y,a),h=i.particles.quadTree.query(c,d=>this.isEnabled(d));for(let d of h){let{dx:u,dy:m,distance:g}=j(l,d.position),y=g**hm,_=o.speed,x=-a*_/y;if(y<=a){n.particles.push(d);let w=H.create(u,m);w.length=x,d.velocity.setTo(w)}}}else if(n.clicking===!1){for(let r of n.particles)r.velocity.setTo(r.initialVelocity);n.particles=[]}},this._hoverRepulse=()=>{let i=this.container,o=i.interactivity.mouse.position,n=i.retina.repulseModeDistance;!n||n<dm||!o||this._processRepulse(o,n,new K(o.x,o.y,n))},this._processRepulse=(i,o,n,r)=>{let a=this.container,l=a.particles.quadTree.query(n,_=>this.isEnabled(_)),c=a.actualOptions.interactivity.modes.repulse;if(!c)return;let{easing:h,speed:d,factor:u,maxSpeed:m}=c,g=this._engine.getEasing(h),y=(r?.speed??d)*u;for(let _ of l){let{dx:x,dy:w,distance:S}=j(_.position,i),b=re(g(fm-S/o)*y,um,m),L=H.create(S?x/S*b:y,S?w/S*b:y);_.position.addTo(L)}},this._singleSelectorRepulse=(i,o)=>{let n=this.container,r=n.actualOptions.interactivity.modes.repulse;if(!r)return;let a=document.querySelectorAll(i);a.length&&a.forEach(l=>{let c=l,h=n.retina.pixelRatio,d={x:(c.offsetLeft+c.offsetWidth*Za)*h,y:(c.offsetTop+c.offsetHeight*Za)*h},u=c.offsetWidth*Za*h,m=o.type===vt.circle?new K(d.x,d.y,u):new xe(c.offsetLeft*h,c.offsetTop*h,c.offsetWidth*h,c.offsetHeight*h),g=r.divs,y=Js(g,c);this._processRepulse(d,u,m,y)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{let o=this.container.actualOptions,n=o.interactivity.modes.repulse;if(!n||i!==Jt)return;t.repulse||(t.repulse={particles:[]});let r=t.repulse;r.clicking=!0,r.count=0;for(let a of t.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);r.particles=[],r.finish=!1,setTimeout(()=>{t.destroyed||(r.clicking=!1)},n.duration*1e3)}}clear(){}init(){let e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}interact(){let e=this.container,t=e.actualOptions,i=e.interactivity.status===Be,o=t.interactivity.events,n=o.onHover,r=n.enable,a=n.mode,l=o.onClick,c=l.enable,h=l.mode,d=o.onDiv;i&&r&&$(Jt,a)?this._hoverRepulse():c&&$(Jt,h)?this._clickRepulse():xi(Jt,d,(u,m)=>this._singleSelectorRepulse(u,m))}isEnabled(e){let t=this.container,i=t.actualOptions,o=t.interactivity.mouse,n=(e?.interactivity??i.interactivity).events,r=n.onDiv,a=n.onHover,l=n.onClick,c=vi(Jt,r);if(!(c||a.enable&&o.position||l.enable&&o.clickPosition))return!1;let h=a.mode,d=l.mode;return $(Jt,h)||$(Jt,d)||c}loadModeOptions(e,...t){e.repulse||(e.repulse=new qn);for(let i of t)e.repulse.load(i?.repulse)}reset(){}};function Od(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalRepulse",t=>Promise.resolve(new Zn(s,t)),e)})}var Kn=class{constructor(){this.factor=3,this.radius=200}load(e){f(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}};var pm="slow",mm=0,Qn=class extends se{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){let e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){let t=this.container,i=t.interactivity.mouse,o=(e?.interactivity??t.actualOptions.interactivity).events;return o.onHover.enable&&!!i.position&&$(pm,o.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new Kn);for(let i of t)e.slow.load(i?.slow)}reset(e){e.slow.inRange=!1;let t=this.container,i=t.actualOptions,o=t.interactivity.mouse.position,n=t.retina.slowModeRadius,r=i.interactivity.modes.slow;if(!r||!n||n<mm||!o)return;let a=e.getPosition(),l=Z(o,a),c=l/n,h=r.factor,{slow:d}=e;l>n||(d.inRange=!0,d.factor=c/h)}};function Td(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalSlow",t=>Promise.resolve(new Qn(t)),e)})}var gm=0,_m=1,ym=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function vm(s,e,t){let{svgData:i}=s;if(!i)return"";let o=Mt(e,t);if(i.includes("fill"))return i.replace(ym,()=>o);let n=i.indexOf(">");return`${i.substring(gm,n)} fill="${o}"${i.substring(n)}`}function Mi(s){return p(this,null,function*(){return new Promise(e=>{s.loading=!0;let t=new Image;s.element=t,t.addEventListener("load",()=>{s.loading=!1,e()}),t.addEventListener("error",()=>{s.element=void 0,s.error=!0,s.loading=!1,Ue().error(`${ce} loading image: ${s.source}`),e()}),t.src=s.source})})}function Md(s){return p(this,null,function*(){if(s.type!=="svg"){yield Mi(s);return}s.loading=!0;let e=yield fetch(s.source);e.ok?s.svgData=yield e.text():(Ue().error(`${ce} Image not found`),s.error=!0),s.loading=!1})}function zd(s,e,t,i){let o=vm(s,t,i.opacity?.value??_m),n={color:t,gif:e.gif,data:be(T({},s),{svgData:o}),loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(r=>{let a=new Blob([o],{type:"image/svg+xml"}),l=URL||window.URL||window.webkitURL||window,c=l.createObjectURL(a),h=new Image;h.addEventListener("load",()=>{n.loaded=!0,n.element=h,r(n),l.revokeObjectURL(c)});let d=()=>p(null,null,function*(){l.revokeObjectURL(c);let u=be(T({},s),{error:!1,loading:!0});yield Mi(u),n.loaded=!0,n.element=u.element,r(n)});h.addEventListener("error",()=>void d()),h.src=c})}var Jn=[0,4,2,1],Ka=[8,8,4,2];var er=class{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){let t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,o)=>i+String.fromCharCode(o),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0,i=0,o=0;do{t=this.data[this.pos++];for(let n=t;--n>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==o);return e}readSubBlocksBin(){let e=this.data[this.pos],t=0,i=0,o=1;for(let r=0;e!==i;r+=e+o,e=this.data[this.pos+r])t+=e;let n=new Uint8Array(t);e=this.data[this.pos++];for(let r=0;e!==i;e=this.data[this.pos++])for(let a=e;--a>=i;n[r++]=this.data[this.pos++]);return n}skipSubBlocks(){for(let e=1,t=0;this.data[this.pos]!==t;this.pos+=this.data[this.pos]+e);this.pos++}};var it=function(s){return s[s.Replace=0]="Replace",s[s.Combine=1]="Combine",s[s.RestoreBackground=2]="RestoreBackground",s[s.RestorePrevious=3]="RestorePrevious",s[s.UndefinedA=4]="UndefinedA",s[s.UndefinedB=5]="UndefinedB",s[s.UndefinedC=6]="UndefinedC",s[s.UndefinedD=7]="UndefinedD",s}(it||{});var bt=function(s){return s[s.Extension=33]="Extension",s[s.ApplicationExtension=255]="ApplicationExtension",s[s.GraphicsControlExtension=249]="GraphicsControlExtension",s[s.PlainTextExtension=1]="PlainTextExtension",s[s.CommentExtension=254]="CommentExtension",s[s.Image=44]="Image",s[s.EndOfFile=59]="EndOfFile",s}(bt||{});var ze={x:0,y:0},xm=0,Ld=.5,wm=0,Fd=0,Qa=0;function $d(s,e){let t=[];for(let i=0;i<e;i++)t.push({r:s.data[s.pos],g:s.data[s.pos+1],b:s.data[s.pos+2]}),s.pos+=3;return t}function bm(s,e,t,i){switch(s.nextByte()){case bt.GraphicsControlExtension:{let o=e.frames[t(!1)];s.pos++;let n=s.nextByte();o.GCreserved=(n&224)>>>5,o.disposalMethod=(n&28)>>>2,o.userInputDelayFlag=(n&2)===2;let r=(n&1)===1;o.delayTime=s.nextTwoBytes()*10;let a=s.nextByte();r&&i(a),s.pos++;break}case bt.ApplicationExtension:{s.pos++;let o={identifier:s.getString(8),authenticationCode:s.getString(3),data:s.readSubBlocksBin()};e.applicationExtensions.push(o);break}case bt.CommentExtension:{e.comments.push([t(!1),s.readSubBlocks()]);break}case bt.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");s.pos++,e.frames[t(!1)].plainTextData={left:s.nextTwoBytes(),top:s.nextTwoBytes(),width:s.nextTwoBytes(),height:s.nextTwoBytes(),charSize:{width:s.nextTwoBytes(),height:s.nextTwoBytes()},foregroundColor:s.nextByte(),backgroundColor:s.nextByte(),text:s.readSubBlocks()};break}default:s.skipSubBlocks();break}}function Cm(s,e,t,i,o,n){return p(this,null,function*(){let r=e.frames[i(!0)];r.left=s.nextTwoBytes(),r.top=s.nextTwoBytes(),r.width=s.nextTwoBytes(),r.height=s.nextTwoBytes();let a=s.nextByte(),l=(a&128)===128,c=(a&64)===64;r.sortFlag=(a&32)===32,r.reserved=(a&24)>>>3;let h=1<<(a&7)+1;l&&(r.localColorTable=$d(s,h));let d=x=>{let{r:w,g:S,b}=(l?r.localColorTable:e.globalColorTable)[x];return x!==o(null)?{r:w,g:S,b,a:255}:{r:w,g:S,b,a:t?~~((w+S+b)/3):0}},u=(()=>{try{return new ImageData(r.width,r.height,{colorSpace:"srgb"})}catch(x){if(x instanceof DOMException&&x.name==="IndexSizeError")return null;throw x}})();if(u==null)throw new EvalError("GIF frame size is to large");let m=s.nextByte(),g=s.readSubBlocksBin(),y=1<<m,_=(x,w)=>{let S=x>>>3,b=x&7;return(g[S]+(g[S+1]<<8)+(g[S+2]<<16)&(1<<w)-1<<b)>>>b};if(c){for(let x=0,w=m+1,S=0,b=[[0]],L=0;L<4;L++){if(Jn[L]<r.height){let Q=0,B=0,we=!1;for(;!we;){let ni=x;if(x=_(S,w),S+=w+1,x===y){w=m+1,b.length=y+2;for(let ft=0;ft<b.length;ft++)b[ft]=ft<y?[ft]:[]}else{x>=b.length?b.push(b[ni].concat(b[ni][0])):ni!==y&&b.push(b[ni].concat(b[x][0]));for(let ft of b[x]){let{r:Ur,g:qr,b:kf,a:Df}=d(ft);u.data.set([Ur,qr,kf,Df],Jn[L]*r.width+Ka[L]*B+Q%(r.width*4)),Q+=4}b.length===1<<w&&w<12&&w++}Q===r.width*4*(B+1)&&(B++,Jn[L]+Ka[L]*B>=r.height&&(we=!0))}}n?.(s.pos/(s.data.length-1),i(!1)+1,u,{x:r.left,y:r.top},{width:e.width,height:e.height})}r.image=u,r.bitmap=yield createImageBitmap(u)}else{let x=0,w=m+1,S=0,b=-4,L=!1,Q=[[0]];for(;!L;){let B=x;if(x=_(S,w),S+=w,x===y){w=m+1,Q.length=y+2;for(let we=0;we<Q.length;we++)Q[we]=we<y?[we]:[]}else{if(x===y+1){L=!0;break}x>=Q.length?Q.push(Q[B].concat(Q[B][0])):B!==y&&Q.push(Q[B].concat(Q[x][0]));for(let we of Q[x]){let{r:ni,g:ft,b:Ur,a:qr}=d(we);u.data.set([ni,ft,Ur,qr],b+=4)}Q.length>=1<<w&&w<12&&w++}}r.image=u,r.bitmap=yield createImageBitmap(u),n?.((s.pos+1)/s.data.length,i(!1)+1,r.image,{x:r.left,y:r.top},{width:e.width,height:e.height})}})}function Sm(s,e,t,i,o,n){return p(this,null,function*(){switch(s.nextByte()){case bt.EndOfFile:return!0;case bt.Image:yield Cm(s,e,t,i,o,n);break;case bt.Extension:bm(s,e,i,o);break;default:throw new EvalError("undefined block found")}return!1})}function Rm(s){for(let e of s.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}function Pm(s,e,t){return p(this,null,function*(){t||(t=!1);let i=yield fetch(s);if(!i.ok&&i.status===404)throw new EvalError("file not found");let o=yield i.arrayBuffer(),n={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},r=new er(new Uint8ClampedArray(o));if(r.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");n.width=r.nextTwoBytes(),n.height=r.nextTwoBytes();let a=r.nextByte(),l=(a&128)===128;n.colorRes=(a&112)>>>4,n.sortFlag=(a&8)===8;let c=1<<(a&7)+1,h=r.nextByte();n.pixelAspectRatio=r.nextByte(),n.pixelAspectRatio!==0&&(n.pixelAspectRatio=(n.pixelAspectRatio+15)/64),l&&(n.globalColorTable=$d(r,c));let d=(()=>{try{return new ImageData(n.width,n.height,{colorSpace:"srgb"})}catch(b){if(b instanceof DOMException&&b.name==="IndexSizeError")return null;throw b}})();if(d==null)throw new Error("GIF frame size is to large");let{r:u,g:m,b:g}=n.globalColorTable[h];d.data.set(l?[u,m,g,255]:[0,0,0,0]);for(let b=4;b<d.data.length;b*=2)d.data.copyWithin(b,0,b);n.backgroundImage=d;let y=-1,_=!0,x=-1,w=b=>(b&&(_=!0),y),S=b=>(b!=null&&(x=b),x);try{do _&&(n.frames.push({left:0,top:0,width:0,height:0,disposalMethod:it.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),y++,x=-1,_=!1);while(!(yield Sm(r,n,t,w,S,e)));n.frames.length--;for(let b of n.frames){if(b.userInputDelayFlag&&b.delayTime===0){n.totalTime=1/0;break}n.totalTime+=b.delayTime}return n}catch(b){throw b instanceof EvalError?new Error(`error while parsing frame ${y} "${b.message}"`):b}})}function Ad(s){let{context:e,radius:t,particle:i,delta:o}=s,n=i.image;if(!n?.gifData||!n.gif)return;let r=new OffscreenCanvas(n.gifData.width,n.gifData.height),a=r.getContext("2d");if(!a)throw new Error("could not create offscreen canvas context");a.imageSmoothingQuality="low",a.imageSmoothingEnabled=!1,a.clearRect(ze.x,ze.y,r.width,r.height),i.gifLoopCount===void 0&&(i.gifLoopCount=n.gifLoopCount??Qa);let l=i.gifFrame??xm,c={x:-n.gifData.width*Ld,y:-n.gifData.height*Ld},h=n.gifData.frames[l];if(i.gifTime===void 0&&(i.gifTime=wm),!!h.bitmap){switch(e.scale(t/n.gifData.width,t/n.gifData.height),h.disposalMethod){case it.UndefinedA:case it.UndefinedB:case it.UndefinedC:case it.UndefinedD:case it.Replace:a.drawImage(h.bitmap,h.left,h.top),e.drawImage(r,c.x,c.y),a.clearRect(ze.x,ze.y,r.width,r.height);break;case it.Combine:a.drawImage(h.bitmap,h.left,h.top),e.drawImage(r,c.x,c.y);break;case it.RestoreBackground:a.drawImage(h.bitmap,h.left,h.top),e.drawImage(r,c.x,c.y),a.clearRect(ze.x,ze.y,r.width,r.height),n.gifData.globalColorTable.length?a.putImageData(n.gifData.backgroundImage,c.x,c.y):a.putImageData(n.gifData.frames[Fd].image,c.x+h.left,c.y+h.top);break;case it.RestorePrevious:{let d=a.getImageData(ze.x,ze.y,r.width,r.height);a.drawImage(h.bitmap,h.left,h.top),e.drawImage(r,c.x,c.y),a.clearRect(ze.x,ze.y,r.width,r.height),a.putImageData(d,ze.x,ze.y)}break}if(i.gifTime+=o.value,i.gifTime>h.delayTime){if(i.gifTime-=h.delayTime,++l>=n.gifData.frames.length){if(--i.gifLoopCount<=Qa)return;l=Fd,a.clearRect(ze.x,ze.y,r.width,r.height)}i.gifFrame=l}e.scale(n.gifData.width/t,n.gifData.height/t)}}function Bd(s){return p(this,null,function*(){if(s.type!=="gif"){yield Mi(s);return}s.loading=!0;try{s.gifData=yield Pm(s.source),s.gifLoopCount=Rm(s.gifData)??Qa,s.gifLoopCount||(s.gifLoopCount=1/0)}catch{s.error=!0}s.loading=!1})}var km=2,Dm=1,Im=12,Em=1,tr=class{constructor(e){this.validTypes=["image","images"],this.loadImageShape=t=>p(this,null,function*(){if(!this._engine.loadImage)throw new Error(`${ce} image shape not initialized`);yield this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??!1,src:t.src})}),this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){let{context:t,radius:i,particle:o,opacity:n}=e,r=o.image,a=r?.element;if(r){if(t.globalAlpha=n,r.gif&&r.gifData)Ad(e);else if(a){let l=r.ratio,c={x:-i,y:-i},h=i*km;t.drawImage(a,c.x,c.y,h,h/l)}t.globalAlpha=Dm}}getSidesCount(){return Im}init(e){return p(this,null,function*(){let t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(let i of t.preload)yield this._engine.loadImage(i)})}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);let t=e.shapeData;if(!t)return;this._engine.images.find(o=>o.name===t.name||o.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);let i=this._engine.images,o=t.shapeData;if(!o)return;let n=t.getFillColor(),r=i.find(l=>l.name===o.name||l.source===o.src);if(!r)return;let a=o.replaceColor??r.replaceColor;if(r.loading){setTimeout(()=>{this.particleInit(e,t)});return}p(this,null,function*(){let l;r.svgData&&n?l=yield zd(r,o,n,t):l={color:n,data:r,element:r.element,gif:r.gif,gifData:r.gifData,gifLoopCount:r.gifLoopCount,loaded:!0,ratio:o.width&&o.height?o.width/o.height:r.ratio??Em,replaceColor:a,source:o.src},l.ratio||(l.ratio=1);let c=o.fill??t.shapeFill,h=o.close??t.shapeClose,d={image:l,fill:c,close:h};t.image=d.image,t.shapeFill=d.fill,t.shapeClose=d.close})}};var ir=class{constructor(){this.src="",this.gif=!1}load(e){f(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}};var sr=class{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return p(this,null,function*(){return yield Promise.resolve(),{}})}loadOptions(e,t){if(!t?.preload)return;e.preload||(e.preload=[]);let i=e.preload;for(let o of t.preload){let n=i.find(r=>r.name===o.name||r.src===o.src);if(n)n.load(o);else{let r=new ir;r.load(o),i.push(r)}}}needsPlugin(){return!0}};var Om=3;function Tm(s){s.loadImage||(s.loadImage=e=>p(null,null,function*(){if(!e.name&&!e.src)throw new Error(`${ce} no image source provided`);if(s.images||(s.images=[]),!s.images.find(t=>t.name===e.name||t.source===e.src))try{let t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-Om),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};s.images.push(t);let i;e.gif?i=Bd:i=e.replaceColor?Md:Mi,yield i(t)}catch{throw new Error(`${ce} ${e.name??e.src} not found`)}}))}function Nd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),Tm(s);let t=new sr(s);yield s.addPlugin(t,e),yield s.addShape(new tr(s),e)})}var or=class extends Ee{constructor(){super(),this.sync=!1}load(e){f(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}};var nr=class extends Ee{constructor(){super(),this.sync=!1}load(e){f(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}};var rr=class{constructor(){this.count=0,this.delay=new or,this.duration=new nr}load(e){f(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}};var zi=0,Mm=-1,Vd=0,Hd=0;function Wd(s,e,t){if(!s.life)return;let i=s.life,o=!1;if(s.spawning)if(i.delayTime+=e.value,i.delayTime>=s.life.delay)o=!0,s.spawning=!1,i.delayTime=zi,i.time=zi;else return;if(i.duration===Mm||s.spawning||(o?i.time=zi:i.time+=e.value,i.time<i.duration))return;if(i.time=zi,s.life.count>Vd&&s.life.count--,s.life.count===Vd){s.destroy();return}let n=R(Hd,t.width),r=R(Hd,t.width);s.position.x=ge(n),s.position.y=ge(r),s.spawning=!0,i.delayTime=zi,i.time=zi,s.reset();let a=s.options.life;a&&(i.delay=v(a.delay.value)*1e3,i.duration=v(a.duration.value)*1e3)}var ei=0,Gd=1,jd=-1,ar=class{constructor(e){this.container=e}init(e){let t=this.container,i=e.options,o=i.life;o&&(e.life={delay:t.retina.reduceFactor?v(o.delay.value)*(o.delay.sync?Gd:O())/t.retina.reduceFactor*1e3:ei,delayTime:ei,duration:t.retina.reduceFactor?v(o.duration.value)*(o.duration.sync?Gd:O())/t.retina.reduceFactor*1e3:ei,time:ei,count:o.count},e.life.duration<=ei&&(e.life.duration=jd),e.life.count<=ei&&(e.life.count=jd),e.life&&(e.spawning=e.life.delay>ei))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new rr);for(let i of t)e.life.load(i?.life)}update(e,t){!this.isEnabled(e)||!e.life||Wd(e,t,this.container.canvas.size)}};function Yd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addParticleUpdater("life",t=>p(null,null,function*(){return Promise.resolve(new ar(t))}),e)})}function Xd(s){let{context:e,particle:t,radius:i}=s,o=t.shapeData,n=0;e.moveTo(-i,n),e.lineTo(i,n),e.lineCap=o?.cap??"butt"}var zm=1,lr=class{constructor(){this.validTypes=["line"]}draw(e){Xd(e)}getSidesCount(){return zm}};function Ud(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addShape(new lr,e)})}var qd=.5,cr=class{init(){}isEnabled(e){return!ht()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){let t=e.container,i=t.actualOptions,o=i.interactivity.events.onHover.parallax;if(ht()||!o.enable)return;let n=o.force,r=t.interactivity.mouse.position;if(!r)return;let a=t.canvas.size,l={x:a.width*qd,y:a.height*qd},c=o.smooth,h=e.getRadius()/n,d={x:(r.x-l.x)*h,y:(r.y-l.y)*h},{offset:u}=e;u.x+=(d.x-u.x)/c,u.y+=(d.y-u.y)/c}};function Zd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addMover("parallax",()=>Promise.resolve(new cr),e)})}var Kd=1e3,Lm=1,hr=class extends At{constructor(e){super(e)}clear(){}init(){}interact(e){let t=this.container;e.attractDistance===void 0&&(e.attractDistance=v(e.options.move.attract.distance)*t.retina.pixelRatio);let i=e.attractDistance,o=e.getPosition(),n=t.particles.quadTree.queryCircle(o,i);for(let r of n){if(e===r||!r.options.move.attract.enable||r.destroyed||r.spawning)continue;let a=r.getPosition(),{dx:l,dy:c}=j(o,a),h=e.options.move.attract.rotate,d=l/(h.x*Kd),u=c/(h.y*Kd),m=r.size.value/e.size.value,g=Lm/m;e.velocity.x-=d*m,e.velocity.y-=u*m,r.velocity.x+=d*g,r.velocity.y+=u*g}}isEnabled(e){return e.options.move.attract.enable}reset(){}};function Qd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("particlesAttract",t=>Promise.resolve(new hr(t)),e)})}var Fm=.5,$m=10,Am=0;function Jd(s,e,t,i,o,n){let r=re(s.options.collisions.absorb.speed*o.factor/$m,Am,i);s.size.value+=r*Fm,t.size.value-=r,i<=n&&(t.size.value=0,t.destroy())}function eu(s,e,t,i){let o=s.getRadius(),n=e.getRadius();o===void 0&&n!==void 0?s.destroy():o!==void 0&&n===void 0?e.destroy():o!==void 0&&n!==void 0&&(o>=n?Jd(s,o,e,n,t,i):Jd(e,n,s,o,t,i))}var tu=s=>{s.collisionMaxSpeed===void 0&&(s.collisionMaxSpeed=v(s.options.collisions.maxSpeed)),s.velocity.length>s.collisionMaxSpeed&&(s.velocity.length=s.collisionMaxSpeed)};function dr(s,e){eo(rs(s),rs(e)),tu(s),tu(e)}function iu(s,e){!s.unbreakable&&!e.unbreakable&&dr(s,e),s.getRadius()===void 0&&e.getRadius()!==void 0?s.destroy():s.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():s.getRadius()!==void 0&&e.getRadius()!==void 0&&(s.getRadius()>=e.getRadius()?e:s).destroy()}function su(s,e,t,i){switch(s.options.collisions.mode){case Zt.absorb:{eu(s,e,t,i);break}case Zt.bounce:{dr(s,e);break}case Zt.destroy:{iu(s,e);break}}}var Bm=2,ur=class extends At{constructor(e){super(e)}clear(){}init(){}interact(e,t){if(e.destroyed||e.spawning)return;let i=this.container,o=e.getPosition(),n=e.getRadius(),r=i.particles.quadTree.queryCircle(o,n*Bm);for(let a of r){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;let l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(o.z)-Math.round(l.z))>n+c)continue;let h=Z(o,l),d=n+c;h>d||su(e,a,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}};function ou(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("particlesCollisions",t=>Promise.resolve(new ur(t)),e)})}var Ja=2,fr=class extends K{constructor(e,t,i,o){super(e,t,i),this.canvasSize=o,this.canvasSize=T({},o)}contains(e){let{width:t,height:i}=this.canvasSize,{x:o,y:n}=e;return super.contains(e)||super.contains({x:o-t,y:n})||super.contains({x:o-t,y:n-i})||super.contains({x:o,y:n-i})}intersects(e){if(super.intersects(e))return!0;let t=e,i=e,o={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){let n=new K(o.x,o.y,i.radius*Ja);return super.intersects(n)}else if(t.size!==void 0){let n=new xe(o.x,o.y,t.size.width*Ja,t.size.height*Ja);return super.intersects(n)}return!1}};var pr=class{constructor(){this.blur=5,this.color=new V,this.color.value="#000",this.enable=!1}load(e){f(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=V.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}};var mr=class{constructor(){this.enable=!1,this.frequency=1}load(e){f(e)||(e.color!==void 0&&(this.color=V.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}};var gr=class{constructor(){this.blink=!1,this.color=new V,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new pr,this.triangles=new mr,this.width=1,this.warp=!1}load(e){f(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=V.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}};var nu=2,Nm=1,_r={x:0,y:0},Vm=0;function Hm(s,e,t,i,o){let{dx:n,dy:r,distance:a}=j(s,e);if(!o||a<=t)return a;let l={x:Math.abs(n),y:Math.abs(r)},c={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(c.x**nu+c.y**nu)}var yr=class extends At{constructor(e,t){super(e),this._setColor=i=>{if(!i.options.links)return;let o=this._linkContainer,n=i.options.links,r=n.id===void 0?o.particles.linksColor:o.particles.linksColors.get(n.id);if(r)return;let a=n.color;r=so(this._engine,a,n.blink,n.consent),n.id===void 0?o.particles.linksColor=r:o.particles.linksColors.set(n.id,r)},this._linkContainer=e,this._engine=t}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];let t=e.getPosition(),i=this.container,o=i.canvas.size;if(t.x<_r.x||t.y<_r.y||t.x>o.width||t.y>o.height)return;let n=e.options.links,r=n.opacity,a=e.retina.linksDistance??Vm,l=n.warp,c;l?c=new fr(t.x,t.y,a,o):c=new K(t.x,t.y,a);let h=i.particles.quadTree.query(c);for(let d of h){let u=d.options.links;if(e===d||!u?.enable||n.id!==u.id||d.spawning||d.destroyed||!d.links||e.links.some(_=>_.destination===d)||d.links.some(_=>_.destination===e))continue;let m=d.getPosition();if(m.x<_r.x||m.y<_r.y||m.x>o.width||m.y>o.height)continue;let g=Hm(t,m,a,o,l&&u.warp);if(g>a)continue;let y=(Nm-g/a)*r;this._setColor(e),e.links.push({destination:d,opacity:y})}}isEnabled(e){return!!e.options.links?.enable}loadParticlesOptions(e,...t){e.links||(e.links=new gr);for(let i of t)e.links.load(i?.links)}reset(){}};function ru(s,e=!0){return p(this,null,function*(){yield s.addInteractor("particlesLinks",t=>p(null,null,function*(){return Promise.resolve(new yr(t,s))}),e)})}function Wm(s,e,t,i){s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.lineTo(i.x,i.y),s.closePath()}function au(s){let e=!1,{begin:t,end:i,engine:o,maxDistance:n,context:r,canvasSize:a,width:l,backgroundMask:c,colorLine:h,opacity:d,links:u}=s;if(Z(t,i)<=n)zt(r,t,i),e=!0;else if(u.warp){let g,y,_={x:i.x-a.width,y:i.y},x=j(t,_);if(x.distance<=n){let w=t.y-x.dy/x.dx*t.x;g={x:0,y:w},y={x:a.width,y:w}}else{let w={x:i.x,y:i.y-a.height},S=j(t,w);if(S.distance<=n){let L=-(t.y-S.dy/S.dx*t.x)/(S.dy/S.dx);g={x:L,y:0},y={x:L,y:a.height}}else{let b={x:i.x-a.width,y:i.y-a.height},L=j(t,b);if(L.distance<=n){let Q=t.y-L.dy/L.dx*t.x;g={x:-Q/(L.dy/L.dx),y:Q},y={x:g.x+a.width,y:g.y+a.height}}}}g&&y&&(zt(r,t,g),zt(r,i,y),e=!0)}if(!e)return;r.lineWidth=l,c.enable&&(r.globalCompositeOperation=c.composite),r.strokeStyle=Me(h,d);let{shadow:m}=u;if(m.enable){let g=Ie(o,m.color);g&&(r.shadowBlur=m.blur,r.shadowColor=Me(g))}r.stroke()}function lu(s){let{context:e,pos1:t,pos2:i,pos3:o,backgroundMask:n,colorTriangle:r,opacityTriangle:a}=s;Wm(e,t,i,o),n.enable&&(e.globalCompositeOperation=n.composite),e.fillStyle=Me(r,a),e.fill()}function Gm(s){return s.sort((e,t)=>e-t),s.join("_")}function el(s,e){let t=Gm(s.map(o=>o.id)),i=e.get(t);return i===void 0&&(i=O(),e.set(t,i)),i}var cu=0,tl=0,hu=0,jm=.5,Ym=1,vr=class{constructor(e,t){this._drawLinkLine=(i,o)=>{let n=i.options.links;if(!n?.enable)return;let r=this._container,a=r.actualOptions,l=o.destination,c=i.getPosition(),h=l.getPosition(),d=o.opacity;r.canvas.draw(u=>{let m,g=i.options.twinkle?.lines;if(g?.enable){let w=g.frequency,S=Ie(this._engine,g.color);O()<w&&S&&(m=S,d=v(g.opacity))}if(!m){let w=n.id!==void 0?r.particles.linksColors.get(n.id):r.particles.linksColor;m=ls(i,l,w)}if(!m)return;let y=i.retina.linksWidth??tl,_=i.retina.linksDistance??hu,{backgroundMask:x}=a;au({context:u,width:y,begin:c,end:h,engine:this._engine,maxDistance:_,canvasSize:r.canvas.size,links:n,backgroundMask:x,colorLine:m,opacity:d})})},this._drawLinkTriangle=(i,o,n)=>{let r=i.options.links;if(!r?.enable)return;let a=r.triangles;if(!a.enable)return;let l=this._container,c=l.actualOptions,h=o.destination,d=n.destination,u=a.opacity??(o.opacity+n.opacity)*jm;u<=cu||l.canvas.draw(m=>{let g=i.getPosition(),y=h.getPosition(),_=d.getPosition(),x=i.retina.linksDistance??hu;if(Z(g,y)>x||Z(_,y)>x||Z(_,g)>x)return;let w=Ie(this._engine,a.color);if(!w){let S=r.id!==void 0?l.particles.linksColors.get(r.id):l.particles.linksColor;w=ls(i,h,S)}w&&lu({context:m,pos1:g,pos2:y,pos3:_,backgroundMask:c.backgroundMask,colorTriangle:w,opacityTriangle:u})})},this._drawTriangles=(i,o,n,r)=>{let a=n.destination;if(!(i.links?.triangles.enable&&a.options.links?.triangles.enable))return;let l=a.links?.filter(c=>{let h=this._getLinkFrequency(a,c.destination);return a.options.links&&h<=a.options.links.frequency&&r.findIndex(u=>u.destination===c.destination)>=0});if(l?.length)for(let c of l){let h=c.destination;this._getTriangleFrequency(o,a,h)>i.links.triangles.frequency||this._drawLinkTriangle(o,n,c)}},this._getLinkFrequency=(i,o)=>el([i,o],this._freqs.links),this._getTriangleFrequency=(i,o,n)=>el([i,o,n],this._freqs.triangles),this._container=e,this._engine=t,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){let{links:i,options:o}=t;if(!i?.length)return;let n=i.filter(r=>o.links&&(o.links.frequency>=Ym||this._getLinkFrequency(t,r.destination)<=o.links.frequency));for(let r of n)this._drawTriangles(o,t,r,n),r.opacity>cu&&(t.retina.linksWidth??tl)>tl&&this._drawLinkLine(t,r)}init(){return p(this,null,function*(){this._freqs.links=new Map,this._freqs.triangles=new Map,yield Promise.resolve()})}particleCreated(e){if(e.links=[],!e.options.links)return;let t=this._container.retina.pixelRatio,{retina:i}=e,{distance:o,width:n}=e.options.links;i.linksDistance=o*t,i.linksWidth=n*t}particleDestroyed(e){e.links=[]}};var xr=class{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new vr(e,this._engine))}loadOptions(){}needsPlugin(){return!0}};function du(s,e=!0){return p(this,null,function*(){let t=new xr(s);yield s.addPlugin(t,e)})}function uu(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield ru(s,e),yield du(s,e)})}var Xm=180,wr={x:0,y:0},Um=2;function fu(s,e,t){let{context:i}=s,o=t.count.numerator*t.count.denominator,n=t.count.numerator/t.count.denominator,r=Xm*(n-Um)/n,a=Math.PI-Xe(r);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(wr.x,wr.y);for(let l=0;l<o;l++)i.lineTo(t.length,wr.y),i.translate(t.length,wr.y),i.rotate(a)}}var qm=5,Li=class{draw(e){let{particle:t,radius:i}=e,o=this.getCenter(t,i),n=this.getSidesData(t,i);fu(e,o,n)}getSidesCount(e){let t=e.shapeData;return Math.round(v(t?.sides??qm))}};var pu=3.5,mu=2.66,Zm=3,br=class extends Li{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,t){return{x:-t/(e.sides/pu),y:-t/(mu/pu)}}getSidesData(e,t){let i=e.sides;return{count:{denominator:1,numerator:i},length:t*mu/(i/Zm)}}};var Km=1.66,Qm=3,Jm=2,Cr=class extends Li{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,t){return{x:-t,y:t/Km}}getSidesCount(){return Qm}getSidesData(e,t){let i=t*Jm;return{count:{denominator:2,numerator:3},length:i}}};function eg(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addShape(new br,e)})}function tg(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addShape(new Cr,e)})}function gu(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield eg(s,e),yield tg(s,e)})}var Sr=class{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){f(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=R(e.speed)),e.decay!==void 0&&(this.decay=R(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}};var Rr=class extends Ee{constructor(){super(),this.animation=new Sr,this.direction=He.clockwise,this.path=!1,this.value=0}load(e){f(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}};var _u=2,ig=Math.PI*_u,sg=1,og=360,Pr=class{constructor(e){this.container=e}init(e){let t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:Xe(v(t.value)),min:0,max:ig},e.pathRotation=t.path;let i=t.direction;switch(i===He.random&&(i=Math.floor(O()*_u)>0?He.counterClockwise:He.clockwise),i){case He.counterClockwise:case"counterClockwise":e.rotate.status=te.decreasing;break;case He.clockwise:e.rotate.status=te.increasing;break}let o=t.animation;o.enable&&(e.rotate.decay=sg-v(o.decay),e.rotate.velocity=v(o.speed)/og*this.container.retina.reduceFactor,o.sync||(e.rotate.velocity*=O())),e.rotation=e.rotate.value}isEnabled(e){let t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&(!!t.value||t.animation.enable||t.path):!1}loadOptions(e,...t){e.rotate||(e.rotate=new Rr);for(let i of t)e.rotate.load(i?.rotate)}update(e,t){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(wi(e,e.rotate,!1,ct.none,t),e.rotation=e.rotate.value))}};function yu(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addParticleUpdater("rotate",t=>Promise.resolve(new Pr(t)),e)})}var ng=Math.sqrt(2),rg=2;function vu(s){let{context:e,radius:t}=s,i=t/ng,o=i*rg;e.rect(-i,-i,o,o)}var ag=4,kr=class{constructor(){this.validTypes=["edge","square"]}draw(e){vu(e)}getSidesCount(){return ag}};function xu(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addShape(new kr,e)})}var Fi={x:0,y:0};function wu(s){let{context:e,particle:t,radius:i}=s,o=t.sides,n=t.starInset??2;e.moveTo(Fi.x,Fi.y-i);for(let r=0;r<o;r++)e.rotate(Math.PI/o),e.lineTo(Fi.x,Fi.y-i*n),e.rotate(Math.PI/o),e.lineTo(Fi.x,Fi.y-i)}var lg=2,cg=5,Dr=class{constructor(){this.validTypes=["star"]}draw(e){wu(e)}getSidesCount(e){let t=e.shapeData;return Math.round(v(t?.sides??cg))}particleInit(e,t){let i=t.shapeData;t.starInset=v(i?.inset??lg)}};function bu(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addShape(new Dr,e)})}var hg=1,Ir=class{constructor(e,t){this._container=e,this._engine=t}init(e){let t=this._container,i=e.options,o=Re(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=v(o.width)*t.retina.pixelRatio,e.strokeOpacity=v(o.opacity??hg),e.strokeAnimation=o.color?.animation;let n=yt(this._engine,o.color)??e.getFillColor();n&&(e.strokeColor=oo(n,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){let t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&(i?.h.value!==void 0&&i.h.enable||i?.s.value!==void 0&&i.s.enable||i?.l.value!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&no(e.strokeColor,t)}};function Cu(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addParticleUpdater("strokeColor",t=>Promise.resolve(new Ir(t,s)),e)})}function Su(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield Zd(s,!1),yield dd(s,!1),yield _d(s,!1),yield xd(s,!1),yield Rd(s,!1),yield kd(s,!1),yield Dd(s,!1),yield Id(s,!1),yield Ed(s,!1),yield Od(s,!1),yield Td(s,!1),yield Qd(s,!1),yield ou(s,!1),yield uu(s,!1),yield sd(s,!1),yield rd(s,!1),yield Nd(s,!1),yield Ud(s,!1),yield gu(s,!1),yield xu(s,!1),yield bu(s,!1),yield Yd(s,!1),yield yu(s,!1),yield Cu(s,!1),yield id(s,e)})}var Er=(()=>{class s{initialized=new Rs(!1);getInstallationStatus(){return this.initialized.asObservable()}init(t){return p(this,null,function*(){yield t(fs),this.initialized.next(!0)})}static \u0275fac=function(i){return new(i||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Ru=(()=>{class s{platformId;particlesService;options;url;id;particlesInit;particlesLoaded=new G;subscription;destroy$=new I;container;constructor(t,i){this.platformId=t,this.particlesService=i,this.id="tsparticles"}ngOnInit(){this.subscription=this.particlesService.getInstallationStatus().subscribe(()=>{this.container?.destroy(),this.loadParticles()})}ngAfterViewInit(){Ql(this.platformId)||this.loadParticles()}ngOnDestroy(){this.container?.destroy(),this.subscription?.unsubscribe(),this.destroy$.next()}loadParticles(){let t=i=>{this.container=i,this.particlesLoaded.emit(i)};Pl(this.particlesInit?this.particlesInit(fs):Promise.resolve()).pipe(Il(()=>fs.load({id:this.id,url:this.url,options:this.options})),ot(this.destroy$)).subscribe(t)}static \u0275fac=function(i){return new(i||s)(oe(ks),oe(Er))};static \u0275cmp=q({type:s,selectors:[["ngx-particles"]],inputs:{options:"options",url:"url",id:"id",particlesInit:"particlesInit"},outputs:{particlesLoaded:"particlesLoaded"},standalone:!1,decls:1,vars:1,consts:[[3,"id"]],template:function(i,o){i&1&&J(0,"div",0),i&2&&ue("id",o.id)},encapsulation:2})}return s})(),Pu=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ci({type:s});static \u0275inj=ri({providers:[Er]})}return s})();var ku=(()=>{class s{particlesService;id="tsparticles";particlesOptions=mc;constructor(t){this.particlesService=t}ngOnInit(){this.particlesService.init(t=>p(this,null,function*(){yield Su(t)}))}particlesLoaded(t){}static \u0275fac=function(i){return new(i||s)(oe(Er))};static \u0275cmp=q({type:s,selectors:[["particles"]],decls:1,vars:2,consts:[[3,"particlesLoaded","id","options"]],template:function(i,o){i&1&&(D(0,"ngx-particles",0),ye("particlesLoaded",function(r){return o.particlesLoaded(r)}),E()),i&2&&ue("id",o.id)("options",o.particlesOptions)},dependencies:[Pu,Ru],encapsulation:2,changeDetection:0})}return s})();var il;try{il=typeof Intl<"u"&&Intl.v8BreakIterator}catch{il=!1}var ti=(()=>{class s{_platformId=C(ks);isBrowser=this._platformId?Kl(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||il)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var sl;function ug(){if(sl==null){let s=typeof document<"u"?document.head:null;sl=!!(s&&(s.createShadowRoot||s.attachShadow))}return sl}function Or(s){if(ug()){let e=s.getRootNode?s.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Nt(s){return s.composedPath?s.composedPath()[0]:s.target}function ol(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Tr=new WeakMap,_s=(()=>{class s{_appRef;_injector=C(Qe);_environmentInjector=C(li);load(t){let i=this._appRef=this._appRef||this._injector.get(Ds),o=Tr.get(i);o||(o={loaders:new Set,refs:[]},Tr.set(i,o),i.onDestroy(()=>{Tr.get(i)?.refs.forEach(n=>n.destroy()),Tr.delete(i)})),o.loaders.has(t)||(o.loaders.add(t),o.refs.push(Ls(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function le(s){return s==null?"":typeof s=="string"?s:`${s}px`}function nl(s){return Array.isArray(s)?s:[s]}function rl(s,e=0){return fg(s)?Number(s):arguments.length===2?e:0}function fg(s){return!isNaN(parseFloat(s))&&!isNaN(Number(s))}function ut(s){return s instanceof Pe?s.nativeElement:s}var pg=new Ke("cdk-dir-doc",{providedIn:"root",factory:mg});function mg(){return C(Te)}var gg=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function _g(s){let e=s?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?gg.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Mr=(()=>{class s{get value(){return this.valueSignal()}valueSignal=We("ltr");change=new G;constructor(){let t=C(pg,{optional:!0});if(t){let i=t.body?t.body.dir:null,o=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(_g(i||o||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var ii;function Du(){if(ii==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ii=!1,ii;if("scrollBehavior"in document.documentElement.style)ii=!0;else{let s=Element.prototype.scrollTo;s?ii=!/\{\s*\[native code\]\s*\}/.test(s.toString()):ii=!1}}return ii}var yg=20,zr=(()=>{class s{_ngZone=C(Ce);_platform=C(ti);_renderer=C(nt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new I;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=yg){return this._platform.isBrowser?new Ai(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let o=t>0?this._scrolled.pipe(Qr(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):kl()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let o=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ps(n=>!n||o.indexOf(n)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((o,n)=>{this._scrollableContainsElement(n,t)&&i.push(n)}),i}_scrollableContainsElement(t,i){let o=ut(i),n=t.getElementRef().nativeElement;do if(o==n)return!0;while(o=o.parentElement);return!1}static \u0275fac=function(i){return new(i||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var vg=20,si=(()=>{class s{_platform=C(ti);_listeners;_viewportSize;_change=new I;_document=C(Te,{optional:!0});constructor(){let t=C(Ce),i=C(nt).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let o=n=>this._change.next(n);this._listeners=[i.listen("window","resize",o),i.listen("window","orientationchange",o)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),o=t.documentElement,n=o.getBoundingClientRect(),r=-n.top||t.body.scrollTop||i.scrollY||o.scrollTop||0,a=-n.left||t.body.scrollLeft||i.scrollX||o.scrollLeft||0;return{top:r,left:a}}change(t=vg){return t>0?this._change.pipe(Qr(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var ys=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},vs=class extends ys{component;viewContainerRef;injector;projectableNodes;constructor(e,t,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.projectableNodes=o}},Lr=class extends ys{templateRef;viewContainerRef;context;injector;constructor(e,t,i,o){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=o}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},ll=class extends ys{element;constructor(e){super(),this.element=e instanceof Pe?e.nativeElement:e}},cl=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof vs)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Lr)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof ll)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},Fr=class extends cl{outletElement;_appRef;_defaultInjector;constructor(e,t,i){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=i}attachComponentPortal(e){let t;if(e.viewContainerRef){let i=e.injector||e.viewContainerRef.injector,o=i.get(Vl,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:i,ngModuleRef:o,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let i=this._appRef,o=e.injector||this._defaultInjector||Qe.NULL,n=o.get(li,i.injector);t=Ls(e.component,{elementInjector:o,environmentInjector:n,projectableNodes:e.projectableNodes||void 0}),i.attachView(t.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=t.indexOf(i);o!==-1&&t.remove(o)}),this._attachedPortal=e,i}attachDomPortal=e=>{let t=e.element;t.parentNode;let i=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(i,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(t,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var hl={},Iu=(()=>{class s{_appId=C(Al);getId(t){return this._appId!=="ng"&&(t+=this._appId),hl.hasOwnProperty(t)||(hl[t]=0),`${t}${hl[t]++}`}static \u0275fac=function(i){return new(i||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var Eu=Du();function $u(s){return new $r(s.get(si),s.get(Te))}var $r=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=le(-this._previousScrollPosition.left),e.style.top=le(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,i=e.style,o=t.style,n=i.scrollBehavior||"",r=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Eu&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Eu&&(i.scrollBehavior=n,o.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};function Au(s,e){return new Ar(s.get(zr),s.get(Ce),s.get(si),e)}var Ar=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,i,o){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=o}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Ps(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var xs=class{enable(){}disable(){}attach(){}};function dl(s,e){return e.some(t=>{let i=s.bottom<t.top,o=s.top>t.bottom,n=s.right<t.left,r=s.left>t.right;return i||o||n||r})}function Ou(s,e){return e.some(t=>{let i=s.top<t.top,o=s.bottom>t.bottom,n=s.left<t.left,r=s.right>t.right;return i||o||n||r})}function Bu(s,e){return new Br(s.get(zr),s.get(si),s.get(Ce),e)}var Br=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,i,o){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=o}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();dl(t,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Nu=(()=>{class s{_injector=C(Qe);constructor(){}noop=()=>new xs;close=t=>Au(this._injector,t);block=()=>$u(this._injector);reposition=t=>Bu(this._injector,t);static \u0275fac=function(i){return new(i||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Nr=class{positionStrategy;scrollStrategy=new xs;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let i of t)e[i]!==void 0&&(this[i]=e[i])}}};var Vr=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var Vu=(()=>{class s{_attachedOverlays=[];_document=C(Te);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Hu=(()=>{class s extends Vu{_ngZone=C(Ce);_renderer=C(nt).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let i=this._attachedOverlays;for(let o=i.length-1;o>-1;o--)if(i[o]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[o]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(o){return(t||(t=ea(s)))(o||s)}})();static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Wu=(()=>{class s extends Vu{_platform=C(ti);_ngZone=C(Ce);_renderer=C(nt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let i=this._document.body,o={capture:!0},n=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[n.listen(i,"pointerdown",this._pointerDownListener,o),n.listen(i,"click",this._clickListener,o),n.listen(i,"auxclick",this._clickListener,o),n.listen(i,"contextmenu",this._clickListener,o)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=Nt(t)};_clickListener=t=>{let i=Nt(t),o=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){let a=n[r];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(Tu(a.overlayElement,i)||Tu(a.overlayElement,o))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(t)):l.next(t)}};static \u0275fac=(()=>{let t;return function(o){return(t||(t=ea(s)))(o||s)}})();static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Tu(s,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===s)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var Gu=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275cmp=q({type:s,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,o){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return s})(),ju=(()=>{class s{_platform=C(ti);_containerElement;_document=C(Te);_styleLoader=C(_s);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||ol()){let o=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let n=0;n<o.length;n++)o[n].remove()}let i=this._document.createElement("div");i.classList.add(t),ol()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(Gu)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),ul=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,i,o){this._renderer=t,this._ngZone=i,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",o)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Hr=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new I;_attachments=new I;_detachments=new I;_positionStrategy;_scrollStrategy;_locationChanges=st.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new I;_outsidePointerEvents=new I;_afterNextRenderRef;constructor(e,t,i,o,n,r,a,l,c,h=!1,d,u){this._portalOutlet=e,this._host=t,this._pane=i,this._config=o,this._ngZone=n,this._keyboardDispatcher=r,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._injector=d,this._renderer=u,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=hi(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=T(T({},this._config),e),this._updateElementSize()}setDirection(e){this._config=be(T({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=le(this._config.width),e.height=le(this._config.height),e.minWidth=le(this._config.minWidth),e.minHeight=le(this._config.minHeight),e.maxWidth=le(this._config.maxWidth),e.maxHeight=le(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new ul(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,i){let o=nl(t||[]).filter(n=>!!n);o.length&&(i?e.classList.add(...o):e.classList.remove(...o))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=hi(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},Mu="cdk-overlay-connected-position-bounding-box",xg=/([A-Za-z%]+)$/;function Yu(s,e){return new Wr(e,s.get(si),s.get(Te),s.get(ti),s.get(ju))}var Wr=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new I;_resizeSubscription=st.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,i,o,n){this._viewportRuler=t,this._document=i,this._platform=o,this._overlayContainer=n,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(Mu),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,i=this._viewportRect,o=this._containerRect,n=[],r;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,o,a),c=this._getOverlayPoint(l,t,a),h=this._getOverlayFit(c,t,i,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(h,c,i)){n.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!r||r.overlayFit.visibleArea<h.visibleArea)&&(r={overlayFit:h,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(n.length){let a=null,l=-1;for(let c of n){let h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>l&&(l=h,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(r.position,r.originPoint);return}this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&oi(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Mu),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let o;if(i.originX=="center")o=e.left+e.width/2;else{let r=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;o=i.originX=="start"?r:a}t.left<0&&(o-=t.left);let n;return i.originY=="center"?n=e.top+e.height/2:n=i.originY=="top"?e.top:e.bottom,t.top<0&&(n-=t.top),{x:o,y:n}}_getOverlayPoint(e,t,i){let o;i.overlayX=="center"?o=-t.width/2:i.overlayX==="start"?o=this._isRtl()?-t.width:0:o=this._isRtl()?0:-t.width;let n;return i.overlayY=="center"?n=-t.height/2:n=i.overlayY=="top"?0:-t.height,{x:e.x+o,y:e.y+n}}_getOverlayFit(e,t,i,o){let n=Lu(t),{x:r,y:a}=e,l=this._getOffset(o,"x"),c=this._getOffset(o,"y");l&&(r+=l),c&&(a+=c);let h=0-r,d=r+n.width-i.width,u=0-a,m=a+n.height-i.height,g=this._subtractOverflows(n.width,h,d),y=this._subtractOverflows(n.height,u,m),_=g*y;return{visibleArea:_,isCompletelyWithinViewport:n.width*n.height===_,fitsInViewportVertically:y===n.height,fitsInViewportHorizontally:g==n.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){let o=i.bottom-t.y,n=i.right-t.x,r=zu(this._overlayRef.getConfig().minHeight),a=zu(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||r!=null&&r<=o,c=e.fitsInViewportHorizontally||a!=null&&a<=n;return l&&c}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let o=Lu(t),n=this._viewportRect,r=Math.max(e.x+o.width-n.width,0),a=Math.max(e.y+o.height-n.height,0),l=Math.max(n.top-i.top-e.y,0),c=Math.max(n.left-i.left-e.x,0),h=0,d=0;return o.width<=n.width?h=c||-r:h=e.x<this._viewportMargin?n.left-i.left-e.x:0,o.height<=n.height?d=l||-a:d=e.y<this._viewportMargin?n.top-i.top-e.y:0,this._previousPushAmount={x:h,y:d},{x:e.x+h,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!wg(this._lastScrollVisibility,i)){let o=new Vr(e,i);this._positionChanges.next(o)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,o=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let n=0;n<t.length;n++)t[n].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(e,t){let i=this._viewportRect,o=this._isRtl(),n,r,a;if(t.overlayY==="top")r=e.y,n=i.height-r+this._viewportMargin;else if(t.overlayY==="bottom")a=i.height-e.y+this._viewportMargin*2,n=i.height-a+this._viewportMargin;else{let m=Math.min(i.bottom-e.y+i.top,e.y),g=this._lastBoundingBoxSize.height;n=m*2,r=e.y-m,n>g&&!this._isInitialRender&&!this._growAfterOpen&&(r=e.y-g/2)}let l=t.overlayX==="start"&&!o||t.overlayX==="end"&&o,c=t.overlayX==="end"&&!o||t.overlayX==="start"&&o,h,d,u;if(c)u=i.width-e.x+this._viewportMargin*2,h=e.x-this._viewportMargin;else if(l)d=e.x,h=i.right-e.x;else{let m=Math.min(i.right-e.x+i.left,e.x),g=this._lastBoundingBoxSize.width;h=m*2,d=e.x-m,h>g&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-g/2)}return{top:r,left:d,bottom:a,right:u,width:h,height:n}}_setBoundingBoxStyles(e,t){let i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{let n=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;o.height=le(i.height),o.top=le(i.top),o.bottom=le(i.bottom),o.width=le(i.width),o.left=le(i.left),o.right=le(i.right),t.overlayX==="center"?o.alignItems="center":o.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?o.justifyContent="center":o.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",n&&(o.maxHeight=le(n)),r&&(o.maxWidth=le(r))}this._lastBoundingBoxSize=i,oi(this._boundingBox.style,o)}_resetBoundingBoxStyles(){oi(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){oi(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let i={},o=this._hasExactPosition(),n=this._hasFlexibleDimensions,r=this._overlayRef.getConfig();if(o){let h=this._viewportRuler.getViewportScrollPosition();oi(i,this._getExactOverlayY(t,e,h)),oi(i,this._getExactOverlayX(t,e,h))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),r.maxHeight&&(o?i.maxHeight=le(r.maxHeight):n&&(i.maxHeight="")),r.maxWidth&&(o?i.maxWidth=le(r.maxWidth):n&&(i.maxWidth="")),oi(this._pane.style,i)}_getExactOverlayY(e,t,i){let o={top:"",bottom:""},n=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(n=this._pushOverlayOnScreen(n,this._overlayRect,i)),e.overlayY==="bottom"){let r=this._document.documentElement.clientHeight;o.bottom=`${r-(n.y+this._overlayRect.height)}px`}else o.top=le(n.y);return o}_getExactOverlayX(e,t,i){let o={left:"",right:""},n=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(n=this._pushOverlayOnScreen(n,this._overlayRect,i));let r;if(this._isRtl()?r=e.overlayX==="end"?"left":"right":r=e.overlayX==="end"?"right":"left",r==="right"){let a=this._document.documentElement.clientWidth;o.right=`${a-(n.x+this._overlayRect.width)}px`}else o.left=le(n.x);return o}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ou(e,i),isOriginOutsideView:dl(e,i),isOverlayClipped:Ou(t,i),isOverlayOutsideView:dl(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,o)=>i-Math.max(o,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&nl(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Pe)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}};function oi(s,e){for(let t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);return s}function zu(s){if(typeof s!="number"&&s!=null){let[e,t]=s.split(xg);return!t||t==="px"?parseFloat(e):null}return s||null}function Lu(s){return{top:Math.floor(s.top),right:Math.floor(s.right),bottom:Math.floor(s.bottom),left:Math.floor(s.left),width:Math.floor(s.width),height:Math.floor(s.height)}}function wg(s,e){return s===e?!0:s.isOriginClipped===e.isOriginClipped&&s.isOriginOutsideView===e.isOriginOutsideView&&s.isOverlayClipped===e.isOverlayClipped&&s.isOverlayOutsideView===e.isOverlayOutsideView}var Fu="cdk-global-overlay-wrapper";function Xu(s){return new Gr}var Gr=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Fu),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:n,maxWidth:r,maxHeight:a}=i,l=(o==="100%"||o==="100vw")&&(!r||r==="100%"||r==="100vw"),c=(n==="100%"||n==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,d=this._xOffset,u=this._overlayRef.getConfig().direction==="rtl",m="",g="",y="";l?y="flex-start":h==="center"?(y="center",u?g=d:m=d):u?h==="left"||h==="end"?(y="flex-end",m=d):(h==="right"||h==="start")&&(y="flex-start",g=d):h==="left"||h==="start"?(y="flex-start",m=d):(h==="right"||h==="end")&&(y="flex-end",g=d),e.position=this._cssPosition,e.marginLeft=l?"0":m,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":g,t.justifyContent=y,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Fu),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},Uu=(()=>{class s{_injector=C(Qe);constructor(){}global(){return Xu()}flexibleConnectedTo(t){return Yu(this._injector,t)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function qu(s,e){s.get(_s).load(Gu);let t=s.get(ju),i=s.get(Te),o=s.get(Iu),n=s.get(Ds),r=s.get(Mr),a=i.createElement("div"),l=i.createElement("div");l.id=o.getId("cdk-overlay-"),l.classList.add("cdk-overlay-pane"),a.appendChild(l),t.getContainerElement().appendChild(a);let c=new Fr(l,n,s),h=new Nr(e),d=s.get(Ct,null,{optional:!0})||s.get(nt).createRenderer(null,null);return h.direction=h.direction||r.value,new Hr(c,a,l,h,s.get(Ce),s.get(Hu),i,s.get(Yl),s.get(Wu),e?.disableAnimations??s.get(Bl,null,{optional:!0})==="NoopAnimations",s.get(li),d)}var fl=(()=>{class s{scrollStrategies=C(Nu);_positionBuilder=C(Uu);_injector=C(Qe);constructor(){}create(t){return qu(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(i){return new(i||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Zu(s){return s.buttons===0||s.detail===0}function Ku(s){let e=s.touches&&s.touches[0]||s.changedTouches&&s.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}function uf(s){let e=s.cloneNode(!0),t=e.querySelectorAll("[id]"),i=s.nodeName.toLowerCase();e.removeAttribute("id");for(let o=0;o<t.length;o++)t[o].removeAttribute("id");return i==="canvas"?ef(s,e):(i==="input"||i==="select"||i==="textarea")&&Ju(s,e),Qu("canvas",s,e,ef),Qu("input, textarea, select",s,e,Ju),e}function Qu(s,e,t,i){let o=e.querySelectorAll(s);if(o.length){let n=t.querySelectorAll(s);for(let r=0;r<o.length;r++)i(o[r],n[r])}}var bg=0;function Ju(s,e){e.type!=="file"&&(e.value=s.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${bg++}`)}function ef(s,e){let t=e.getContext("2d");if(t)try{t.drawImage(s,0,0)}catch{}}function bl(s){let e=s.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function gl(s,e,t){let{top:i,bottom:o,left:n,right:r}=s;return t>=i&&t<=o&&e>=n&&e<=r}function Cg(s,e){let t=e.left<s.left,i=e.left+e.width>s.right,o=e.top<s.top,n=e.top+e.height>s.bottom;return t||i||o||n}function Cs(s,e,t){s.top+=e,s.bottom=s.top+s.height,s.left+=t,s.right=s.left+s.width}function tf(s,e,t,i){let{top:o,right:n,bottom:r,left:a,width:l,height:c}=s,h=l*e,d=c*e;return i>o-d&&i<r+d&&t>a-h&&t<n+h}var jr=class{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:bl(t)})})}handleScroll(e){let t=Nt(e),i=this.positions.get(t);if(!i)return null;let o=i.scrollPosition,n,r;if(t===this._document){let c=this.getViewportScrollPosition();n=c.top,r=c.left}else n=t.scrollTop,r=t.scrollLeft;let a=o.top-n,l=o.left-r;return this.positions.forEach((c,h)=>{c.clientRect&&t!==h&&t.contains(h)&&Cs(c.clientRect,a,l)}),o.top=n,o.left=r,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function ff(s,e){let t=s.rootNodes;if(t.length===1&&t[0].nodeType===e.ELEMENT_NODE)return t[0];let i=e.createElement("div");return t.forEach(o=>i.appendChild(o)),i}function Cl(s,e,t){for(let i in e)if(e.hasOwnProperty(i)){let o=e[i];o?s.setProperty(i,o,t?.has(i)?"important":""):s.removeProperty(i)}return s}function $i(s,e){let t=e?"":"none";Cl(s.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function sf(s,e,t){Cl(s.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function Yr(s,e){return e&&e!="none"?s+" "+e:s}function of(s,e){s.style.width=`${e.width}px`,s.style.height=`${e.height}px`,s.style.transform=Ss(e.left,e.top)}function Ss(s,e){return`translate3d(${Math.round(s)}px, ${Math.round(e)}px, 0)`}function nf(s){let e=s.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(s)*e}function Sg(s){let e=getComputedStyle(s),t=pl(e,"transition-property"),i=t.find(a=>a==="transform"||a==="all");if(!i)return 0;let o=t.indexOf(i),n=pl(e,"transition-duration"),r=pl(e,"transition-delay");return nf(n[o])+nf(r[o])}function pl(s,e){return s.getPropertyValue(e).split(",").map(i=>i.trim())}var Rg=new Set(["position"]),_l=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(e,t,i,o,n,r,a,l,c,h){this._document=e,this._rootElement=t,this._direction=i,this._initialDomRect=o,this._previewTemplate=n,this._previewClass=r,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c,this._renderer=h}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),rf(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return Sg(this._preview)}addEventListener(e,t){return this._renderer.listen(this._preview,e,t)}_createPreview(){let e=this._previewTemplate,t=this._previewClass,i=e?e.template:null,o;if(i&&e){let n=e.matchSize?this._initialDomRect:null,r=e.viewContainer.createEmbeddedView(i,e.context);r.detectChanges(),o=ff(r,this._document),this._previewEmbeddedView=r,e.matchSize?of(o,n):o.style.transform=Ss(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=uf(this._rootElement),of(o,this._initialDomRect),this._initialTransform&&(o.style.transform=this._initialTransform);return Cl(o.style,{"pointer-events":"none",margin:rf(o)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Rg),$i(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("popover","manual"),o.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(n=>o.classList.add(n)):o.classList.add(t)),o}};function rf(s){return"showPopover"in s}var Pg={passive:!0},af={passive:!1},kg={passive:!1,capture:!0},Dg=800,lf=new Set(["position"]),yl=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=We(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new I;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=st.EMPTY;_pointerUpSubscription=st.EMPTY;_scrollSubscription=st.EMPTY;_resizeSubscription=st.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>$i(t,e)))}_disabled=!1;beforeStarted=new I;started=new I;released=new I;ended=new I;entered=new I;exited=new I;dropped=new I;moved=this._moveEvents;data;constrainPosition;constructor(e,t,i,o,n,r,a){this._config=t,this._document=i,this._ngZone=o,this._viewportRuler=n,this._dragDropRegistry=r,this._renderer=a,this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new jr(i),r.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>ut(i)),this._handles.forEach(i=>$i(i,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let t=ut(e);if(t!==this._rootElement){this._removeRootElementListeners();let i=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(t,"mousedown",this._pointerDown,af),i.listen(t,"touchstart",this._pointerDown,Pg),i.listen(t,"dragstart",this._nativeDragStart,af)]),this._initialTransform=void 0,this._rootElement=t}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?ut(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&Cg(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let e=this._boundaryElement.getBoundingClientRect(),t=this._rootElement.getBoundingClientRect(),i=0,o=0;t.left<e.left?i=e.left-t.left:t.right>e.right&&(i=e.right-t.right),t.top<e.top?o=e.top-t.top:t.bottom>e.bottom&&(o=e.bottom-t.bottom);let n=this._activeTransform.x,r=this._activeTransform.y,a=n+i,l=r+o;this._rootElement.style.transform=Ss(a,l),this._activeTransform={x:a,y:l},this._passiveTransform={x:a,y:l}}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),$i(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),$i(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{let t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){let o=Math.abs(t.x-this._pickupPositionOnPage.x),n=Math.abs(t.y-this._pickupPositionOnPage.y);if(o+n>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),l=this._dropContainer;if(!a){this._endDragSequence(e);return}(!l||!l.isDragging()&&!l.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();let i=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,t);else{let o=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,n=this._activeTransform;n.x=i.x-o.x+this._passiveTransform.x,n.y=i.y-o.y+this._passiveTransform.y,this._applyRootElementTransform(n.x,n.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:e,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){ws(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),i=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(t,"selectstart",Ig,kg)}),i){let o=this._rootElement,n=o.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");n.insertBefore(a,o),this._initialTransform=o.style.transform||"",this._preview=new _l(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(n,t)),sf(o,!1,lf),this._document.body.appendChild(n.replaceChild(r,o)),this.started.next({source:this,event:e}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();let i=this.isDragging(),o=ws(t),n=!o&&t.button!==0,r=this._rootElement,a=Nt(t),l=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+Dg>Date.now(),c=o?Ku(t):Zu(t);if(a&&a.draggable&&t.type==="mousedown"&&t.preventDefault(),i||n||l||c)return;if(this._handles.length){let u=r.style;this._rootElementTapHighlight=u.webkitTapHighlightColor||"",u.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(u=>this._updateOnScroll(u)),this._boundaryElement&&(this._boundaryRect=bl(this._boundaryElement));let h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);let d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){sf(this._rootElement,!0,lf),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,i=t.getItemIndex(this),o=this._getPointerPositionOnPage(e),n=this._getDragDistance(o),r=t._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:n,dropPoint:o,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:n,dropPoint:o,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,r,n,o,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:o}){let n=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=n,this._dropContainer.enter(this,e,t,n===this._initialContainer&&n.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:n,currentIndex:n.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,o),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let o=a=>{(!a||this._preview&&Nt(a)===this._preview.element&&a.propertyName==="transform")&&(r(),i(),clearTimeout(n))},n=setTimeout(o,t*1.5),r=this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,t=e?e.template:null,i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=ff(this._placeholderRef,this._document)):i=uf(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t,i){let o=t===this._rootElement?null:t,n=o?o.getBoundingClientRect():e,r=ws(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition(),l=r.pageX-n.left-a.left,c=r.pageY-n.top-a.top;return{x:n.left-e.left+l,y:n.top-e.top+c}}_getPointerPositionOnPage(e){let t=this._getViewportScrollPosition(),i=ws(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,o=i.pageX-t.left,n=i.pageY-t.top;if(this._ownerSVGElement){let r=this._ownerSVGElement.getScreenCTM();if(r){let a=this._ownerSVGElement.createSVGPoint();return a.x=o,a.y=n,a.matrixTransform(r.inverse())}}return{x:o,y:n}}_getConstrainedPointerPosition(e){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:o}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||t==="x"?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:n,y:r}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),h=a.top+r,d=a.bottom-(c-r),u=a.left+n,m=a.right-(l-n);i=cf(i,u,m),o=cf(o,h,d)}return{x:i,y:o}}_updatePointerDirectionDelta(e){let{x:t,y:i}=e,o=this._pointerDirectionDelta,n=this._pointerPositionAtLastDirectionChange,r=Math.abs(t-n.x),a=Math.abs(i-n.y);return r>this._config.pointerDirectionChangeThreshold&&(o.x=t>n.x?1:-1,n.x=t),a>this._config.pointerDirectionChangeThreshold&&(o.y=i>n.y?1:-1,n.y=i),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,$i(this._rootElement,e))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(e=>e()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,t){let i=1/this.scale,o=Ss(e*i,t*i),n=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=n.transform&&n.transform!="none"?n.transform:""),n.transform=Yr(o,this._initialTransform)}_applyPreviewTransform(e,t){let i=this._previewTemplate?.template?void 0:this._initialTransform,o=Ss(e,t);this._preview.setTransform(Yr(o,i))}_getDragDistance(e){let t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(e===0&&t===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(o.width===0&&o.height===0||i.width===0&&i.height===0)return;let n=o.left-i.left,r=i.right-o.right,a=o.top-i.top,l=i.bottom-o.bottom;o.width>i.width?(n>0&&(e+=n),r>0&&(e-=r)):e=0,o.height>i.height?(a>0&&(t+=a),l>0&&(t-=l)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){let t=this.dragStartDelay;return typeof t=="number"?t:ws(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){let t=this._parentPositions.handleScroll(e);if(t){let i=Nt(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Cs(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Or(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){let i=this._previewContainer||"global";if(i==="parent")return e;if(i==="global"){let o=this._document;return t||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return ut(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}};function cf(s,e,t){return Math.max(e,Math.min(t,s))}function ws(s){return s.type[0]==="t"}function Ig(s){s.preventDefault()}function pf(s,e,t){let i=hf(e,s.length-1),o=hf(t,s.length-1);if(i===o)return;let n=s[i],r=o<i?-1:1;for(let a=i;a!==o;a+=r)s[a]=s[a+r];s[o]=n}function hf(s,e){return Math.max(0,Math.min(e,s))}var Xr=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,t,i,o){let n=this._itemPositions,r=this._getItemIndexFromPointerPosition(e,t,i,o);if(r===-1&&n.length>0)return null;let a=this.orientation==="horizontal",l=n.findIndex(_=>_.drag===e),c=n[r],h=n[l].clientRect,d=c.clientRect,u=l>r?1:-1,m=this._getItemOffsetPx(h,d,u),g=this._getSiblingOffsetPx(l,n,u),y=n.slice();return pf(n,l,r),n.forEach((_,x)=>{if(y[x]===_)return;let w=_.drag===e,S=w?m:g,b=w?e.getPlaceholderElement():_.drag.getRootElement();_.offset+=S;let L=Math.round(_.offset*(1/_.drag.scale));a?(b.style.transform=Yr(`translate3d(${L}px, 0, 0)`,_.initialTransform),Cs(_.clientRect,0,S)):(b.style.transform=Yr(`translate3d(0, ${L}px, 0)`,_.initialTransform),Cs(_.clientRect,S,0))}),this._previousSwap.overlaps=gl(d,t,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?o.x:o.y,{previousIndex:l,currentIndex:r}}enter(e,t,i,o){let n=o==null||o<0?this._getItemIndexFromPointerPosition(e,t,i):o,r=this._activeDraggables,a=r.indexOf(e),l=e.getPlaceholderElement(),c=r[n];if(c===e&&(c=r[n+1]),!c&&(n==null||n===-1||n<r.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(c=r[0]),a>-1&&r.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){let h=c.getRootElement();h.parentElement.insertBefore(l,h),r.splice(n,0,e)}else this._element.appendChild(l),r.push(e);l.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let t=e.getRootElement();if(t){let i=this._itemPositions.find(o=>o.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{Cs(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:bl(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(e,t,i){let o=this.orientation==="horizontal",n=o?t.left-e.left:t.top-e.top;return i===-1&&(n+=o?t.width-e.width:t.height-e.height),n}_getSiblingOffsetPx(e,t,i){let o=this.orientation==="horizontal",n=t[e].clientRect,r=t[e+i*-1],a=n[o?"width":"height"]*i;if(r){let l=o?"left":"top",c=o?"right":"bottom";i===-1?a-=r.clientRect[l]-n[c]:a+=n[l]-r.clientRect[c]}return a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,o=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let r=i[i.length-1].clientRect;return o?e>=r.right:t>=r.bottom}else{let r=i[0].clientRect;return o?e<=r.left:t<=r.top}}_getItemIndexFromPointerPosition(e,t,i,o){let n=this.orientation==="horizontal",r=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===e)return!1;if(o){let c=n?o.x:o.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return n?t>=Math.floor(l.left)&&t<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return r===-1||!this._sortPredicate(r,e)?-1:r}},vl=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,t){this._document=e,this._dragDropRegistry=t}start(e){let t=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<t.length;i++){let o=t[i];this._relatedNodes.push([o,o.nextSibling])}this.withItems(e)}sort(e,t,i,o){let n=this._getItemIndexFromPointerPosition(e,t,i),r=this._previousSwap;if(n===-1||this._activeItems[n]===e)return null;let a=this._activeItems[n];if(r.drag===a&&r.overlaps&&r.deltaX===o.x&&r.deltaY===o.y)return null;let l=this.getItemIndex(e),c=e.getPlaceholderElement(),h=a.getRootElement();n>l?h.after(c):h.before(c),pf(this._activeItems,l,n);let d=this._getRootNode().elementFromPoint(t,i);return r.deltaX=o.x,r.deltaY=o.y,r.drag=a,r.overlaps=h===d||h.contains(d),{previousIndex:l,currentIndex:n}}enter(e,t,i,o){let n=o==null||o<0?this._getItemIndexFromPointerPosition(e,t,i):o;n===-1&&(n=this._getClosestItemIndexToPointer(e,t,i));let r=this._activeItems[n],a=this._activeItems.indexOf(e);a>-1&&this._activeItems.splice(a,1),r&&!this._dragDropRegistry.isDragging(r)?(this._activeItems.splice(n,0,e),r.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,t=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[o,n]=this._relatedNodes[i];o.parentNode===e&&o.nextSibling!==n&&(n===null?e.appendChild(o):n.parentNode===e&&e.insertBefore(o,n))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,i){let o=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(i)),n=o?this._activeItems.findIndex(r=>{let a=r.getRootElement();return o===a||a.contains(o)}):-1;return n===-1||!this._sortPredicate(n,e)?-1:n}_getRootNode(){return this._rootNode||(this._rootNode=Or(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,i){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let o=1/0,n=-1;for(let r=0;r<this._activeItems.length;r++){let a=this._activeItems[r];if(a!==e){let{x:l,y:c}=a.getRootElement().getBoundingClientRect(),h=Math.hypot(t-l,i-c);h<o&&(o=h,n=r)}}return n}},df=.05,mf=.05,Ze=function(s){return s[s.NONE=0]="NONE",s[s.UP=1]="UP",s[s.DOWN=2]="DOWN",s}(Ze||{}),Oe=function(s){return s[s.NONE=0]="NONE",s[s.LEFT=1]="LEFT",s[s.RIGHT=2]="RIGHT",s}(Oe||{}),xl=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new I;entered=new I;exited=new I;dropped=new I;sorted=new I;receivingStarted=new I;receivingStopped=new I;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=st.EMPTY;_verticalScrollDirection=Ze.NONE;_horizontalScrollDirection=Oe.NONE;_scrollNode;_stopScrollTimers=new I;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,t,i,o,n){this._dragDropRegistry=t,this._ngZone=o,this._viewportRuler=n;let r=this.element=ut(e);this._document=i,this.withOrientation("vertical").withElementContainer(r),t.registerDropContainer(this),this._parentPositions=new jr(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,o){this._draggingStarted(),o==null&&this.sortingDisabled&&(o=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,o,n,r,a,l={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:o,isPointerOverContainer:n,distance:r,dropPoint:a,event:l})}withItems(e){let t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(o=>o.isDragging()).every(o=>e.indexOf(o)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof Xr&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new vl(this._document,this._dragDropRegistry);else{let t=new Xr(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,i)=>this.sortPredicate(t,i,this)),this}withScrollableParents(e){let t=this._container;return this._scrollableElements=e.indexOf(t)===-1?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let t=ut(this.element),i=this._scrollableElements.indexOf(this._container),o=this._scrollableElements.indexOf(e);return i>-1&&this._scrollableElements.splice(i,1),o>-1&&this._scrollableElements.splice(o,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,o){if(this.sortingDisabled||!this._domRect||!tf(this._domRect,df,t,i))return;let n=this._sortStrategy.sort(e,t,i,o);n&&this.sorted.next({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,o=Ze.NONE,n=Oe.NONE;if(this._parentPositions.positions.forEach((r,a)=>{a===this._document||!r.clientRect||i||tf(r.clientRect,df,e,t)&&([o,n]=Eg(a,r.clientRect,this._direction,e,t),(o||n)&&(i=a))}),!o&&!n){let{width:r,height:a}=this._viewportRuler.getViewportSize(),l={width:r,height:a,top:0,right:r,bottom:a,left:0};o=gf(l,t),n=_f(l,e),i=window}i&&(o!==this._verticalScrollDirection||n!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=n,this._scrollNode=i,(o||n)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Ol(0,Zr).pipe(ot(this._stopScrollTimers)).subscribe(()=>{let e=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===Ze.UP?e.scrollBy(0,-t):this._verticalScrollDirection===Ze.DOWN&&e.scrollBy(0,t),this._horizontalScrollDirection===Oe.LEFT?e.scrollBy(-t,0):this._horizontalScrollDirection===Oe.RIGHT&&e.scrollBy(t,0)})};_isOverContainer(e,t){return this._domRect!=null&&gl(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(o=>o._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._domRect||!gl(this._domRect,t,i)||!this.enterPredicate(e,this))return!1;let o=this._getShadowRoot().elementFromPoint(t,i);return o?o===this._container||this._container.contains(o):!1}_startReceiving(e,t){let i=this._activeSiblings;!i.has(e)&&t.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=Or(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}};function gf(s,e){let{top:t,bottom:i,height:o}=s,n=o*mf;return e>=t-n&&e<=t+n?Ze.UP:e>=i-n&&e<=i+n?Ze.DOWN:Ze.NONE}function _f(s,e){let{left:t,right:i,width:o}=s,n=o*mf;return e>=t-n&&e<=t+n?Oe.LEFT:e>=i-n&&e<=i+n?Oe.RIGHT:Oe.NONE}function Eg(s,e,t,i,o){let n=gf(e,o),r=_f(e,i),a=Ze.NONE,l=Oe.NONE;if(n){let c=s.scrollTop;n===Ze.UP?c>0&&(a=Ze.UP):s.scrollHeight-c>s.clientHeight&&(a=Ze.DOWN)}if(r){let c=s.scrollLeft;t==="rtl"?r===Oe.RIGHT?c<0&&(l=Oe.RIGHT):s.scrollWidth+c>s.clientWidth&&(l=Oe.LEFT):r===Oe.LEFT?c>0&&(l=Oe.LEFT):s.scrollWidth-c>s.clientWidth&&(l=Oe.RIGHT)}return[a,l]}var bs={capture:!0},ml={passive:!1,capture:!0},Og=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275cmp=q({type:s,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,o){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return s})(),Sl=(()=>{class s{_ngZone=C(Ce);_document=C(Te);_styleLoader=C(_s);_renderer=C(nt).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new I;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=We([]);_globalListeners;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new I;pointerUp=new I;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,ml)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(t,i){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(Og),this._activeDragInstances.update(o=>[...o,t]),this._activeDragInstances().length===1)){let o=i.type.startsWith("touch"),n=a=>this.pointerUp.next(a),r=[["scroll",a=>this._scroll.next(a),bs],["selectstart",this._preventDefaultWhileDragging,ml]];o?r.push(["touchend",n,bs],["touchcancel",n,bs]):r.push(["mouseup",n,bs]),o||r.push(["mousemove",a=>this.pointerMove.next(a),ml]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=r.map(([a,l,c])=>this._renderer.listen(this._document,a,l,c))})}}stopDragging(t){this._activeDragInstances.update(i=>{let o=i.indexOf(t);return o>-1?(i.splice(o,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let i=[this._scroll];return t&&t!==this._document&&i.push(new Ai(o=>this._ngZone.runOutsideAngular(()=>{let n=this._renderer.listen(t,"scroll",r=>{this._activeDragInstances().length&&o.next(r)},bs);return()=>{n()}}))),Kr(...i)}registerDirectiveNode(t,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,i)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners?.forEach(t=>t()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Tg={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Mg=(()=>{class s{_document=C(Te);_ngZone=C(Ce);_viewportRuler=C(si);_dragDropRegistry=C(Sl);_renderer=C(nt).createRenderer(null,null);constructor(){}createDrag(t,i=Tg){return new yl(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(t){return new xl(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),wl=new Ke("CDK_DRAG_PARENT");var yf=new Ke("CdkDragHandle"),vf=(()=>{class s{element=C(Pe);_parentDrag=C(wl,{optional:!0,skipSelf:!0});_dragDropRegistry=C(Sl);_stateChanges=new I;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let t=this.element.nativeElement.parentElement;for(;t;){let i=this._dragDropRegistry.getDragDirectiveForNode(t);if(i){this._parentDrag=i,i._addHandle(this);break}t=t.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(i){return new(i||s)};static \u0275dir=Vi({type:s,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",Wi]},features:[Ms([{provide:yf,useExisting:s}])]})}return s})(),zg=new Ke("CDK_DRAG_CONFIG"),Lg=new Ke("CdkDropList"),xf=(()=>{class s{element=C(Pe);dropContainer=C(Lg,{optional:!0,skipSelf:!0});_ngZone=C(Ce);_viewContainerRef=C(Ni);_dir=C(Mr,{optional:!0});_changeDetectorRef=C(Hi);_selfHandle=C(yf,{optional:!0,self:!0});_parentDrag=C(wl,{optional:!0,skipSelf:!0});_dragDropRegistry=C(Sl);_destroyed=new I;_handles=new Rs([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new G;released=new G;ended=new G;entered=new G;exited=new G;dropped=new G;moved=new Ai(t=>{let i=this._dragRef.moved.pipe(Dl(o=>({source:this,pointerPosition:o.pointerPosition,event:o.event,delta:o.delta,distance:o.distance}))).subscribe(t);return()=>{i.unsubscribe()}});_injector=C(Qe);constructor(){let t=this.dropContainer,i=C(zg,{optional:!0}),o=C(Mg);this._dragRef=o.createDrag(this.element,{dragStartThreshold:i&&i.dragStartThreshold!=null?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&i.pointerDirectionChangeThreshold!=null?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this),t._dropListRef.beforeStarted.pipe(ot(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){hi(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){let i=t.rootElementSelector,o=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){let i=this._handles.getValue();i.push(t),this._handles.next(i)}_removeHandle(t){let i=this._handles.getValue(),o=i.indexOf(t);o>-1&&(i.splice(o,1),this._handles.next(i))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let t=this.element.nativeElement,i=t;this.rootElementSelector&&(i=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):ut(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let i=this._dir,o=this.dragStartDelay,n=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay=typeof o=="object"&&o?o:rl(o),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(n).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(zl(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){let o=this._dragDropRegistry.getDragDirectiveForNode(i);if(o){t.withParent(o._dragRef);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){let{lockAxis:i,dragStartDelay:o,constrainPosition:n,previewClass:r,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:h}=t;this.disabled=l??!1,this.dragStartDelay=o||0,i&&(this.lockAxis=i),n&&(this.constrainPosition=n),r&&(this.previewClass=r),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.pipe(Ll(t=>{let i=t.map(o=>o.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Bi(t=>Kr(...t.map(i=>i._stateChanges.pipe(Jr(i))))),ot(this._destroyed)).subscribe(t=>{let i=this._dragRef,o=t.element.nativeElement;t.disabled?i.disableHandle(o):i.enableHandle(o)})}static \u0275fac=function(i){return new(i||s)};static \u0275dir=Vi({type:s,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,o){i&2&&sa("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Wi],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",jl]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Ms([{provide:wl,useExisting:s}]),Vt]})}return s})();var wf=(()=>{class s{config={title:"",content:""};close=new G;onClose(){this.close.emit()}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=q({type:s,selectors:[["modal"]],inputs:{config:"config"},outputs:{close:"close"},decls:8,vars:2,consts:[["cdkDrag","",1,"dialog"],["cdkDragHandle","",1,"dialog__header"],["src","assets/icons/move.svg","alt","Move","width","24","height","24"],[1,"dialog__title"],[1,"dialog__close",3,"click"],["src","assets/icons/close.svg","alt","Close","width","24","height","24"],[1,"dialog__content",3,"innerHTML"]],template:function(i,o){i&1&&(D(0,"div",0)(1,"div",1),J(2,"img",2),D(3,"div",3),Fe(4),E(),D(5,"div",4),ye("click",function(){return o.onClose()}),J(6,"img",5),E()(),J(7,"div",6),E()),i&2&&(M(4),di(" ",o.config.title," "),M(3),ue("innerHTML",o.config.content,Nl))},dependencies:[xf,vf],styles:[".dialog[_ngcontent-%COMP%]{margin-inline:15%;border:1px solid #E0E0E0;display:flex;flex-direction:column;justify-content:center;align-items:center;background:#fff;border-radius:4px;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.dialog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.dialog__header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:move;border-bottom:1px solid #E0E0E0;width:100%;background-color:#f8f9fa;gap:8px;box-sizing:border-box;padding:12px;position:relative}.dialog__content[_ngcontent-%COMP%]{cursor:default;pointer-events:none;padding:12px 16px}.dialog__close[_ngcontent-%COMP%]{display:flex;align-items:center;position:absolute;right:8px;cursor:pointer}"]})}return s})();var Fg=new Ke("MODAL_VIEW_CONTAINER_REF"),bf=(()=>{class s{_globalVcr;constructor(t){this._globalVcr=t}_overlay=C(fl);_overlayRef;ngOnDestroy(){this.close()}close(){this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._overlayRef.dispose())}open(t){this._overlayRef=this._overlay.create({positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),hasBackdrop:!0,backdropClass:"modal-backdrop"});let i=new vs(wf,this._globalVcr),o=this._overlayRef.attach(i);return o.instance.config=t,o.instance.close.subscribe(()=>this.close()),this._overlayRef.backdropClick().subscribe(()=>this.close()),this._overlayRef}static \u0275fac=function(i){return new(i||s)(ai(Fg,8))};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var Cf={production:!0,apiUrl:"https://rushhour-be.vercel.app"};var Sf=(()=>{class s{http;apiUrl=Cf.apiUrl;constructor(t){this.http=t}getNewGame(t){return this.http.post(`${this.apiUrl}/api/game`,t)}static \u0275fac=function(i){return new(i||s)(ai(Jl))};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var Rf=(()=>{class s{toastrService;constructor(t){this.toastrService=t}success(t="",i=""){this.toastrService.success(t,i)}error(t="",i=""){this.toastrService.error(t,i)}static \u0275fac=function(i){return new(i||s)(ai(ec))};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var Pf=(s,e,t)=>({control:s,isFirst:e,isLast:t}),Ng=(s,e,t)=>({"container__control--first":s,"container__control--last":e,"container__control--disabled":t}),Vg=(s,e)=>e.name;function Hg(s,e){if(s&1&&ia(0,7),s&2){let t=e.$implicit,i=e.$index,o=e.$count,n=P(),r=Ts(17),a=Ts(19);ue("ngTemplateOutlet",t.type===n.gameControlType.Button?r:a)("ngTemplateOutletContext",zs(2,Pf,t,i===0,i===o-1))}}function Wg(s,e){if(s&1){let t=Le();D(0,"grid",11),ye("onGridError",function(){X(t);let o=P();return U(o.reloadGrid())})("onGridComplete",function(){X(t);let o=P();return U(o.onGridComplete())})("onUserError",function(o){X(t);let n=P();return U(n.onGridUserError(o))}),E()}if(s&2){let t=P();ue("config",t.vehiclesConfig())("exitRow",t.exitRow)}}function Gg(s,e){s&1&&J(0,"loader")}function jg(s,e){if(s&1&&Fe(0),s&2){let t=P().control,i=P();Gl(" ",t.name,": ",i.MAP_DIFFICULTY_TO_DESCRIPTION[i.difficulty]," ")}}function Yg(s,e){if(s&1&&Fe(0),s&2){let t=P().control;di(" ",t.name," ")}}function Xg(s,e){if(s&1){let t=Le();D(0,"button",12),ye("click",function(){let o=X(t).control,n=P();return U(n.onControlClick(o))}),he(1,jg,1,2)(2,Yg,1,1),E()}if(s&2){let t=e.control,i=e.isFirst,o=e.isLast,n=P(),r=n.isLoadingNewGame()&&(t.id===n.gameControlAction.NewGame||t.id===n.gameControlAction.Difficulty);ue("disabled",r)("ngClass",zs(3,Ng,i,o,r)),M(),de(t.id===n.gameControlAction.Difficulty?1:2)}}function Ug(s,e){if(s&1){let t=Le();D(0,"button",16),ye("click",function(){let o=X(t).$implicit,n=P(2).control,r=P();return U(r.onControlOptionClick(n,o))}),Fe(1),E()}if(s&2){let t=e.$implicit;M(),Wl(t.name)}}function qg(s,e){if(s&1&&(D(0,"div",14),St(1,Ug,2,1,"button",15,Is),E()),s&2){let t=P().control;M(),Rt(t.options)}}function Zg(s,e){if(s&1&&(D(0,"div",13),ia(1,7),he(2,qg,3,0,"div",14),E()),s&2){let t=e.control,i=e.isFirst,o=e.isLast,n=P(),r=Ts(17);M(),ue("ngTemplateOutlet",r)("ngTemplateOutletContext",zs(3,Pf,t,i,o)),M(),de(n.allowDropdown?2:-1)}}function Kg(s,e){s&1&&J(0,"particles")}var Qg=2500,cF=(()=>{class s{modalService;apiService;storageService;toastService;gameControlType=Pt;gameControlAction=rt;controls=ma();MAP_DIFFICULTY_TO_DESCRIPTION={[at.Easy]:"Easy",[at.Medium]:"Medium",[at.Hard]:"Hard"};difficulty=at.Easy;allowDropdown=!0;exitRow=$s;vehiclesConfig=We([]);isLoadingNewGame=We(!1);gameWon=We(!1);constructor(t,i,o,n){this.modalService=t,this.apiService=i,this.storageService=o,this.toastService=n,this.controls=ma(),this.setGameParamsFromCache()}setGameParamsFromCache(){let t=this.storageService.getItem(Ki.GameCache);t&&(this.setGameParams(t),this.isLoadingNewGame.set(!1))}openRulesModal(){let t=pc();this.modalService.open(t)}setGameParams(t){let i=t.vehicles.map(o=>be(T({},o),{dragging:xc(o),color:this.getCarColor(o)}));this.exitRow=t.exitRow,this.vehiclesConfig.set(i)}getCarColor(t){let i=Object.values(ui).filter(o=>o!==ui.Green);if(t.type===Zi.GreenCar)return ui.Green;{let o=Math.floor(Math.random()*i.length);return i[o]}}createNewGame(){this.isLoadingNewGame.set(!0),this.apiService.getNewGame({size:fc,difficulty:this.difficulty}).pipe(Tl(t=>{throw this.isLoadingNewGame.set(!1),this.gameWon.set(!1),t})).subscribe(t=>{this.setGameParams(t),this.isLoadingNewGame.set(!1),this.gameWon.set(!1),this.storageService.setItem(Ki.GameCache,t)})}reloadGrid(){this.isLoadingNewGame()||this.createNewGame()}onControlClick(t){if(t.type===Pt.Button)switch(t.id){case rt.NewGame:this.createNewGame();break;case rt.Rules:this.openRulesModal();break}}onMouseOver(){this.allowDropdown=!0}onControlOptionClick(t,i){if(this.allowDropdown=!1,t.id===rt.Difficulty){if(this.difficulty===i.id)return;this.difficulty=i.id,this.createNewGame()}}onGridComplete(){this.gameWon.set(!0),setTimeout(()=>{this.gameWon.set(!1)},Qg),this.toastService.success("You won!"),this.storageService.removeItem(Ki.GameCache),this.createNewGame()}onGridUserError(t){let i="";switch(t){case lt.NoOverlapAllowed:i="No overlap allowed";break;case lt.CanOnlyMoveHorizontaly:i="Only moves left and right";break;case lt.CanOnlyMoveVertically:i="Only moves up and down";break}i&&this.toastService.error(i)}static \u0275fac=function(i){return new(i||s)(oe(bf),oe(Sf),oe(yc),oe(Rf))};static \u0275cmp=q({type:s,selectors:[["home"]],decls:21,vars:2,consts:[["controlButton",""],["controlDropdownButton",""],[1,"container"],[1,"container__header"],[1,"container__title"],[1,"container__content"],[1,"container__controls"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"container__grid"],[3,"config","exitRow"],[1,"container__footer"],[3,"onGridError","onGridComplete","onUserError","config","exitRow"],[1,"container__control",3,"click","disabled","ngClass"],[1,"container__dropdown-wrapper"],[1,"container__menu"],[1,"container__menu-item"],[1,"container__menu-item",3,"click"]],template:function(i,o){i&1&&(D(0,"div",2)(1,"div",3)(2,"span",4),Fe(3,"Rush Hour"),E()(),D(4,"div",5)(5,"div",6),St(6,Hg,1,6,"ng-container",7,Vg),E(),D(8,"div",8),he(9,Wg,1,2,"grid",9)(10,Gg,1,0,"loader"),E()(),D(11,"div",10)(12,"span"),Fe(13," Game generation is powered by Gemini. It might take a few seconds to load - thanks for waiting! "),E(),D(14,"span"),Fe(15,"\xA9 2025 Eden Oren"),E()()(),Hl(16,Xg,3,7,"ng-template",null,0,oa)(18,Zg,3,7,"ng-template",null,1,oa),he(20,Kg,1,0,"particles")),i&2&&(M(6),Rt(o.controls),M(3),de(o.isLoadingNewGame()?10:9),M(11),de(o.gameWon()?20:-1))},dependencies:[Zl,Xl,ql,_c,vc,ku],styles:[".container[_ngcontent-%COMP%]{border:1px solid #E0E0E0;border-radius:8px;box-shadow:0 4px 8px #0000001a}.container__controls[_ngcontent-%COMP%], .container__header[_ngcontent-%COMP%]{border-top-left-radius:8px;border-top-right-radius:8px}.container__footer[_ngcontent-%COMP%], .container__menu[_ngcontent-%COMP%]{border-bottom-left-radius:8px;border-bottom-right-radius:8px}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:100%;margin:3vh 26vw}.container__header[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:12px}.container__title[_ngcontent-%COMP%]{font-size:36px;-webkit-user-select:none;user-select:none;display:flex;justify-content:center}.container__content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;border-bottom:1px solid #E0E0E0;border-top:1px solid #E0E0E0;padding:16px 36px}.container__controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;background-color:#e3ecf5;border:1px solid #E0E0E0;border-bottom:none}.container__control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:8px;flex:1;background-color:unset;border:none;cursor:pointer;border-inline-start:1px solid #E0E0E0;font:inherit;font-weight:700}.container__control[_ngcontent-%COMP%]:hover{background-color:#b0d5fb}.container__control--first[_ngcontent-%COMP%]{border-inline-start:none}.container__control--first[_ngcontent-%COMP%]:hover{border-start-start-radius:8px}.container__control--last[_ngcontent-%COMP%]:hover{border-start-end-radius:8px}.container__control--disabled[_ngcontent-%COMP%]{cursor:default}.container__control--disabled[_ngcontent-%COMP%]:hover{background-color:unset}.container__control--disabled[_ngcontent-%COMP%]   .container__menu[_ngcontent-%COMP%]:hover{display:none!important}.container__menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;z-index:2;background-color:#fff;border:1px solid #E0E0E0;overflow:hidden;box-shadow:0 4px 8px #0006;box-sizing:border-box;display:none}.container__menu[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{display:block}.container__menu-item[_ngcontent-%COMP%]{display:block;width:100%;padding:8px 16px;border:none;background:none;text-align:center;cursor:pointer;white-space:nowrap}.container__menu-item[_ngcontent-%COMP%]:hover{background-color:#b0d5fb}.container__dropdown-wrapper[_ngcontent-%COMP%]{flex:1;position:relative;display:flex}.container__dropdown-wrapper[_ngcontent-%COMP%]:hover   .container__menu[_ngcontent-%COMP%]{display:block}.container__footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:16px;font-family:sans-serif;font-size:12px;background-color:#f8f9fa}.container__grid[_ngcontent-%COMP%]{flex:1;border:1px solid #E0E0E0;border-top:none}"],changeDetection:0})}return s})();export{cF as HomeComponent};
