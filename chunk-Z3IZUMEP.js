import{$ as U,$a as ia,A as Rs,Aa as Ni,B as Kn,Ba as Vl,C as Ol,Ca as G,Da as Ce,E as Tl,Ea as hi,G as Ml,Hb as Jl,Ia as ks,Ja as me,Ka as ge,La as ea,M as Qn,Ma as Ds,N as Ai,Na as Ct,O as it,Oa as St,P as zl,Pa as de,Qa as T,R as L,Ra as M,S as ni,Sa as ce,Ta as ta,U as Ze,Ua as Le,V as ai,Va as _e,W as C,Wa as E,Xa as Is,Y as li,Ya as Es,Za as Os,_ as Y,_a as Vt,a as I,aa as Ll,ab as Fe,b as be,ba as Fl,bb as Hl,c as Sl,ca as Ke,cb as di,d as p,da as Te,db as Wl,e as tt,eb as Ts,fb as Ms,g as $i,ga as He,gb as sa,ia as Nt,j as k,ja as Jn,k as Ss,ka as Pe,kb as Vi,l as qn,la as $l,lb as Hi,ma as Ps,mb as Gl,n as Rl,na as Al,nb as zs,o as Pl,oa as Bl,ob as jl,pa as F,pb as Xl,qa as st,qb as Yl,ra as bt,rb as Ul,s as kl,sa as ie,sb as ql,ta as Bi,tb as Zl,u as Dl,ub as Kl,va as Nl,x as Il,xb as Ql,y as El,ya as se,z as Zn,za as ci}from"./chunk-VLD6R4XK.js";var ic=["*"];function kf(s,e){if(s&1&&ce(0,"div",0),s&2){let t=e.$index,i=E();de("ngStyle",i.gridRenderer.getGridColumnStyle(t))}}function Df(s,e){if(s&1&&ce(0,"div",1),s&2){let t=e.$index,i=E();de("ngStyle",i.gridRenderer.getGridRowStyle(t))}}function If(s,e){if(s&1){let t=Le();T(0,"div",8),_e("mousedown",function(o){Y(t);let r=E();return U(r.resize.dragStartDelay(o))})("touchstart",function(o){Y(t);let r=E();return U(r.resize.dragStartDelay(o))}),M()}}function Ef(s,e){if(s&1){let t=Le();T(0,"div",9),_e("mousedown",function(o){Y(t);let r=E();return U(r.resize.dragStartDelay(o))})("touchstart",function(o){Y(t);let r=E();return U(r.resize.dragStartDelay(o))}),M()}}function Of(s,e){if(s&1){let t=Le();T(0,"div",10),_e("mousedown",function(o){Y(t);let r=E();return U(r.resize.dragStartDelay(o))})("touchstart",function(o){Y(t);let r=E();return U(r.resize.dragStartDelay(o))}),M()}}function Tf(s,e){if(s&1){let t=Le();T(0,"div",11),_e("mousedown",function(o){Y(t);let r=E();return U(r.resize.dragStartDelay(o))})("touchstart",function(o){Y(t);let r=E();return U(r.resize.dragStartDelay(o))}),M()}}function Mf(s,e){if(s&1){let t=Le();T(0,"div",12),_e("mousedown",function(o){Y(t);let r=E();return U(r.resize.dragStartDelay(o))})("touchstart",function(o){Y(t);let r=E();return U(r.resize.dragStartDelay(o))}),M()}}function zf(s,e){if(s&1){let t=Le();T(0,"div",13),_e("mousedown",function(o){Y(t);let r=E();return U(r.resize.dragStartDelay(o))})("touchstart",function(o){Y(t);let r=E();return U(r.resize.dragStartDelay(o))}),M()}}function Lf(s,e){if(s&1){let t=Le();T(0,"div",14),_e("mousedown",function(o){Y(t);let r=E();return U(r.resize.dragStartDelay(o))})("touchstart",function(o){Y(t);let r=E();return U(r.resize.dragStartDelay(o))}),M()}}function Ff(s,e){if(s&1){let t=Le();T(0,"div",15),_e("mousedown",function(o){Y(t);let r=E();return U(r.resize.dragStartDelay(o))})("touchstart",function(o){Y(t);let r=E();return U(r.resize.dragStartDelay(o))}),M()}}var O=function(s){return s.Fit="fit",s.ScrollVertical="scrollVertical",s.ScrollHorizontal="scrollHorizontal",s.Fixed="fixed",s.VerticalFixed="verticalFixed",s.HorizontalFixed="horizontalFixed",s}(O||{}),sc=function(s){return s.Always="always",s.OnDragAndResize="onDrag&Resize",s.None="none",s}(sc||{}),N=function(s){return s.None="none",s.CompactUp="compactUp",s.CompactLeft="compactLeft",s.CompactUpAndLeft="compactUp&Left",s.CompactLeftAndUp="compactLeft&Up",s.CompactRight="compactRight",s.CompactUpAndRight="compactUp&Right",s.CompactRightAndUp="compactRight&Up",s.CompactDown="compactDown",s.CompactDownAndLeft="compactDown&Left",s.CompactLeftAndDown="compactLeft&Down",s.CompactDownAndRight="compactDown&Right",s.CompactRightAndDown="compactRight&Down",s}(N||{}),ye=function(s){return s.LTR="ltr",s.RTL="rtl",s}(ye||{}),oa=class{gridster;constructor(e){this.gridster=e}destroy(){this.gridster=null}checkCompact(){this.gridster.$options.compactType!==N.None&&(this.gridster.$options.compactType===N.CompactUp?this.checkCompactMovement("y",-1):this.gridster.$options.compactType===N.CompactLeft?this.checkCompactMovement("x",-1):this.gridster.$options.compactType===N.CompactUpAndLeft?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===N.CompactLeftAndUp?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===N.CompactRight?this.checkCompactMovement("x",1):this.gridster.$options.compactType===N.CompactUpAndRight?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===N.CompactRightAndUp?(this.checkCompactMovement("x",1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===N.CompactDown?this.checkCompactMovement("y",1):this.gridster.$options.compactType===N.CompactDownAndLeft?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===N.CompactDownAndRight?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===N.CompactLeftAndDown?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",1)):this.gridster.$options.compactType===N.CompactRightAndDown&&(this.checkCompactMovement("x",1),this.checkCompactMovement("y",1)))}checkCompactItem(e){this.gridster.$options.compactType!==N.None&&(this.gridster.$options.compactType===N.CompactUp?this.moveTillCollision(e,"y",-1):this.gridster.$options.compactType===N.CompactLeft?this.moveTillCollision(e,"x",-1):this.gridster.$options.compactType===N.CompactUpAndLeft?(this.moveTillCollision(e,"y",-1),this.moveTillCollision(e,"x",-1)):this.gridster.$options.compactType===N.CompactLeftAndUp?(this.moveTillCollision(e,"x",-1),this.moveTillCollision(e,"y",-1)):this.gridster.$options.compactType===N.CompactUpAndRight?(this.moveTillCollision(e,"y",-1),this.moveTillCollision(e,"x",1)):this.gridster.$options.compactType===N.CompactDown?this.moveTillCollision(e,"y",1):this.gridster.$options.compactType===N.CompactDownAndLeft?(this.moveTillCollision(e,"y",1),this.moveTillCollision(e,"x",-1)):this.gridster.$options.compactType===N.CompactLeftAndDown?(this.moveTillCollision(e,"x",-1),this.moveTillCollision(e,"y",1)):this.gridster.$options.compactType===N.CompactDownAndRight?(this.moveTillCollision(e,"y",1),this.moveTillCollision(e,"x",1)):this.gridster.$options.compactType===N.CompactRightAndDown&&(this.moveTillCollision(e,"x",1),this.moveTillCollision(e,"y",1)))}checkCompactMovement(e,t){let i=!1;this.gridster.grid.forEach(o=>{o.$item.compactEnabled!==!1&&this.moveTillCollision(o.$item,e,t)&&(i=!0,o.item[e]=o.$item[e],o.itemChanged())}),i&&this.checkCompact()}moveTillCollision(e,t,i){return e[t]+=i,this.gridster.checkCollision(e)?(e[t]-=i,!1):(this.moveTillCollision(e,t,i),!0)}},$f={gridType:O.Fit,scale:1,fixedColWidth:250,fixedRowHeight:250,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,setGridSize:!1,compactType:N.None,mobileBreakpoint:640,useBodyForBreakpoint:!1,allowMultiLayer:!1,defaultLayerIndex:0,maxLayerIndex:2,baseLayerIndex:1,minCols:1,maxCols:100,minRows:1,maxRows:100,defaultItemCols:1,defaultItemRows:1,maxItemCols:50,maxItemRows:50,minItemCols:1,minItemRows:1,minItemArea:1,maxItemArea:2500,addEmptyRowsCount:0,rowHeightRatio:1,margin:10,outerMargin:!0,outerMarginTop:null,outerMarginRight:null,outerMarginBottom:null,outerMarginLeft:null,useTransformPositioning:!0,scrollSensitivity:10,scrollSpeed:20,initCallback:void 0,destroyCallback:void 0,gridSizeChangedCallback:void 0,itemChangeCallback:void 0,itemResizeCallback:void 0,itemInitCallback:void 0,itemRemovedCallback:void 0,itemValidateCallback:void 0,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,enableOccupiedCellDrop:!1,emptyCellClickCallback:void 0,emptyCellContextMenuCallback:void 0,emptyCellDropCallback:void 0,emptyCellDragCallback:void 0,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{delayStart:0,enabled:!1,ignoreContentClass:"gridster-item-content",ignoreContent:!1,dragHandleClass:"drag-handler",stop:void 0,start:void 0,dropOverItems:!1,dropOverItemsCallback:void 0},resizable:{delayStart:0,enabled:!1,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0},stop:void 0,start:void 0},swap:!0,swapWhileDragging:!1,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:sc.OnDragAndResize,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1,disableScrollHorizontal:!1,disableScrollVertical:!1,enableBoundaryControl:!1,disableAutoPositionOnConflict:!1,dirType:ye.LTR},Se=class s{static merge(e,t,i){for(let o in t)t[o]!==void 0&&i.hasOwnProperty(o)&&(typeof t[o]=="object"?(o in e||(e[o]={}),e[o]=s.merge(e[o],t[o],i[o])):e[o]=t[o]);return e}static checkTouchEvent(e){e.clientX===void 0&&e.touches&&(e.touches&&e.touches.length?(e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY):e.changedTouches&&e.changedTouches.length&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY))}static checkContentClassForEvent(e,t){if(e.$options.draggable.ignoreContent){if(!s.checkDragHandleClass(t.target,t.currentTarget,e.$options.draggable.dragHandleClass,e.$options.draggable.ignoreContentClass))return!0}else if(s.checkContentClass(t.target,t.currentTarget,e.$options.draggable.ignoreContentClass))return!0;return!1}static checkContentClassForEmptyCellClickEvent(e,t){return s.checkContentClass(t.target,t.currentTarget,e.$options.draggable.ignoreContentClass)||s.checkContentClass(t.target,t.currentTarget,e.$options.draggable.dragHandleClass)}static checkDragHandleClass(e,t,i,o){if(!e||e===t)return!1;if(e.hasAttribute("class")){let r=e.getAttribute("class").split(" ");if(r.indexOf(i)>-1)return!0;if(r.indexOf(o)>-1)return!1}return s.checkDragHandleClass(e.parentNode,t,i,o)}static checkContentClass(e,t,i){return!e||e===t?!1:e.hasAttribute("class")&&e.getAttribute("class").split(" ").indexOf(i)>-1?!0:s.checkContentClass(e.parentNode,t,i)}static compareItems(e,t){return e.y>t.y?-1:e.y<t.y?1:e.x>t.x?-1:1}},ra=class{gridster;initialItem;removeEmptyCellClickListenerFn;removeEmptyCellTouchendListenerFn;removeEmptyCellContextMenuListenerFn;removeEmptyCellDropListenerFn;removeEmptyCellMousedownListenerFn;removeEmptyCellTouchstartListenerFn;removeWindowMousemoveListenerFn;removeWindowTouchmoveListenerFn;removeWindowMouseupListenerFn;removeWindowTouchendListenerFn;removeEmptyCellDragoverListenerFn;removeDocumentDragendListenerFn;constructor(e){this.gridster=e}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(),this.gridster.movingItem=null,this.initialItem=this.gridster=null,this.removeDocumentDragendListenerFn&&(this.removeDocumentDragendListenerFn(),this.removeDocumentDragendListenerFn=null)}updateOptions(){this.gridster.$options.enableEmptyCellClick&&!this.removeEmptyCellClickListenerFn&&this.gridster.options.emptyCellClickCallback?(this.removeEmptyCellClickListenerFn=this.gridster.renderer.listen(this.gridster.el,"click",this.emptyCellClickCb),this.removeEmptyCellTouchendListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchend",this.emptyCellClickCb)):!this.gridster.$options.enableEmptyCellClick&&this.removeEmptyCellClickListenerFn&&this.removeEmptyCellTouchendListenerFn&&(this.removeEmptyCellClickListenerFn(),this.removeEmptyCellTouchendListenerFn(),this.removeEmptyCellClickListenerFn=null,this.removeEmptyCellTouchendListenerFn=null),this.gridster.$options.enableEmptyCellContextMenu&&!this.removeEmptyCellContextMenuListenerFn&&this.gridster.options.emptyCellContextMenuCallback?this.removeEmptyCellContextMenuListenerFn=this.gridster.renderer.listen(this.gridster.el,"contextmenu",this.emptyCellContextMenuCb):!this.gridster.$options.enableEmptyCellContextMenu&&this.removeEmptyCellContextMenuListenerFn&&(this.removeEmptyCellContextMenuListenerFn(),this.removeEmptyCellContextMenuListenerFn=null),this.gridster.$options.enableEmptyCellDrop&&!this.removeEmptyCellDropListenerFn&&this.gridster.options.emptyCellDropCallback?(this.removeEmptyCellDropListenerFn=this.gridster.renderer.listen(this.gridster.el,"drop",this.emptyCellDragDrop),this.gridster.zone.runOutsideAngular(()=>{this.removeEmptyCellDragoverListenerFn=this.gridster.renderer.listen(this.gridster.el,"dragover",this.emptyCellDragOver)}),this.removeDocumentDragendListenerFn=this.gridster.renderer.listen("document","dragend",()=>{this.gridster.movingItem=null,this.gridster.previewStyle()})):!this.gridster.$options.enableEmptyCellDrop&&this.removeEmptyCellDropListenerFn&&this.removeEmptyCellDragoverListenerFn&&this.removeDocumentDragendListenerFn&&(this.removeEmptyCellDropListenerFn(),this.removeEmptyCellDragoverListenerFn(),this.removeDocumentDragendListenerFn(),this.removeEmptyCellDragoverListenerFn=null,this.removeEmptyCellDropListenerFn=null,this.removeDocumentDragendListenerFn=null),this.gridster.$options.enableEmptyCellDrag&&!this.removeEmptyCellMousedownListenerFn&&this.gridster.options.emptyCellDragCallback?(this.removeEmptyCellMousedownListenerFn=this.gridster.renderer.listen(this.gridster.el,"mousedown",this.emptyCellMouseDown),this.removeEmptyCellTouchstartListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchstart",this.emptyCellMouseDown)):!this.gridster.$options.enableEmptyCellDrag&&this.removeEmptyCellMousedownListenerFn&&this.removeEmptyCellTouchstartListenerFn&&(this.removeEmptyCellMousedownListenerFn(),this.removeEmptyCellTouchstartListenerFn(),this.removeEmptyCellMousedownListenerFn=null,this.removeEmptyCellTouchstartListenerFn=null)}emptyCellClickCb=e=>{if(!this.gridster||this.gridster.movingItem||Se.checkContentClassForEmptyCellClickEvent(this.gridster,e))return;let t=this.getValidItemFromEvent(e);t&&(this.gridster.options.emptyCellClickCallback&&this.gridster.options.emptyCellClickCallback(e,t),this.gridster.cdRef.markForCheck())};emptyCellContextMenuCb=e=>{if(this.gridster.movingItem||Se.checkContentClassForEmptyCellClickEvent(this.gridster,e))return;e.preventDefault(),e.stopPropagation();let t=this.getValidItemFromEvent(e);t&&(this.gridster.options.emptyCellContextMenuCallback&&this.gridster.options.emptyCellContextMenuCallback(e,t),this.gridster.cdRef.markForCheck())};emptyCellDragDrop=e=>{let t=this.getValidItemFromEvent(e);t&&(this.gridster.options.emptyCellDropCallback&&this.gridster.options.emptyCellDropCallback(e,t),this.gridster.cdRef.markForCheck())};emptyCellDragOver=e=>{e.preventDefault(),e.stopPropagation();let t=this.getValidItemFromEvent(e);t?(e.dataTransfer&&(e.dataTransfer.dropEffect="move"),this.gridster.movingItem=t):(e.dataTransfer&&(e.dataTransfer.dropEffect="none"),this.gridster.movingItem=null),this.gridster.previewStyle()};emptyCellMouseDown=e=>{if(Se.checkContentClassForEmptyCellClickEvent(this.gridster,e))return;e.preventDefault(),e.stopPropagation();let t=this.getValidItemFromEvent(e);!t||e.buttons!==1&&!(e instanceof TouchEvent)||(this.initialItem=t,this.gridster.movingItem=t,this.gridster.previewStyle(),this.gridster.zone.runOutsideAngular(()=>{this.removeWindowMousemoveListenerFn=this.gridster.renderer.listen("window","mousemove",this.emptyCellMouseMove),this.removeWindowTouchmoveListenerFn=this.gridster.renderer.listen("window","touchmove",this.emptyCellMouseMove)}),this.removeWindowMouseupListenerFn=this.gridster.renderer.listen("window","mouseup",this.emptyCellMouseUp),this.removeWindowTouchendListenerFn=this.gridster.renderer.listen("window","touchend",this.emptyCellMouseUp))};emptyCellMouseMove=e=>{e.preventDefault(),e.stopPropagation();let t=this.getValidItemFromEvent(e,this.initialItem);t&&(this.gridster.movingItem=t,this.gridster.previewStyle())};emptyCellMouseUp=e=>{this.removeWindowMousemoveListenerFn(),this.removeWindowTouchmoveListenerFn(),this.removeWindowMouseupListenerFn(),this.removeWindowTouchendListenerFn();let t=this.getValidItemFromEvent(e,this.initialItem);t&&(this.gridster.movingItem=t),this.gridster.options.emptyCellDragCallback&&this.gridster.movingItem&&this.gridster.options.emptyCellDragCallback(e,this.gridster.movingItem),setTimeout(()=>{this.initialItem=null,this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())}),this.gridster.cdRef.markForCheck()};getPixelsX(e,t){let i=this.gridster.options.scale;return i?(e.clientX-t.left)/i+this.gridster.el.scrollLeft-this.gridster.gridRenderer.getLeftMargin():e.clientX+this.gridster.el.scrollLeft-t.left-this.gridster.gridRenderer.getLeftMargin()}getPixelsY(e,t){let i=this.gridster.options.scale;return i?(e.clientY-t.top)/i+this.gridster.el.scrollTop-this.gridster.gridRenderer.getTopMargin():e.clientY+this.gridster.el.scrollTop-t.top-this.gridster.gridRenderer.getTopMargin()}getValidItemFromEvent(e,t){e.preventDefault(),e.stopPropagation(),Se.checkTouchEvent(e);let i=this.gridster.el.getBoundingClientRect(),o=this.getPixelsX(e,i),r=this.getPixelsY(e,i),n={x:this.gridster.pixelsToPositionX(o,Math.floor,!0),y:this.gridster.pixelsToPositionY(r,Math.floor,!0),cols:this.gridster.$options.defaultItemCols,rows:this.gridster.$options.defaultItemRows};if(t&&(n.cols=Math.min(Math.abs(t.x-n.x)+1,this.gridster.$options.emptyCellDragMaxCols),n.rows=Math.min(Math.abs(t.y-n.y)+1,this.gridster.$options.emptyCellDragMaxRows),t.x<n.x?n.x=t.x:t.x-n.x>this.gridster.$options.emptyCellDragMaxCols-1&&(n.x=this.gridster.movingItem?this.gridster.movingItem.x:0),t.y<n.y?n.y=t.y:t.y-n.y>this.gridster.$options.emptyCellDragMaxRows-1&&(n.y=this.gridster.movingItem?this.gridster.movingItem.y:0)),!(!this.gridster.$options.enableOccupiedCellDrop&&this.gridster.checkCollision(n)))return n}},na=class{gridster;lastGridColumnStyles={};lastGridRowStyles={};constructor(e){this.gridster=e}destroy(){this.gridster=null}updateItem(e,t,i){if(this.gridster.mobile)this.clearCellPosition(i,e),this.gridster.$options.keepFixedHeightInMobile?i.setStyle(e,"height",(t.rows-1)*this.gridster.$options.margin+t.rows*this.gridster.$options.fixedRowHeight+"px"):i.setStyle(e,"height",t.rows*this.gridster.curWidth/t.cols+"px"),this.gridster.$options.keepFixedWidthInMobile?i.setStyle(e,"width",this.gridster.$options.fixedColWidth+"px"):i.setStyle(e,"width",""),i.setStyle(e,"margin-bottom",this.gridster.$options.margin+"px"),i.setStyle(e,ye.LTR?"margin-right":"margin-left","");else{let o=Math.round(this.gridster.curColWidth*t.x),r=Math.round(this.gridster.curRowHeight*t.y),n=this.gridster.curColWidth*t.cols-this.gridster.$options.margin,a=this.gridster.curRowHeight*t.rows-this.gridster.$options.margin;this.setCellPosition(i,e,o,r),i.setStyle(e,"width",n+"px"),i.setStyle(e,"height",a+"px");let l=null,c=null;this.gridster.$options.outerMargin&&(this.gridster.rows===t.rows+t.y&&(this.gridster.$options.outerMarginBottom!==null?l=this.gridster.$options.outerMarginBottom+"px":l=this.gridster.$options.margin+"px"),this.gridster.columns===t.cols+t.x&&(this.gridster.$options.outerMarginBottom!==null?c=this.gridster.$options.outerMarginRight+"px":c=this.gridster.$options.margin+"px")),i.setStyle(e,"margin-bottom",l),i.setStyle(e,ye.LTR?"margin-right":"margin-left",c)}}updateGridster(){let e="",t="",i="",o="";if(this.gridster.$options.gridType===O.Fit)e=O.Fit,t=O.ScrollVertical,i=O.ScrollHorizontal,o=O.Fixed;else if(this.gridster.$options.gridType===O.ScrollVertical)this.gridster.curRowHeight=this.gridster.curColWidth*this.gridster.$options.rowHeightRatio,e=O.ScrollVertical,t=O.Fit,i=O.ScrollHorizontal,o=O.Fixed;else if(this.gridster.$options.gridType===O.ScrollHorizontal){let r=this.gridster.$options.rowHeightRatio,n=r>=1?r:r+1;this.gridster.curColWidth=this.gridster.curRowHeight*n,e=O.ScrollHorizontal,t=O.Fit,i=O.ScrollVertical,o=O.Fixed}else this.gridster.$options.gridType===O.Fixed?(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),e=O.Fixed,t=O.Fit,i=O.ScrollVertical,o=O.ScrollHorizontal):this.gridster.$options.gridType===O.VerticalFixed?(this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),e=O.ScrollVertical,t=O.Fit,i=O.ScrollHorizontal,o=O.Fixed):this.gridster.$options.gridType===O.HorizontalFixed&&(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),e=O.ScrollHorizontal,t=O.Fit,i=O.ScrollVertical,o=O.Fixed);this.gridster.mobile||this.gridster.$options.setGridSize&&this.gridster.$options.gridType!==O.Fit?this.gridster.renderer.removeClass(this.gridster.el,e):this.gridster.renderer.addClass(this.gridster.el,e),this.gridster.renderer.removeClass(this.gridster.el,t),this.gridster.renderer.removeClass(this.gridster.el,i),this.gridster.renderer.removeClass(this.gridster.el,o)}getGridColumnStyle(e){let t={left:this.gridster.curColWidth*e,width:this.gridster.curColWidth-this.gridster.$options.margin,height:this.gridster.gridRows.length*this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};t.style=be(I({},this.getLeftPosition(t.left)),{width:t.width+"px",height:t.height+"px"});let i=this.lastGridColumnStyles[e];return i&&i.left===t.left&&i.width===t.width&&i.height===t.height?i.style:(this.lastGridColumnStyles[e]=t,t.style)}getGridRowStyle(e){let t={top:this.gridster.curRowHeight*e,width:this.gridster.gridColumns.length*this.gridster.curColWidth+this.gridster.$options.margin,height:this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};t.style=be(I({},this.getTopPosition(t.top)),{width:t.width+"px",height:t.height+"px"});let i=this.lastGridRowStyles[e];return i&&i.top===t.top&&i.width===t.width&&i.height===t.height?i.style:(this.lastGridRowStyles[e]=t,t.style)}getLeftPosition(e){let t=this.gridster.$options.dirType===ye.RTL?-e:e;return this.gridster.$options.useTransformPositioning?{transform:"translateX("+t+"px)"}:{left:this.getLeftMargin()+t+"px"}}getTopPosition(e){return this.gridster.$options.useTransformPositioning?{transform:"translateY("+e+"px)"}:{top:this.getTopMargin()+e+"px"}}clearCellPosition(e,t){this.gridster.$options.useTransformPositioning?e.setStyle(t,"transform",""):(e.setStyle(t,"top",""),e.setStyle(t,"left",""))}setCellPosition(e,t,i,o){let r=this.gridster.$options.dirType===ye.RTL?-i:i;if(this.gridster.$options.useTransformPositioning){let n="translate3d("+r+"px, "+o+"px, 0)";e.setStyle(t,"transform",n)}else e.setStyle(t,"left",this.getLeftMargin()+r+"px"),e.setStyle(t,"top",this.getTopMargin()+o+"px")}getLeftMargin(){return this.gridster.$options.outerMargin?this.gridster.$options.outerMarginLeft!==null?this.gridster.$options.outerMarginLeft:this.gridster.$options.margin:0}getTopMargin(){return this.gridster.$options.outerMargin?this.gridster.$options.outerMarginTop!==null?this.gridster.$options.outerMarginTop:this.gridster.$options.margin:0}},Af=(()=>{class s{renderer;previewStyle$;gridRenderer;el;sub;constructor(t,i){this.renderer=i,this.el=t.nativeElement}ngOnInit(){this.sub=this.previewStyle$.subscribe(t=>this.previewStyle(t))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}previewStyle(t){t?(this.renderer.setStyle(this.el,"display","block"),this.gridRenderer.updateItem(this.el,t,this.renderer)):this.renderer.setStyle(this.el,"display","")}static \u0275fac=function(i){return new(i||s)(ie(Pe),ie(bt))};static \u0275cmp=se({type:s,selectors:[["gridster-preview"]],inputs:{previewStyle$:"previewStyle$",gridRenderer:"gridRenderer"},decls:0,vars:0,template:function(i,o){},styles:[`gridster-preview{position:absolute;display:none;background:#00000026}
`],encapsulation:2})}return s})(),da=(()=>{class s{renderer;cdRef;zone;options;movingItem;el;$options;mobile;curWidth;curHeight;grid;columns=0;rows=0;curColWidth;curRowHeight;gridColumns=[];gridRows=[];windowResize;dragInProgress;emptyCell;compact;gridRenderer;previewStyle$=new G;calculateLayout$=new k;resize$=new k;destroy$=new k;constructor(t,i,o,r){this.renderer=i,this.cdRef=o,this.zone=r,this.el=t.nativeElement,this.$options=JSON.parse(JSON.stringify($f)),this.mobile=!1,this.curWidth=0,this.curHeight=0,this.grid=[],this.curColWidth=0,this.curRowHeight=0,this.dragInProgress=!1,this.emptyCell=new ra(this),this.compact=new oa(this),this.gridRenderer=new na(this)}static checkCollisionTwoItemsForSwaping(t,i){let o=t.cols===1?0:1,r=i.cols===1?0:1,n=t.rows===1?0:1,a=i.rows===1?0:1;return t.x+o<i.x+i.cols&&t.x+t.cols>i.x+r&&t.y+n<i.y+i.rows&&t.y+t.rows>i.y+a}checkCollisionTwoItems(t,i){if(!(t.x<i.x+i.cols&&t.x+t.cols>i.x&&t.y<i.y+i.rows&&t.y+t.rows>i.y))return!1;if(!this.$options.allowMultiLayer)return!0;let r=this.$options.defaultLayerIndex,n=t.layerIndex===void 0?r:t.layerIndex,a=i.layerIndex===void 0?r:i.layerIndex;return n===a}ngOnInit(){this.options.initCallback&&this.options.initCallback(this),this.calculateLayout$.pipe(Tl(0),it(this.destroy$)).subscribe(()=>this.calculateLayout()),this.resize$.pipe(Ai(()=>Il(100)),it(this.destroy$)).subscribe(()=>this.resize())}ngOnChanges(t){t.options&&(this.setOptions(),this.options.api={optionsChanged:this.optionsChanged,resize:this.onResize,getNextPossiblePosition:this.getNextPossiblePosition,getFirstPossiblePosition:this.getFirstPossiblePosition,getLastPossiblePosition:this.getLastPossiblePosition,getItemComponent:i=>this.getItemComponent(i)},this.columns=this.$options.minCols,this.rows=this.$options.minRows+this.$options.addEmptyRowsCount,this.setGridSize(),this.calculateLayout())}resize(){let t,i;this.$options.gridType==="fit"&&!this.mobile?(i=this.el.offsetWidth,t=this.el.offsetHeight):(i=this.el.clientWidth,t=this.el.clientHeight),(i!==this.curWidth||t!==this.curHeight)&&this.checkIfToResize()&&this.onResize()}setOptions(){this.$options=Se.merge(this.$options,this.options,this.$options),!this.$options.disableWindowResize&&!this.windowResize?this.windowResize=this.renderer.listen("window","resize",this.onResize):this.$options.disableWindowResize&&this.windowResize&&(this.windowResize(),this.windowResize=null),this.emptyCell.updateOptions()}optionsChanged=()=>{this.setOptions();let t=this.grid.length-1,i;for(;t>=0;t--)i=this.grid[t],i.updateOptions();this.calculateLayout()};ngOnDestroy(){this.destroy$.next(),this.previewStyle$.complete(),this.windowResize&&this.windowResize(),this.options&&this.options.destroyCallback&&this.options.destroyCallback(this),this.options&&this.options.api&&(this.options.api.resize=void 0,this.options.api.optionsChanged=void 0,this.options.api.getNextPossiblePosition=void 0,this.options.api=void 0),this.emptyCell.destroy(),this.emptyCell=null,this.compact.destroy(),this.compact=null}onResize=()=>{this.el.clientWidth&&(this.options.setGridSize&&(this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.setGridSize(),this.calculateLayout())};checkIfToResize(){let t=this.el.clientWidth,i=this.el.offsetWidth,o=this.el.scrollWidth,r=this.el.clientHeight,n=this.el.offsetHeight,a=this.el.scrollHeight,l=t<i&&a>n&&a-n<i-t,c=r<n&&o>i&&o-i<n-r;return l?!1:!c}checkIfMobile(){return this.$options.useBodyForBreakpoint?this.$options.mobileBreakpoint>document.body.clientWidth:this.$options.mobileBreakpoint>this.curWidth}setGridSize(){let t=this.el,i,o;this.$options.setGridSize||this.$options.gridType===O.Fit&&!this.mobile?(i=t.offsetWidth,o=t.offsetHeight):(i=t.clientWidth,o=t.clientHeight),this.curWidth=i,this.curHeight=o}setGridDimensions(){this.setGridSize(),!this.mobile&&this.checkIfMobile()?(this.mobile=!this.mobile,this.renderer.addClass(this.el,"mobile")):this.mobile&&!this.checkIfMobile()&&(this.mobile=!this.mobile,this.renderer.removeClass(this.el,"mobile"));let t=this.$options.minRows,i=this.$options.minCols,o=this.grid.length-1,r;for(;o>=0;o--)r=this.grid[o],r.notPlaced||(t=Math.max(t,r.$item.y+r.$item.rows),i=Math.max(i,r.$item.x+r.$item.cols));t+=this.$options.addEmptyRowsCount,(this.columns!==i||this.rows!==t)&&(this.columns=i,this.rows=t,this.options.gridSizeChangedCallback&&this.options.gridSizeChangedCallback(this))}calculateLayout(){if(this.compact&&this.compact.checkCompact(),this.setGridDimensions(),this.$options.outerMargin){let o=-this.$options.margin;this.$options.outerMarginLeft!==null?(o+=this.$options.outerMarginLeft,this.renderer.setStyle(this.el,"padding-left",this.$options.outerMarginLeft+"px")):(o+=this.$options.margin,this.renderer.setStyle(this.el,"padding-left",this.$options.margin+"px")),this.$options.outerMarginRight!==null?(o+=this.$options.outerMarginRight,this.renderer.setStyle(this.el,"padding-right",this.$options.outerMarginRight+"px")):(o+=this.$options.margin,this.renderer.setStyle(this.el,"padding-right",this.$options.margin+"px")),this.curColWidth=(this.curWidth-o)/this.columns;let r=-this.$options.margin;this.$options.outerMarginTop!==null?(r+=this.$options.outerMarginTop,this.renderer.setStyle(this.el,"padding-top",this.$options.outerMarginTop+"px")):(r+=this.$options.margin,this.renderer.setStyle(this.el,"padding-top",this.$options.margin+"px")),this.$options.outerMarginBottom!==null?(r+=this.$options.outerMarginBottom,this.renderer.setStyle(this.el,"padding-bottom",this.$options.outerMarginBottom+"px")):(r+=this.$options.margin,this.renderer.setStyle(this.el,"padding-bottom",this.$options.margin+"px")),this.curRowHeight=(this.curHeight-r)/this.rows*this.$options.rowHeightRatio}else this.curColWidth=(this.curWidth+this.$options.margin)/this.columns,this.curRowHeight=(this.curHeight+this.$options.margin)/this.rows*this.$options.rowHeightRatio,this.renderer.setStyle(this.el,"padding-left","0px"),this.renderer.setStyle(this.el,"padding-right","0px"),this.renderer.setStyle(this.el,"padding-top","0px"),this.renderer.setStyle(this.el,"padding-bottom","0px");this.gridRenderer.updateGridster(),this.$options.setGridSize?(this.renderer.addClass(this.el,"gridSize"),this.mobile||(this.renderer.setStyle(this.el,"width",this.columns*this.curColWidth+this.$options.margin+"px"),this.renderer.setStyle(this.el,"height",this.rows*this.curRowHeight+this.$options.margin+"px"))):(this.renderer.removeClass(this.el,"gridSize"),this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.updateGrid();let t=this.grid.length-1,i;for(;t>=0;t--)i=this.grid[t],i.setSize(),i.drag.toggle(),i.resize.toggle();this.resize$.next()}updateGrid(){this.$options.displayGrid==="always"&&!this.mobile?this.renderer.addClass(this.el,"display-grid"):this.$options.displayGrid==="onDrag&Resize"&&this.dragInProgress?this.renderer.addClass(this.el,"display-grid"):(this.$options.displayGrid==="none"||!this.dragInProgress||this.mobile)&&this.renderer.removeClass(this.el,"display-grid"),this.setGridDimensions(),this.gridColumns.length=s.getNewArrayLength(this.columns,this.curWidth,this.curColWidth),this.gridRows.length=s.getNewArrayLength(this.rows,this.curHeight,this.curRowHeight),this.cdRef.markForCheck()}addItem(t){t.$item.cols===void 0&&(t.$item.cols=this.$options.defaultItemCols,t.item.cols=t.$item.cols,t.itemChanged()),t.$item.rows===void 0&&(t.$item.rows=this.$options.defaultItemRows,t.item.rows=t.$item.rows,t.itemChanged()),t.$item.x===-1||t.$item.y===-1?this.autoPositionItem(t):this.checkCollision(t.$item)&&(this.$options.disableWarnings||(t.notPlaced=!0,console.warn("Can't be placed in the bounds of the dashboard, trying to auto position!/n"+JSON.stringify(t.item,["cols","rows","x","y"]))),this.$options.disableAutoPositionOnConflict?t.notPlaced=!0:this.autoPositionItem(t)),this.grid.push(t),this.calculateLayout$.next()}removeItem(t){this.grid.splice(this.grid.indexOf(t),1),this.calculateLayout$.next(),this.options.itemRemovedCallback&&this.options.itemRemovedCallback(t.item,t)}checkCollision(t){let i=!1;if(this.options.itemValidateCallback&&(i=!this.options.itemValidateCallback(t)),!i&&this.checkGridCollision(t)&&(i=!0),!i){let o=this.findItemWithItem(t);o&&(i=o)}return i}checkGridCollision(t){let i=t.y>-1&&t.x>-1,o=t.cols+t.x<=this.$options.maxCols,r=t.rows+t.y<=this.$options.maxRows,n=t.maxItemCols===void 0?this.$options.maxItemCols:t.maxItemCols,a=t.minItemCols===void 0?this.$options.minItemCols:t.minItemCols,l=t.maxItemRows===void 0?this.$options.maxItemRows:t.maxItemRows,c=t.minItemRows===void 0?this.$options.minItemRows:t.minItemRows,h=t.cols<=n&&t.cols>=a,d=t.rows<=l&&t.rows>=c,u=t.minItemArea===void 0?this.$options.minItemArea:t.minItemArea,m=t.maxItemArea===void 0?this.$options.maxItemArea:t.maxItemArea,g=t.cols*t.rows,y=u<=g,_=m>=g;return!(i&&o&&r&&h&&d&&y&&_)}findItemWithItem(t){let i=0,o;for(;i<this.grid.length;i++)if(o=this.grid[i],o.$item!==t&&this.checkCollisionTwoItems(o.$item,t))return o;return!1}findItemsWithItem(t){let i=[],o=0,r;for(;o<this.grid.length;o++)r=this.grid[o],r.$item!==t&&this.checkCollisionTwoItems(r.$item,t)&&i.push(r);return i}autoPositionItem(t){this.getNextPossiblePosition(t.$item)?(t.notPlaced=!1,t.item.x=t.$item.x,t.item.y=t.$item.y,t.itemChanged()):(t.notPlaced=!0,this.$options.disableWarnings||console.warn("Can't be placed in the bounds of the dashboard!/n"+JSON.stringify(t.item,["cols","rows","x","y"])))}getNextPossiblePosition=(t,i={})=>{t.cols===-1&&(t.cols=this.$options.defaultItemCols),t.rows===-1&&(t.rows=this.$options.defaultItemRows),this.setGridDimensions();let o=i.y||0,r;for(;o<this.rows;o++)for(t.y=o,r=i.x||0;r<this.columns;r++)if(t.x=r,!this.checkCollision(t))return!0;let n=this.$options.maxRows>=this.rows+t.rows,a=this.$options.maxCols>=this.columns+t.cols;return!(this.rows<=this.columns&&n)&&a?(t.x=this.columns,t.y=0,!0):n?(t.y=this.rows,t.x=0,!0):!1};getFirstPossiblePosition=t=>{let i=Object.assign({},t);return this.getNextPossiblePosition(i),i};getLastPossiblePosition=t=>{let i={y:0,x:0};i=this.grid.reduce((r,n)=>{let a={y:n.$item.y+n.$item.rows-1,x:n.$item.x+n.$item.cols-1};return Se.compareItems(r,a)===1?a:r},i);let o=Object.assign({},t);return this.getNextPossiblePosition(o,i),o};pixelsToPositionX(t,i,o){let r=i(t/this.curColWidth);return o?r:Math.max(r,0)}pixelsToPositionY(t,i,o){let r=i(t/this.curRowHeight);return o?r:Math.max(r,0)}positionXToPixels(t){return t*this.curColWidth}positionYToPixels(t){return t*this.curRowHeight}getItemComponent(t){return this.grid.find(i=>i.item===t)}checkCollisionForSwaping(t){let i=!1;if(this.options.itemValidateCallback&&(i=!this.options.itemValidateCallback(t)),!i&&this.checkGridCollision(t)&&(i=!0),!i){let o=this.findItemWithItemForSwapping(t);o&&(i=o)}return i}findItemWithItemForSwapping(t){let i=this.grid.length-1,o;for(;i>-1;i--)if(o=this.grid[i],o.$item!==t&&s.checkCollisionTwoItemsForSwaping(o.$item,t))return o;return!1}previewStyle(t=!1){this.movingItem?(this.compact&&t&&this.compact.checkCompactItem(this.movingItem),this.previewStyle$.next(this.movingItem)):this.previewStyle$.next(null)}static getNewArrayLength(t,i,o){let r=Math.max(t,Math.floor(i/o));return r<0?0:Number.isFinite(r)?Math.floor(r):0}static \u0275fac=function(i){return new(i||s)(ie(Pe),ie(bt),ie(Vi),ie(Ce))};static \u0275cmp=se({type:s,selectors:[["gridster"]],inputs:{options:"options"},features:[Nt],ngContentSelectors:ic,decls:6,vars:2,consts:[[1,"gridster-column",3,"ngStyle"],[1,"gridster-row",3,"ngStyle"],[1,"gridster-preview",3,"gridRenderer","previewStyle$"]],template:function(i,o){i&1&&(Is(),Ct(0,kf,1,1,"div",0,ea),Ct(2,Df,1,1,"div",1,ea),Es(4),ce(5,"gridster-preview",2)),i&2&&(St(o.gridColumns),F(2),St(o.gridRows),F(3),de("gridRenderer",o.gridRenderer)("previewStyle$",o.previewStyle$))},dependencies:[Yl,Af],styles:[`gridster{position:relative;box-sizing:border-box;background:gray;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:block}gridster.fit{overflow-x:hidden;overflow-y:hidden}gridster.scrollVertical{overflow-x:hidden;overflow-y:auto}gridster.scrollHorizontal{overflow-x:auto;overflow-y:hidden}gridster.fixed{overflow:auto}gridster.mobile{overflow-x:hidden;overflow-y:auto}gridster.mobile gridster-item{position:relative}gridster.gridSize{height:initial;width:initial}gridster.gridSize.fit{height:100%;width:100%}gridster .gridster-column,gridster .gridster-row{position:absolute;display:none;transition:.3s;box-sizing:border-box}gridster.display-grid .gridster-column,gridster.display-grid .gridster-row{display:block}gridster .gridster-column{border-left:1px solid white;border-right:1px solid white}gridster .gridster-row{border-top:1px solid white;border-bottom:1px solid white}
`],encapsulation:2})}return s})(),Ls=class{fromSouth;fromNorth;fromEast;fromWest;pushedItems;pushedItemsTemp;pushedItemsTempPath;pushedItemsPath;gridsterItem;gridster;pushedItemsOrder;tryPattern;iteration=0;constructor(e){this.pushedItems=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],this.pushedItemsPath=[],this.gridsterItem=e,this.gridster=e.gridster,this.tryPattern={fromEast:[this.tryWest,this.trySouth,this.tryNorth,this.tryEast],fromWest:[this.tryEast,this.trySouth,this.tryNorth,this.tryWest],fromNorth:[this.trySouth,this.tryEast,this.tryWest,this.tryNorth],fromSouth:[this.tryNorth,this.tryEast,this.tryWest,this.trySouth]},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){this.gridster=this.gridsterItem=null}pushItems(e,t){if(this.gridster.$options.pushItems&&!t){this.pushedItemsOrder=[],this.iteration=0;let i=this.push(this.gridsterItem,e);return i||this.restoreTempItems(),this.pushedItemsOrder=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],i}else return!1}restoreTempItems(){let e=this.pushedItemsTemp.length-1;for(;e>-1;e--)this.removeFromTempPushed(this.pushedItemsTemp[e])}restoreItems(){let e=0,t=this.pushedItems.length,i;for(;e<t;e++)i=this.pushedItems[e],i.$item.x=i.item.x||0,i.$item.y=i.item.y||0,i.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let e=0,t=this.pushedItems.length,i;for(;e<t;e++)i=this.pushedItems[e],i.checkItemChanges(i.$item,i.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let e=this.pushedItems.length-1,t=!1;for(;e>-1;e--)this.checkPushedItem(this.pushedItems[e],e)&&(t=!0);t&&this.checkPushBack()}push(e,t){if(this.iteration>100)return console.warn("max iteration reached"),!1;if(this.gridster.checkGridCollision(e.$item)||t==="")return!1;let i=this.gridster.findItemsWithItem(e.$item),o=t===this.fromNorth||t===this.fromWest;i.sort((c,h)=>o?h.$item.y-c.$item.y||h.$item.x-c.$item.x:c.$item.y-h.$item.y||c.$item.x-h.$item.x);let r=0,n,a=!0,l=[];for(;r<i.length;r++){if(n=i[r],n===this.gridsterItem)continue;if(!n.canBeDragged()){a=!1;break}let c=this.pushedItemsTemp.indexOf(n);if(c>-1&&this.pushedItemsTempPath[c].length>10){a=!1;break}if(this.tryPattern[t][0].call(this,n,e))this.pushedItemsOrder.push(n),l.push(n);else if(this.tryPattern[t][1].call(this,n,e))this.pushedItemsOrder.push(n),l.push(n);else if(this.tryPattern[t][2].call(this,n,e))this.pushedItemsOrder.push(n),l.push(n);else if(this.tryPattern[t][3].call(this,n,e))this.pushedItemsOrder.push(n),l.push(n);else{a=!1;break}}if(!a&&(r=this.pushedItemsOrder.lastIndexOf(l[0]),r>-1)){let c=this.pushedItemsOrder.length-1;for(;c>=r;c--)n=this.pushedItemsOrder[c],this.pushedItemsOrder.pop(),this.removeFromTempPushed(n),this.removeFromPushedItem(n)}return this.iteration++,a}trySouth(e,t){return this.gridster.$options.pushDirections.south?(this.addToTempPushed(e),e.$item.y=t.$item.y+t.$item.rows,this.push(e,this.fromNorth)?(e.setSize(),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1)):!1}tryNorth(e,t){return this.gridster.$options.pushDirections.north?(this.addToTempPushed(e),e.$item.y=t.$item.y-e.$item.rows,this.push(e,this.fromSouth)?(e.setSize(),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1)):!1}tryEast(e,t){return this.gridster.$options.pushDirections.east?(this.addToTempPushed(e),e.$item.x=t.$item.x+t.$item.cols,this.push(e,this.fromWest)?(e.setSize(),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1)):!1}tryWest(e,t){return this.gridster.$options.pushDirections.west?(this.addToTempPushed(e),e.$item.x=t.$item.x-e.$item.cols,this.push(e,this.fromEast)?(e.setSize(),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1)):!1}addToTempPushed(e){let t=this.pushedItemsTemp.indexOf(e);t===-1&&(t=this.pushedItemsTemp.push(e)-1,this.pushedItemsTempPath[t]=[]),this.pushedItemsTempPath[t].push({x:e.$item.x,y:e.$item.y})}removeFromTempPushed(e){let t=this.pushedItemsTemp.indexOf(e),i=this.pushedItemsTempPath[t].pop();i&&(e.$item.x=i.x,e.$item.y=i.y,e.setSize(),this.pushedItemsTempPath[t].length||(this.pushedItemsTemp.splice(t,1),this.pushedItemsTempPath.splice(t,1)))}addToPushed(e){if(this.pushedItems.indexOf(e)<0)this.pushedItems.push(e),this.pushedItemsPath.push([{x:e.item.x||0,y:e.item.y||0},{x:e.$item.x,y:e.$item.y}]);else{let t=this.pushedItems.indexOf(e);this.pushedItemsPath[t].push({x:e.$item.x,y:e.$item.y})}}removeFromPushed(e){e>-1&&(this.pushedItems.splice(e,1),this.pushedItemsPath.splice(e,1))}removeFromPushedItem(e){let t=this.pushedItems.indexOf(e);t>-1&&(this.pushedItemsPath[t].pop(),this.pushedItemsPath.length||(this.pushedItems.splice(t,1),this.pushedItemsPath.splice(t,1)))}checkPushedItem(e,t){let i=this.pushedItemsPath[t],o=i.length-2,r,n,a,l=!1;for(;o>-1;o--)r=i[o],n=e.$item.x,a=e.$item.y,e.$item.x=r.x,e.$item.y=r.y,this.gridster.findItemWithItem(e.$item)?(e.$item.x=n,e.$item.y=a):(e.setSize(),i.splice(o+1,i.length-o-1),l=!0);return i.length<2&&this.removeFromPushed(t),l}},Wi,Ht,oc=50,We,Gi,ft,ji,Xi,Yi,Ui;function rc(s,e,t,i,o,r,n,a,l,c){Wi=s.$options.scrollSensitivity,Ht=s.$options.scrollSpeed,We=s.el,Gi=l,ft=c;let h=We.offsetWidth,d=We.offsetHeight,u=We.scrollLeft,m=We.scrollTop,g=t-m,y=d+m-t-o,{clientX:_,clientY:x}=r;if(!s.$options.disableScrollVertical)if(n.clientY<x&&y<Wi){if(hc(),Gi&&ft&&!ft.south||Ui)return;Ui=ec(1,a,n)}else if(n.clientY>x&&m>0&&g<Wi){if(cc(),Gi&&ft&&!ft.north||Yi)return;Yi=ec(-1,a,n)}else n.clientY!==x&&fa();let w=u+h-e-i,S=e-u;if(!s.$options.disableScrollHorizontal)if(n.clientX<_&&w<=Wi){if(lc(),Gi&&ft&&!ft.east||ji)return;ji=tc(1,a,n)}else if(n.clientX>_&&u>0&&S<Wi){if(ac(),Gi&&ft&&!ft.west||Xi)return;Xi=tc(-1,a,n)}else n.clientX!==_&&ua()}function ec(s,e,t){let i=t.clientY;return window.setInterval(()=>{(!We||s===-1&&We.scrollTop-Ht<0)&&fa(),We.scrollTop+=s*Ht,i+=s*Ht,e({clientX:t.clientX,clientY:i})},oc)}function tc(s,e,t){let i=t.clientX;return window.setInterval(()=>{(!We||s===-1&&We.scrollLeft-Ht<0)&&ua(),We.scrollLeft+=s*Ht,i+=s*Ht,e({clientX:i,clientY:t.clientY})},oc)}function nc(){ua(),fa(),We=null}function ua(){ac(),lc()}function fa(){hc(),cc()}function ac(){ji&&(clearInterval(ji),ji=0)}function lc(){Xi&&(clearInterval(Xi),Xi=0)}function cc(){Ui&&(clearInterval(Ui),Ui=0)}function hc(){Yi&&(clearInterval(Yi),Yi=0)}var aa=class{swapedItem;gridsterItem;gridster;constructor(e){this.gridsterItem=e,this.gridster=e.gridster}destroy(){this.gridster=this.gridsterItem=this.swapedItem=null}swapItems(){this.gridster.$options.swap&&(this.checkSwapBack(),this.checkSwap(this.gridsterItem))}checkSwapBack(){if(this.swapedItem){let e=this.swapedItem.$item.x,t=this.swapedItem.$item.y;this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.gridster.checkCollision(this.swapedItem.$item)?(this.swapedItem.$item.x=e,this.swapedItem.$item.y=t):(this.swapedItem.setSize(),this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.swapedItem=void 0)}}restoreSwapItem(){this.swapedItem&&(this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.swapedItem.setSize(),this.swapedItem=void 0)}setSwapItem(){this.swapedItem&&(this.swapedItem.checkItemChanges(this.swapedItem.$item,this.swapedItem.item),this.swapedItem=void 0)}checkSwap(e){let t;if(this.gridster.$options.swapWhileDragging?t=this.gridster.checkCollisionForSwaping(e.$item):t=this.gridster.checkCollision(e.$item),t&&t!==!0&&t.canBeDragged()){let i=t,o=i.$item.x,r=i.$item.y,n=e.$item.x,a=e.$item.y,l=n-o,c=a-r;i.$item.x=e.item.x-l,i.$item.y=e.item.y-c,e.$item.x=i.item.x+l,e.$item.y=i.item.y+c,this.gridster.checkCollision(i.$item)||this.gridster.checkCollision(e.$item)?(e.$item.x=n,e.$item.y=a,i.$item.x=o,i.$item.y=r):(i.setSize(),this.swapedItem=i,this.gridster.$options.swapWhileDragging&&(this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.setSwapItem()))}}},Bf="gridster-item-resizable-handler",$e=function(s){return s.UP="UP",s.DOWN="DOWN",s.LEFT="LEFT",s.RIGHT="RIGHT",s}($e||{}),la=class{zone;gridsterItem;gridster;lastMouse;offsetLeft;offsetTop;margin;outerMarginTop;outerMarginRight;outerMarginBottom;outerMarginLeft;diffTop;diffLeft;originalClientX;originalClientY;top;left;height;width;positionX;positionY;positionXBackup;positionYBackup;enabled;mousemove;mouseup;mouseleave;cancelOnBlur;touchmove;touchend;touchcancel;mousedown;touchstart;push;swap;path;collision=!1;constructor(e,t,i){this.zone=i,this.gridsterItem=e,this.gridster=t,this.lastMouse={clientX:0,clientY:0},this.path=[]}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(!0),this.gridsterItem=this.gridster=this.collision=null,this.mousedown&&(this.mousedown(),this.touchstart())}dragStart(e){e.which&&e.which!==1||(this.gridster.options.draggable&&this.gridster.options.draggable.start&&this.gridster.options.draggable.start(this.gridsterItem.item,this.gridsterItem,e),e.stopPropagation(),e.preventDefault(),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragMove),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-moving"),this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.left=this.gridsterItem.left-this.margin,this.top=this.gridsterItem.top-this.margin,this.originalClientX=e.clientX,this.originalClientY=e.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.gridster.$options.dirType===ye.RTL?this.diffLeft=e.clientX-this.gridster.el.scrollWidth+this.gridsterItem.left:this.diffLeft=e.clientX+this.offsetLeft-this.margin-this.left,this.diffTop=e.clientY+this.offsetTop-this.margin-this.top,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(!0),this.push=new Ls(this.gridsterItem),this.swap=new aa(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid(),this.path.push({x:this.gridsterItem.item.x||0,y:this.gridsterItem.item.y||0}))}dragMove=e=>{e.stopPropagation(),e.preventDefault(),Se.checkTouchEvent(e);let t=this.getDirections(e);this.gridster.options.enableBoundaryControl&&(t.includes($e.UP)&&this.gridsterItem.el.getBoundingClientRect().top<this.gridster.el.getBoundingClientRect().top+(this.outerMarginTop??this.margin)&&(t=t.filter(i=>i!=$e.UP),e=new MouseEvent(e.type,{clientX:e.clientX,clientY:this.lastMouse.clientY})),t.includes($e.LEFT)&&this.gridsterItem.el.getBoundingClientRect().left<this.gridster.el.getBoundingClientRect().left+(this.outerMarginLeft??this.margin)&&(t=t.filter(i=>i!=$e.LEFT),e=new MouseEvent(e.type,{clientX:this.lastMouse.clientX,clientY:e.clientY})),t.includes($e.RIGHT)&&this.gridsterItem.el.getBoundingClientRect().right>this.gridster.el.getBoundingClientRect().right-(this.outerMarginRight??this.margin)&&(t=t.filter(i=>i!=$e.RIGHT),e=new MouseEvent(e.type,{clientX:this.lastMouse.clientX,clientY:e.clientY})),t.includes($e.DOWN)&&this.gridsterItem.el.getBoundingClientRect().bottom>this.gridster.el.getBoundingClientRect().bottom-(this.outerMarginBottom??this.margin)&&(t=t.filter(i=>i!=$e.DOWN),e=new MouseEvent(e.type,{clientX:e.clientX,clientY:this.lastMouse.clientY}))),t.length&&(this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,rc(this.gridster,this.left,this.top,this.width,this.height,e,this.lastMouse,this.calculateItemPositionFromMousePosition),this.calculateItemPositionFromMousePosition(e))};calculateItemPositionFromMousePosition=e=>{this.gridster.options.scale?this.calculateItemPositionWithScale(e,this.gridster.options.scale):this.calculateItemPositionWithoutScale(e),this.calculateItemPosition(),this.lastMouse.clientX=e.clientX,this.lastMouse.clientY=e.clientY,this.zone.run(()=>{this.gridster.updateGrid()})};calculateItemPositionWithScale(e,t){this.gridster.$options.dirType===ye.RTL?this.left=this.gridster.el.scrollWidth-this.originalClientX+(e.clientX-this.originalClientX)/t+this.diffLeft:this.left=this.originalClientX+(e.clientX-this.originalClientX)/t+this.offsetLeft-this.diffLeft,this.top=this.originalClientY+(e.clientY-this.originalClientY)/t+this.offsetTop-this.diffTop}calculateItemPositionWithoutScale(e){this.gridster.$options.dirType===ye.RTL?this.left=this.gridster.el.scrollWidth-e.clientX+this.diffLeft:this.left=e.clientX+this.offsetLeft-this.diffLeft,this.top=e.clientY+this.offsetTop-this.diffTop}dragStop=e=>{e.stopPropagation(),e.preventDefault(),nc(),this.cancelOnBlur(),this.mousemove(),this.mouseup(),this.mouseleave(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-moving"),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.path=[],this.gridster.options.draggable&&this.gridster.options.draggable.stop?Promise.resolve(this.gridster.options.draggable.stop(this.gridsterItem.item,this.gridsterItem,e)).then(this.makeDrag,this.cancelDrag):this.makeDrag(),setTimeout(()=>{this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle(!0))})};cancelDrag=()=>{this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push&&this.push.restoreItems(),this.swap&&this.swap.restoreSwapItem(),this.push&&(this.push.destroy(),this.push=null),this.swap&&(this.swap.destroy(),this.swap=null)};makeDrag=()=>{this.gridster.$options.draggable.dropOverItems&&this.gridster.options.draggable&&this.gridster.options.draggable.dropOverItemsCallback&&this.collision&&this.collision!==!0&&this.collision.$item&&this.gridster.options.draggable.dropOverItemsCallback(this.gridsterItem.item,this.collision.item,this.gridster),this.collision=!1,this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push&&this.push.setPushedItems(),this.swap&&this.swap.setSwapItem(),this.push&&(this.push.destroy(),this.push=null),this.swap&&(this.swap.destroy(),this.swap=null)};calculateItemPosition(){if(this.gridster.movingItem=this.gridsterItem.$item,this.positionX=this.gridster.pixelsToPositionX(this.left,Math.round),this.positionY=this.gridster.pixelsToPositionY(this.top,Math.round),this.positionXBackup=this.gridsterItem.$item.x,this.positionYBackup=this.gridsterItem.$item.y,this.gridsterItem.$item.x=this.positionX,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.x=this.positionXBackup),this.gridsterItem.$item.y=this.positionY,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.y=this.positionYBackup),this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,this.top),this.positionXBackup!==this.gridsterItem.$item.x||this.positionYBackup!==this.gridsterItem.$item.y){let e=this.path[this.path.length-1],t="";e.x<this.gridsterItem.$item.x?t=this.push.fromWest:e.x>this.gridsterItem.$item.x?t=this.push.fromEast:e.y<this.gridsterItem.$item.y?t=this.push.fromNorth:e.y>this.gridsterItem.$item.y&&(t=this.push.fromSouth),this.push.pushItems(t,this.gridster.$options.disablePushOnDrag),this.swap.swapItems(),this.collision=this.gridster.checkCollision(this.gridsterItem.$item),this.collision?(this.gridsterItem.$item.x=this.positionXBackup,this.gridsterItem.$item.y=this.positionYBackup,this.gridster.$options.draggable.dropOverItems&&this.collision!==!0&&this.collision.$item&&(this.gridster.movingItem=null)):this.path.push({x:this.gridsterItem.$item.x,y:this.gridsterItem.$item.y}),this.push.checkPushBack()}else this.collision=!1;this.gridster.previewStyle(!0)}toggle(){let e=this.gridsterItem.canBeDragged();!this.enabled&&e?(this.enabled=!this.enabled,this.mousedown=this.gridsterItem.renderer.listen(this.gridsterItem.el,"mousedown",this.dragStartDelay),this.touchstart=this.gridsterItem.renderer.listen(this.gridsterItem.el,"touchstart",this.dragStartDelay)):this.enabled&&!e&&(this.enabled=!this.enabled,this.mousedown(),this.touchstart())}dragStartDelay=e=>{if(e.target.classList.contains(Bf)||Se.checkContentClassForEvent(this.gridster,e))return;if(Se.checkTouchEvent(e),!this.gridster.$options.draggable.delayStart){this.dragStart(e);return}let i=setTimeout(()=>{this.dragStart(e),d()},this.gridster.$options.draggable.delayStart),o=this.gridsterItem.renderer.listen("document","mouseup",d),r=this.gridsterItem.renderer.listen("document","mouseleave",d),n=this.gridsterItem.renderer.listen("window","blur",d),a=this.gridsterItem.renderer.listen("document","touchmove",h),l=this.gridsterItem.renderer.listen("document","touchend",d),c=this.gridsterItem.renderer.listen("document","touchcancel",d);function h(u){Se.checkTouchEvent(u),(Math.abs(u.clientX-e.clientX)>9||Math.abs(u.clientY-e.clientY)>9)&&d()}function d(){clearTimeout(i),n(),o(),r(),a(),l(),c()}};getDirections(e){let t=[];return this.lastMouse.clientX===0&&this.lastMouse.clientY===0&&(this.lastMouse.clientY=e.clientY,this.lastMouse.clientX=e.clientX),this.lastMouse.clientY>e.clientY&&t.push($e.UP),this.lastMouse.clientY<e.clientY&&t.push($e.DOWN),this.lastMouse.clientX<e.clientX&&t.push($e.RIGHT),this.lastMouse.clientX>e.clientX&&t.push($e.LEFT),t}},ca=class{fromSouth;fromNorth;fromEast;fromWest;pushedItems;pushedItemsPath;gridsterItem;gridster;tryPattern;constructor(e){this.pushedItems=[],this.pushedItemsPath=[],this.gridsterItem=e,this.gridster=e.gridster,this.tryPattern={fromEast:this.tryWest,fromWest:this.tryEast,fromNorth:this.trySouth,fromSouth:this.tryNorth},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){this.gridster=this.gridsterItem=null}pushItems(e){return this.gridster.$options.pushResizeItems?this.push(this.gridsterItem,e):!1}restoreItems(){let e=0,t=this.pushedItems.length,i;for(;e<t;e++)i=this.pushedItems[e],i.$item.x=i.item.x||0,i.$item.y=i.item.y||0,i.$item.cols=i.item.cols||1,i.$item.row=i.item.row||1,i.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let e=0,t=this.pushedItems.length,i;for(;e<t;e++)i=this.pushedItems[e],i.checkItemChanges(i.$item,i.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let e=this.pushedItems.length-1,t=!1;for(;e>-1;e--)this.checkPushedItem(this.pushedItems[e],e)&&(t=!0);t&&this.checkPushBack()}push(e,t){let i=this.gridster.checkCollision(e.$item);if(i&&i!==!0&&i!==this.gridsterItem&&i.canBeResized()){if(this.tryPattern[t].call(this,i,e,t))return!0}else if(i===!1)return!0;return!1}trySouth(e,t,i){let o=e.$item.y,r=e.$item.rows;return e.$item.y=t.$item.y+t.$item.rows,e.$item.rows=r+o-e.$item.y,!this.gridster.checkCollisionTwoItems(e.$item,t.$item)&&!this.gridster.checkGridCollision(e.$item)?(e.setSize(),this.addToPushed(e),this.push(t,i),!0):(e.$item.y=o,e.$item.rows=r,!1)}tryNorth(e,t,i){let o=e.$item.rows;return e.$item.rows=t.$item.y-e.$item.y,!this.gridster.checkCollisionTwoItems(e.$item,t.$item)&&!this.gridster.checkGridCollision(e.$item)?(e.setSize(),this.addToPushed(e),this.push(t,i),!0):(e.$item.rows=o,!1)}tryEast(e,t,i){let o=e.$item.x,r=e.$item.cols;return e.$item.x=t.$item.x+t.$item.cols,e.$item.cols=r+o-e.$item.x,!this.gridster.checkCollisionTwoItems(e.$item,t.$item)&&!this.gridster.checkGridCollision(e.$item)?(e.setSize(),this.addToPushed(e),this.push(t,i),!0):(e.$item.x=o,e.$item.cols=r,!1)}tryWest(e,t,i){let o=e.$item.cols;return e.$item.cols=t.$item.x-e.$item.x,!this.gridster.checkCollisionTwoItems(e.$item,t.$item)&&!this.gridster.checkGridCollision(e.$item)?(e.setSize(),this.addToPushed(e),this.push(t,i),!0):(e.$item.cols=o,!1)}addToPushed(e){if(this.pushedItems.indexOf(e)<0)this.pushedItems.push(e),this.pushedItemsPath.push([{x:e.item.x||0,y:e.item.y||0,cols:e.item.cols||0,rows:e.item.rows||0},{x:e.$item.x,y:e.$item.y,cols:e.$item.cols,rows:e.$item.rows}]);else{let t=this.pushedItems.indexOf(e);this.pushedItemsPath[t].push({x:e.$item.x,y:e.$item.y,cols:e.$item.cols,rows:e.$item.rows})}}removeFromPushed(e){e>-1&&(this.pushedItems.splice(e,1),this.pushedItemsPath.splice(e,1))}checkPushedItem(e,t){let i=this.pushedItemsPath[t],o=i.length-2,r,n,a,l,c;for(;o>-1;o--)r=i[o],n=e.$item.x,a=e.$item.y,l=e.$item.cols,c=e.$item.rows,e.$item.x=r.x,e.$item.y=r.y,e.$item.cols=r.cols,e.$item.rows=r.rows,this.gridster.findItemWithItem(e.$item)?(e.$item.x=n,e.$item.y=a,e.$item.cols=l,e.$item.rows=c):(e.setSize(),i.splice(o+1,i.length-1-o));return i.length<2?(this.removeFromPushed(t),!0):!1}},ha=class{zone;gridsterItem;gridster;lastMouse;itemBackup;resizeEventScrollType;directionFunction=null;resizeEnabled;resizableHandles;mousemove;mouseup;mouseleave;cancelOnBlur;touchmove;touchend;touchcancel;push;pushResize;minHeight;minWidth;offsetTop;offsetLeft;diffTop;diffLeft;diffRight;diffBottom;margin;outerMarginTop;outerMarginRight;outerMarginBottom;outerMarginLeft;originalClientX;originalClientY;top;left;bottom;right;width;height;newPosition;constructor(e,t,i){this.zone=i,this.gridsterItem=e,this.gridster=t,this.lastMouse={clientX:0,clientY:0},this.itemBackup=[0,0,0,0],this.resizeEventScrollType={west:!1,east:!1,north:!1,south:!1}}destroy(){this.gridster?.previewStyle(),this.gridster=this.gridsterItem=null}dragStart(e){if(e.which&&e.which!==1)return;this.gridster.options.resizable&&this.gridster.options.resizable.start&&this.gridster.options.resizable.start(this.gridsterItem.item,this.gridsterItem,e),e.stopPropagation(),e.preventDefault(),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragMove),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-resizing"),this.lastMouse.clientX=e.clientX,this.lastMouse.clientY=e.clientY,this.left=this.gridsterItem.left,this.top=this.gridsterItem.top,this.originalClientX=e.clientX,this.originalClientY=e.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.bottom=this.gridsterItem.top+this.gridsterItem.height,this.right=this.gridsterItem.left+this.gridsterItem.width,this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.diffLeft=e.clientX+this.offsetLeft-this.left,this.diffRight=e.clientX+this.offsetLeft-this.right,this.diffTop=e.clientY+this.offsetTop-this.top,this.diffBottom=e.clientY+this.offsetTop-this.bottom,this.minHeight=this.gridster.positionYToPixels(this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows)-this.margin,this.minWidth=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(),this.push=new Ls(this.gridsterItem),this.pushResize=new ca(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid();let{classList:t}=e.target;t.contains("handle-n")?(this.resizeEventScrollType.north=!0,this.directionFunction=this.handleNorth):t.contains("handle-w")?this.gridster.$options.dirType===ye.RTL?(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):t.contains("handle-s")?(this.resizeEventScrollType.south=!0,this.directionFunction=this.handleSouth):t.contains("handle-e")?this.gridster.$options.dirType===ye.RTL?(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):t.contains("handle-nw")?this.gridster.$options.dirType===ye.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):t.contains("handle-ne")?this.gridster.$options.dirType===ye.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):t.contains("handle-sw")?this.gridster.$options.dirType===ye.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):t.contains("handle-se")&&(this.gridster.$options.dirType===ye.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast))}dragMove=e=>{if(this.directionFunction===null)throw new Error("The `directionFunction` has not been set before calling `dragMove`.");e.stopPropagation(),e.preventDefault(),Se.checkTouchEvent(e),this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,rc(this.gridster,this.left,this.top,this.width,this.height,e,this.lastMouse,this.directionFunction,!0,this.resizeEventScrollType);let t=this.gridster.options.scale||1;this.directionFunction({clientX:this.originalClientX+(e.clientX-this.originalClientX)/t,clientY:this.originalClientY+(e.clientY-this.originalClientY)/t}),this.lastMouse.clientX=e.clientX,this.lastMouse.clientY=e.clientY,this.zone.run(()=>{this.gridster.updateGrid()})};dragStop=e=>{e.stopPropagation(),e.preventDefault(),nc(),this.mousemove(),this.mouseup(),this.mouseleave(),this.cancelOnBlur(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.gridster.options.resizable&&this.gridster.options.resizable.stop?Promise.resolve(this.gridster.options.resizable.stop(this.gridsterItem.item,this.gridsterItem,e)).then(this.makeResize,this.cancelResize):this.makeResize(),setTimeout(()=>{this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-resizing"),this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())})};cancelResize=()=>{this.gridsterItem.$item.cols=this.gridsterItem.item.cols||1,this.gridsterItem.$item.rows=this.gridsterItem.item.rows||1,this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push.restoreItems(),this.pushResize.restoreItems(),this.push.destroy(),this.push=null,this.pushResize.destroy(),this.pushResize=null};makeResize=()=>{this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push.setPushedItems(),this.pushResize.setPushedItems(),this.push.destroy(),this.push=null,this.pushResize.destroy(),this.pushResize=null};handleNorth=e=>{this.top=e.clientY+this.offsetTop-this.diffTop,this.height=this.bottom-this.top,this.minHeight>this.height?(this.height=this.minHeight,this.top=this.bottom-this.minHeight):this.gridster.options.enableBoundaryControl&&(this.top=Math.max(0,this.top),this.height=this.bottom-this.top);let t=this.gridster.options.pushItems?this.margin:0;if(this.newPosition=this.gridster.pixelsToPositionY(this.top+t,Math.floor),this.gridsterItem.$item.y!==this.newPosition){if(this.itemBackup[1]=this.gridsterItem.$item.y,this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows+=this.gridsterItem.$item.y-this.newPosition,this.gridsterItem.$item.y=this.newPosition,this.pushResize.pushItems(this.pushResize.fromSouth),this.push.pushItems(this.push.fromSouth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item)){this.gridsterItem.$item.y=this.itemBackup[1],this.gridsterItem.$item.rows=this.itemBackup[3],this.top=this.gridster.positionYToPixels(this.gridsterItem.$item.y),this.setItemTop(this.gridster.positionYToPixels(this.gridsterItem.$item.y)),this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);return}else this.gridster.previewStyle();this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemTop(this.top),this.setItemHeight(this.height)};handleWest=e=>{let t=this.gridster.$options.dirType===ye.RTL?this.originalClientX+(this.originalClientX-e.clientX):e.clientX;this.left=t+this.offsetLeft-this.diffLeft,this.width=this.right-this.left,this.minWidth>this.width?(this.width=this.minWidth,this.left=this.right-this.minWidth):this.gridster.options.enableBoundaryControl&&(this.left=Math.max(0,this.left),this.width=this.right-this.left);let i=this.gridster.options.pushItems?this.margin:0;if(this.newPosition=this.gridster.pixelsToPositionX(this.left+i,Math.floor),this.gridsterItem.$item.x!==this.newPosition){if(this.itemBackup[0]=this.gridsterItem.$item.x,this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols+=this.gridsterItem.$item.x-this.newPosition,this.gridsterItem.$item.x=this.newPosition,this.pushResize.pushItems(this.pushResize.fromEast),this.push.pushItems(this.push.fromEast,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item)){this.gridsterItem.$item.x=this.itemBackup[0],this.gridsterItem.$item.cols=this.itemBackup[2],this.left=this.gridster.positionXToPixels(this.gridsterItem.$item.x),this.setItemLeft(this.gridster.positionXToPixels(this.gridsterItem.$item.x)),this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);return}else this.gridster.previewStyle();this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemLeft(this.left),this.setItemWidth(this.width)};handleSouth=e=>{if(this.height=e.clientY+this.offsetTop-this.diffBottom-this.top,this.minHeight>this.height&&(this.height=this.minHeight),this.bottom=this.top+this.height,this.gridster.options.enableBoundaryControl){let i=this.outerMarginBottom??this.margin,o=this.gridster.el.getBoundingClientRect();this.bottom=Math.min(this.bottom,o.bottom-o.top-2*i),this.height=this.bottom-this.top}let t=this.gridster.options.pushItems?0:this.margin;if(this.newPosition=this.gridster.pixelsToPositionY(this.bottom+t,Math.ceil),this.gridsterItem.$item.y+this.gridsterItem.$item.rows!==this.newPosition){if(this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows=this.newPosition-this.gridsterItem.$item.y,this.pushResize.pushItems(this.pushResize.fromNorth),this.push.pushItems(this.push.fromNorth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item)){this.gridsterItem.$item.rows=this.itemBackup[3],this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);return}else this.gridster.previewStyle();this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemHeight(this.height)};handleEast=e=>{let t=this.gridster.$options.dirType===ye.RTL?this.originalClientX+(this.originalClientX-e.clientX):e.clientX;if(this.width=t+this.offsetLeft-this.diffRight-this.left,this.minWidth>this.width&&(this.width=this.minWidth),this.right=this.left+this.width,this.gridster.options.enableBoundaryControl){let o=this.outerMarginRight??this.margin,r=this.gridster.el.getBoundingClientRect();this.right=Math.min(this.right,r.right-r.left-2*o),this.width=this.right-this.left}let i=this.gridster.options.pushItems?0:this.margin;if(this.newPosition=this.gridster.pixelsToPositionX(this.right+i,Math.ceil),this.gridsterItem.$item.x+this.gridsterItem.$item.cols!==this.newPosition){if(this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols=this.newPosition-this.gridsterItem.$item.x,this.pushResize.pushItems(this.pushResize.fromWest),this.push.pushItems(this.push.fromWest,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item)){this.gridsterItem.$item.cols=this.itemBackup[2],this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);return}else this.gridster.previewStyle();this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemWidth(this.width)};handleNorthWest=e=>{this.handleNorth(e),this.handleWest(e)};handleNorthEast=e=>{this.handleNorth(e),this.handleEast(e)};handleSouthWest=e=>{this.handleSouth(e),this.handleWest(e)};handleSouthEast=e=>{this.handleSouth(e),this.handleEast(e)};toggle(){this.resizeEnabled=this.gridsterItem.canBeResized(),this.resizableHandles=this.gridsterItem.getResizableHandles()}dragStartDelay(e){if(Se.checkTouchEvent(e),!this.gridster.$options.resizable.delayStart){this.dragStart(e);return}let t=setTimeout(()=>{this.dragStart(e),h()},this.gridster.$options.resizable.delayStart),{cancelMouse:i,cancelMouseLeave:o,cancelOnBlur:r,cancelTouchMove:n,cancelTouchEnd:a,cancelTouchCancel:l}=this.zone.runOutsideAngular(()=>{let d=this.gridsterItem.renderer.listen("document","mouseup",h),u=this.gridsterItem.renderer.listen("document","mouseleave",h),m=this.gridsterItem.renderer.listen("window","blur",h),g=this.gridsterItem.renderer.listen("document","touchmove",c),y=this.gridsterItem.renderer.listen("document","touchend",h),_=this.gridsterItem.renderer.listen("document","touchcancel",h);return{cancelMouse:d,cancelMouseLeave:u,cancelOnBlur:m,cancelTouchMove:g,cancelTouchEnd:y,cancelTouchCancel:_}});function c(d){Se.checkTouchEvent(d),(Math.abs(d.clientX-e.clientX)>9||Math.abs(d.clientY-e.clientY)>9)&&h()}function h(){clearTimeout(t),r(),i(),o(),n(),a(),l()}}setItemTop(e){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,e)}setItemLeft(e){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,e,this.top)}setItemHeight(e){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"height",e+"px")}setItemWidth(e){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"width",e+"px")}},dc=(()=>{class s{renderer;zone;item;itemInit=new G;itemChange=new G;itemResize=new G;$item;el;gridster;top;left;width;height;drag;resize;notPlaced;init;get zIndex(){return this.getLayerIndex()+this.gridster.$options.baseLayerIndex}constructor(t,i,o,r){this.renderer=o,this.zone=r,this.el=t.nativeElement,this.$item={cols:-1,rows:-1,x:-1,y:-1},this.gridster=i,this.drag=new la(this,i,this.zone),this.resize=new ha(this,i,this.zone)}ngOnInit(){this.gridster.addItem(this)}ngOnChanges(t){t.item&&(this.updateOptions(),this.init||this.gridster.calculateLayout$.next()),t.item&&t.item.previousValue&&this.setSize()}updateOptions(){this.$item=Se.merge(this.$item,this.item,{cols:void 0,rows:void 0,x:void 0,y:void 0,layerIndex:void 0,dragEnabled:void 0,resizeEnabled:void 0,compactEnabled:void 0,maxItemRows:void 0,minItemRows:void 0,maxItemCols:void 0,minItemCols:void 0,maxItemArea:void 0,minItemArea:void 0,resizableHandles:{s:void 0,e:void 0,n:void 0,w:void 0,se:void 0,ne:void 0,sw:void 0,nw:void 0}})}ngOnDestroy(){this.gridster.removeItem(this),this.drag.destroy(),this.resize.destroy(),this.gridster=this.drag=this.resize=null}setSize(){this.renderer.setStyle(this.el,"display",this.notPlaced?"":"block"),this.gridster.gridRenderer.updateItem(this.el,this.$item,this.renderer),this.updateItemSize()}updateItemSize(){let t=this.$item.y*this.gridster.curRowHeight,i=this.$item.x*this.gridster.curColWidth,o=this.$item.cols*this.gridster.curColWidth-this.gridster.$options.margin,r=this.$item.rows*this.gridster.curRowHeight-this.gridster.$options.margin;this.top=t,this.left=i,!this.init&&o>0&&r>0&&(this.init=!0,this.item.initCallback&&this.item.initCallback(this.item,this),this.gridster.options.itemInitCallback&&this.gridster.options.itemInitCallback(this.item,this),this.itemInit.next({item:this.item,itemComponent:this}),this.gridster.$options.scrollToNewItems&&this.el.scrollIntoView(!1)),(o!==this.width||r!==this.height)&&(this.width=o,this.height=r,this.gridster.options.itemResizeCallback&&this.gridster.options.itemResizeCallback(this.item,this),this.itemResize.next({item:this.item,itemComponent:this}))}itemChanged(){this.gridster.options.itemChangeCallback&&this.gridster.options.itemChangeCallback(this.item,this),this.itemChange.next({item:this.item,itemComponent:this})}checkItemChanges(t,i){t.rows===i.rows&&t.cols===i.cols&&t.x===i.x&&t.y===i.y||(this.gridster.checkCollision(this.$item)?(this.$item.x=i.x||0,this.$item.y=i.y||0,this.$item.cols=i.cols||1,this.$item.rows=i.rows||1,this.setSize()):(this.item.cols=this.$item.cols,this.item.rows=this.$item.rows,this.item.x=this.$item.x,this.item.y=this.$item.y,this.gridster.calculateLayout$.next(),this.itemChanged()))}canBeDragged(){let t=this.gridster.$options.draggable.enabled,i=this.$item.dragEnabled===void 0?t:this.$item.dragEnabled;return!this.gridster.mobile&&t&&i}canBeResized(){let t=this.gridster.$options.resizable.enabled,i=this.$item.resizeEnabled===void 0?t:this.$item.resizeEnabled;return!this.gridster.mobile&&t&&i}getResizableHandles(){let t=this.gridster.$options.resizable.handles,i=this.$item.resizableHandles;return i===void 0?t:I(I({},t),i)}bringToFront(t){if(t&&t<=0)return;let i=this.getLayerIndex(),o=this.gridster.$options.maxLayerIndex;if(i<o){let r=t?i+t:o;this.item.layerIndex=this.$item.layerIndex=r>o?o:r}}sendToBack(t){if(t&&t<=0)return;let i=this.getLayerIndex();if(i>0){let o=t?i-t:0;this.item.layerIndex=this.$item.layerIndex=o<0?0:o}}getLayerIndex(){return this.item.layerIndex!==void 0?this.item.layerIndex:this.gridster.$options.defaultLayerIndex!==void 0?this.gridster.$options.defaultLayerIndex:0}static \u0275fac=function(i){return new(i||s)(ie(Pe),ie(da),ie(bt),ie(Ce))};static \u0275cmp=se({type:s,selectors:[["gridster-item"]],hostVars:2,hostBindings:function(i,o){i&2&&Vt("z-index",o.zIndex)},inputs:{item:"item"},outputs:{itemInit:"itemInit",itemChange:"itemChange",itemResize:"itemResize"},features:[Nt],ngContentSelectors:ic,decls:9,vars:8,consts:[[1,"gridster-item-resizable-handler","handle-s"],[1,"gridster-item-resizable-handler","handle-e"],[1,"gridster-item-resizable-handler","handle-n"],[1,"gridster-item-resizable-handler","handle-w"],[1,"gridster-item-resizable-handler","handle-se"],[1,"gridster-item-resizable-handler","handle-ne"],[1,"gridster-item-resizable-handler","handle-sw"],[1,"gridster-item-resizable-handler","handle-nw"],[1,"gridster-item-resizable-handler","handle-s",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-e",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-n",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-w",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-se",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-ne",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-sw",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-nw",3,"mousedown","touchstart"]],template:function(i,o){i&1&&(Is(),Es(0),me(1,If,1,0,"div",0),me(2,Ef,1,0,"div",1),me(3,Of,1,0,"div",2),me(4,Tf,1,0,"div",3),me(5,Mf,1,0,"div",4),me(6,zf,1,0,"div",5),me(7,Lf,1,0,"div",6),me(8,Ff,1,0,"div",7)),i&2&&(F(),ge(o.resize.resizableHandles!=null&&o.resize.resizableHandles.s&&o.resize.resizeEnabled?1:-1),F(),ge(o.resize.resizableHandles!=null&&o.resize.resizableHandles.e&&o.resize.resizeEnabled?2:-1),F(),ge(o.resize.resizableHandles!=null&&o.resize.resizableHandles.n&&o.resize.resizeEnabled?3:-1),F(),ge(o.resize.resizableHandles!=null&&o.resize.resizableHandles.w&&o.resize.resizeEnabled?4:-1),F(),ge(o.resize.resizableHandles!=null&&o.resize.resizableHandles.se&&o.resize.resizeEnabled?5:-1),F(),ge(o.resize.resizableHandles!=null&&o.resize.resizableHandles.ne&&o.resize.resizeEnabled?6:-1),F(),ge(o.resize.resizableHandles!=null&&o.resize.resizableHandles.sw&&o.resize.resizeEnabled?7:-1),F(),ge(o.resize.resizableHandles!=null&&o.resize.resizableHandles.nw&&o.resize.resizeEnabled?8:-1))},styles:[`gridster-item{box-sizing:border-box;z-index:1;position:absolute;overflow:hidden;transition:.3s;display:none;background:#fff;-webkit-user-select:text;user-select:text}gridster-item.gridster-item-moving{cursor:move}gridster-item.gridster-item-resizing,gridster-item.gridster-item-moving{transition:0s;z-index:2;box-shadow:0 0 5px 5px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.gridster-item-resizable-handler{position:absolute;z-index:2}.gridster-item-resizable-handler.handle-n{cursor:ns-resize;height:10px;right:0;top:0;left:0}.gridster-item-resizable-handler.handle-e{cursor:ew-resize;width:10px;bottom:0;right:0;top:0}.gridster-item-resizable-handler.handle-s{cursor:ns-resize;height:10px;right:0;bottom:0;left:0}.gridster-item-resizable-handler.handle-w{cursor:ew-resize;width:10px;left:0;top:0;bottom:0}.gridster-item-resizable-handler.handle-ne{cursor:ne-resize;width:10px;height:10px;right:0;top:0}.gridster-item-resizable-handler.handle-nw{cursor:nw-resize;width:10px;height:10px;left:0;top:0}.gridster-item-resizable-handler.handle-se{cursor:se-resize;width:0;height:0;right:0;bottom:0;border-style:solid;border-width:0 0 10px 10px;border-color:transparent}.gridster-item-resizable-handler.handle-sw{cursor:sw-resize;width:10px;height:10px;left:0;bottom:0}gridster-item:hover .gridster-item-resizable-handler.handle-se{border-color:transparent transparent #ccc}
`],encapsulation:2})}return s})();var Rt=function(s){return s[s.Dropdown=0]="Dropdown",s[s.Button=1]="Button",s}(Rt||{}),ot=function(s){return s[s.NewGame=0]="NewGame",s[s.Difficulty=1]="Difficulty",s[s.Rules=2]="Rules",s}(ot||{}),rt=function(s){return s[s.Easy=0]="Easy",s[s.Medium=1]="Medium",s[s.Hard=2]="Hard",s}(rt||{}),qi=function(s){return s[s.Car=0]="Car",s[s.Truck=1]="Truck",s[s.GreenCar=2]="GreenCar",s}(qi||{}),nt=function(s){return s[s.Horizontal=0]="Horizontal",s[s.Vertical=1]="Vertical",s}(nt||{}),at=function(s){return s[s.NoOverlapAllowed=0]="NoOverlapAllowed",s[s.CanOnlyMoveHorizontaly=1]="CanOnlyMoveHorizontaly",s[s.CanOnlyMoveVertically=2]="CanOnlyMoveVertically",s}(at||{});var Wt=6,Pt=6,uc=Wt*Pt,Fs=3;function pa(){return[{name:"New Game",id:ot.NewGame,type:Rt.Button},{name:"Difficulty",id:ot.Difficulty,type:Rt.Dropdown,options:[{name:"Easy",id:rt.Easy},{name:"Medium",id:rt.Medium},{name:"Hard",id:rt.Hard}]},{name:"How to Play?",id:ot.Rules,type:Rt.Button}]}function fc(){return{title:"How to Play?",content:`<h2>Rush Hour: Gridlock Escape!</h2>
      <p><b>Goal:</b> Get your <span style="color: green; font-weight: bold;">green car</span> off the board via the right exit.</p>
      <hr>
      <h3>Setup</h3>
      <ul>
          <li><b>Board:</b> 6x6 grid.</li>
          <li><b>Pieces:</b> Cars (2 squares), Trucks (3 squares), and your special <span style="color: green; font-weight: bold;">Green Car</span> (2 squares).</li>
          <li>Each challenge has a unique starting layout.</li>
      </ul>
      <hr>
      <h3>How to Move</h3>
      <ul>
          <li><b>Straight Only:</b> Vehicles slide forward/backward (horizontal) or up/down (vertical). No turns.</li>
          <li><b>Clear Path:</b> Move pieces only if squares are empty.</li>
          <li><b>No Overlap:</b> Pieces can't land on others. All stay on the board until your green car exits.</li>
          <li><b>One Move:</b> Move one vehicle per turn.</li>
      </ul>
      <hr>
      <h3>Winning</h3>
      <p>You win when your <span style="color: green; font-weight: bold;">green car</span> slides towards the red exit door!</p>`}}var pc={fullScreen:{zIndex:1},particles:{number:{value:100},color:{value:["#80CBC4","#B4EBE6","#00FF9C"]},shape:{type:["circle"]},opacity:{value:.8},size:{value:{min:2,max:5}},move:{enable:!0,speed:5,direction:"outside",random:!0,straight:!1,outModes:{default:"out"}}},detectRetina:!0};function Nf(s,e){if(s&1&&ce(0,"gridster-item",5),s&2){let t=e.$implicit;Vt("background-color",t.color),de("item",t)}}function Vf(s,e){if(s&1&&(T(0,"gridster",2),Ct(1,Nf,1,3,"gridster-item",3,Ds),M(),ce(3,"div",4)),s&2){let t=E(2);Vt("background-color","#ffffff"),de("options",t.options),F(),St(t.grid),F(2),Vt("top","calc(100% / 6 * "+t.exitRow+")")}}function Hf(s,e){s&1&&(T(0,"span",1),Fe(1,"Start a new Game to play"),M())}function Wf(s,e){if(s&1&&(T(0,"div",0),me(1,Vf,4,5)(2,Hf,2,0,"span",1),M()),s&2){let t=E();F(),ge(t.grid.length?1:2)}}var mc=(()=>{class s{set config(t){t&&t.length?(this.carPositions=this.getCarsPlaceholderArray(t),this.grid=this.getGameGrid(t)):this.grid=[],this.updatePrevGrid()}exitRow=Fs;onGridComplete=new G;onGridError=new G;onUserError=new G;prevGrid=[];carPositions=null;isValidDrag=!0;options;grid=[];constructor(){this.options={gridType:O.Fit,enableBoundaryControl:!0,swap:!1,pushItems:!1,minCols:Pt,maxCols:Pt,minRows:Wt,maxRows:Wt,draggable:{enabled:!0,stop:this.itemDragEnd},resizable:{enabled:!1},itemChangeCallback:this.itemChange}}getCarsPlaceholderArray(t){let i=!1,r=new Array(Pt).fill(null).map(n=>new Array(Wt).fill(null));return t.forEach(n=>{if(r[n.y][n.x]=n.id,n.rows>1)for(let a=1;a<n.rows;a++)n.y+a>Pt-1&&(i=!0,this.onGridError.emit()),r[n.y+a][n.x]=n.id;if(n.cols>1)for(let a=1;a<n.cols;a++)n.x+a>Wt-1&&(i=!0,this.onGridError.emit()),r[n.y][n.x+a]=n.id}),i?null:r}getGameGrid(t){if(!this.carPositions)return[];let i=[],o=[];for(let r=0;r<Wt;r++)for(let n=0;n<Pt;)if(this.carPositions[r][n]!=null){let a=this.carPositions[r][n];if(i.includes(a)){n++;continue}let l=t.find(h=>h.id===this.carPositions?.[r][n]),{cols:c}=l;o.push(be(I({},l),{dragEnabled:!0})),i.push(l.id),n+=c}else n++;return o}checkOverlap(t,i){t===null||!this.isValidDrag||t!==i&&(this.isValidDrag=!1)}updateCarPositions(t,i,o,r){let n=this.carPositions?.map(a=>[...a]);switch(t){case nt.Horizontal:let a=Math.min(i?.x,o?.x),l=Math.max(i?.x,o?.x)+o.cols;for(let d=a;d<l;d++){let u=d>=o.x+o.cols,m=d<o.x;if(n){if(this.checkOverlap(n[o.y][d],r),!this.isValidDrag){this.onUserError.emit(at.NoOverlapAllowed);return}n[o.y][d]=u||m?null:r}}break;case nt.Vertical:let c=Math.min(i?.y,o?.y),h=Math.max(i?.y,o?.y)+o.rows;for(let d=c;d<h;d++){let u=d>=o.y+o.rows,m=d<o.y;if(n){if(this.checkOverlap(n[d][o.x],r),!this.isValidDrag){this.onUserError.emit(at.NoOverlapAllowed);return}n[d][o.x]=u||m?null:r}}break}this.carPositions=n}revertGrid(t,i,o){this.grid=this.prevGrid.map(r=>(r.id===t&&(r.x=i,r.y=o),I({},r)))}updatePrevGrid(){this.prevGrid=this.grid.map(t=>I({},t))}isValidDragDirection(t,i,o){switch(t){case nt.Horizontal:return o?.y===i?.y;case nt.Vertical:return o?.x===i?.x}return!0}itemChange=(t,i)=>{let{type:o,x:r,y:n,cols:a}=t;if(this.isValidDrag)o===qi.GreenCar&&n===this.exitRow&&r===Pt-a&&this.onGridComplete.emit(),this.updatePrevGrid();else{let{id:l}=t,{x:c,y:h}=this.prevGrid.find(d=>d.id===l);this.revertGrid(l,c,h),this.isValidDrag=!0}};itemDragEnd=(t,i,o)=>{let{id:r,dragging:n}=t,a=this.prevGrid.find(c=>c.id===r),l=i.$item;if(!(l.x===a.x&&l.y===a.y))if(this.isValidDragDirection(n,a,l))this.updateCarPositions(n,a,l,r);else{let c=n===nt.Horizontal?at.CanOnlyMoveHorizontaly:at.CanOnlyMoveVertically;this.onUserError.emit(c),this.isValidDrag=!1}};static \u0275fac=function(i){return new(i||s)};static \u0275cmp=se({type:s,selectors:[["grid"]],inputs:{config:"config",exitRow:"exitRow"},outputs:{onGridComplete:"onGridComplete",onGridError:"onGridError",onUserError:"onUserError"},decls:1,vars:1,consts:[[1,"grid"],[1,"grid__empty"],[3,"options"],[1,"grid__item",3,"backgroundColor","item"],[1,"grid__exit"],[1,"grid__item",3,"item"]],template:function(i,o){i&1&&me(0,Wf,3,1,"div",0),i&2&&ge(o.options?0:-1)},dependencies:[da,dc],styles:[".grid[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;width:100%;height:100%}.grid__item[_ngcontent-%COMP%]{border-radius:8px}.grid__exit[_ngcontent-%COMP%]{position:absolute;width:4px;right:0;background-color:red;height:16.393442623%}.grid__empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}"]})}return s})();var Zi=function(s){return s.GameCache="GameCache",s}(Zi||{}),gc=(()=>{class s{setItem(t,i){let o=JSON.stringify(i),r=btoa(o);localStorage.setItem(t,r)}getItem(t){let i=localStorage.getItem(t);if(i){let o=atob(i);return JSON.parse(o)}return null}removeItem(t){localStorage.removeItem(t)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var jf=50,Xf=1e3,Yf=3,_c=(()=>{class s{startTime=0;intervalId;displayTime=He("0.000s");ngOnInit(){this.startTime=performance.now(),this.intervalId=setInterval(()=>{let t=performance.now()-this.startTime;this.displayTime.set((t/Xf).toFixed(Yf)+"s")},jf)}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=se({type:s,selectors:[["loader"]],decls:10,vars:1,consts:[[1,"container"],["viewBox","0 0 100 50","xmlns","http://www.w3.org/2000/svg",1,"container__car"],["x","10","y","20","width","80","height","20","rx","4","fill","green"],["points","30,20 40,10 60,10 70,20","fill","#2ecc71"],["x","42","y","12","width","6","height","8","fill","#ecf0f1"],["x","52","y","12","width","6","height","8","fill","#ecf0f1"],["cx","25","cy","42","r","6","fill","#333"],["cx","75","cy","42","r","6","fill","#333"],[1,"container__counter"]],template:function(i,o){i&1&&(T(0,"div",0),Ll(),T(1,"svg",1),ce(2,"rect",2)(3,"polygon",3)(4,"rect",4)(5,"rect",5)(6,"circle",6)(7,"circle",7),M(),Fl(),T(8,"div",8),Fe(9),M()()),i&2&&(F(9),di(" ",o.displayTime()," "))},styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:relative;gap:8px}.container__car[_ngcontent-%COMP%]{width:100px;height:50px;transform-origin:center center;position:absolute;animation:_ngcontent-%COMP%_drive-horizontal 4s linear infinite}.container__counter[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}@keyframes _ngcontent-%COMP%_drive-horizontal{0%{transform:translate(-200%) scaleX(1)}49.9%{transform:translate(200%) scaleX(1)}50%{transform:translate(200%) scaleX(-1)}to{transform:translate(-200%) scaleX(-1)}}"]})}return s})();function yc(s){return s.cols>s.rows?nt.Horizontal:nt.Vertical}var pt="generated",vc="pointerdown",xc="pointerup",Ki="pointerleave",wc="pointerout",Ae="pointermove",bc="touchstart",ma="touchend",Cc="touchmove",Sc="touchcancel",Rc="resize",Pc="visibilitychange",le="tsParticles - Error";var ue={x:0,y:0,z:0},Qi={a:1,b:0,c:0,d:1},kt="random",Ji="mid",oe=2,kc=Math.PI*oe,$s=60;var ga="true",_a="false",As="canvas",ya=0,Be=2,va=4,Dc=1,xa=1,wa=1,Ic=4,Bs=1,es=255,Dt=360,Ns=100,Vs=100,ba=0,Hs=0,Ec=60,Oc=0,ts=.25,Ca=.5+ts,Sa=0,Tc=1,Mc=0,zc=0,Lc=1,is=1,Fc=1,Ra=1,ui=0,Ws=1,$c=0,Ac=120,Bc=0,Nc=0,Vc=1e4,Hc=0,Wc=1,Gt=0,Gs=1,Gc=1,jc=0,Pa=1,Xc=0,Yc=0,ka=-ts,Da=1.5,Ia=0,Uc=1,qc=0,ss=0,Zc=0,js=1,Kc=1,fi=1,Qc=500,Ea=50,Jc=0,os=1,Oa=0,Ta=1,eh=0,It=255,Xs=3,Ys=6,th=1,ih=1,sh=0,oh=0,rh=0,nh=0;var he=function(s){return s.bottom="bottom",s.bottomLeft="bottom-left",s.bottomRight="bottom-right",s.left="left",s.none="none",s.right="right",s.top="top",s.topLeft="top-left",s.topRight="top-right",s.outside="outside",s.inside="inside",s}(he||{});function Us(s){return typeof s=="boolean"}function Ge(s){return typeof s=="string"}function Qe(s){return typeof s=="number"}function mt(s){return typeof s=="object"&&s!==null}function ke(s){return Array.isArray(s)}function f(s){return s==null}var pi=class s{constructor(e,t,i){if(this._updateFromAngle=(o,r)=>{this.x=Math.cos(o)*r,this.y=Math.sin(o)*r},!Qe(e)&&e){this.x=e.x,this.y=e.y;let o=e;this.z=o.z?o.z:ue.z}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??ue.z;else throw new Error(`${le} Vector3d not initialized correctly`)}static get origin(){return s.create(ue.x,ue.y,ue.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return s.create(e.x,e.y,e.z)}static create(e,t,i){return new s(e,t,i)}add(e){return s.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return s.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return s.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**Be+this.y**Be}mult(e){return s.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){let e=this.length;e!=Gt&&this.multTo(Bs/e)}rotate(e){return s.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),ue.z)}setTo(e){this.x=e.x,this.y=e.y;let t=e;this.z=t.z?t.z:ue.z}sub(e){return s.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}},H=class s extends pi{constructor(e,t){super(e,t,ue.z)}static get origin(){return s.create(ue.x,ue.y)}static clone(e){return s.create(e.x,e.y)}static create(e,t){return new s(e,t)}};var Uf=Math.random,ah={nextFrame:s=>requestAnimationFrame(s),cancel:s=>cancelAnimationFrame(s)};function D(){return re(Uf(),0,1-Number.EPSILON)}function lh(s){return ah.nextFrame(s)}function ch(s){ah.cancel(s)}function re(s,e,t){return Math.min(Math.max(s,e),t)}function qs(s,e,t,i){return Math.floor((s*t+e*i)/(t+i))}function fe(s){let e=De(s),t=0,i=mi(s);return e===i&&(i=t),D()*(e-i)+i}function v(s){return Qe(s)?s:fe(s)}function mi(s){return Qe(s)?s:s.min}function De(s){return Qe(s)?s:s.max}function R(s,e){if(s===e||e===void 0&&Qe(s))return s;let t=mi(s),i=De(s);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:R(t,i)}function j(s,e){let t=s.x-e.x,i=s.y-e.y,o=2;return{dx:t,dy:i,distance:Math.sqrt(t**o+i**o)}}function q(s,e){return j(s,e).distance}function Xe(s){return s*Math.PI/180}function hh(s,e,t){if(Qe(s))return Xe(s);switch(s){case he.top:return-Math.PI*.5;case he.topRight:return-Math.PI*ts;case he.right:return Oc;case he.bottomRight:return Math.PI*ts;case he.bottom:return Math.PI*.5;case he.bottomLeft:return Math.PI*Ca;case he.left:return Math.PI;case he.topLeft:return-Math.PI*Ca;case he.inside:return Math.atan2(t.y-e.y,t.x-e.x);case he.outside:return Math.atan2(e.y-t.y,e.x-t.x);default:return D()*kc}}function dh(s){let e=H.origin;return e.length=1,e.angle=s,e}function Ma(s,e,t,i){return H.create(s.x*(t-i)/(t+i)+e.x*oe*i/(t+i),s.y)}function uh(s){return{x:s.position?.x??D()*s.size.width,y:s.position?.y??D()*s.size.height}}function Zs(s){return s?s.endsWith("%")?parseFloat(s)/100:parseFloat(s):1}var Et=function(s){return s.auto="auto",s.increase="increase",s.decrease="decrease",s.random="random",s}(Et||{});var J=function(s){return s.increasing="increasing",s.decreasing="decreasing",s}(J||{});var lt=function(s){return s.none="none",s.max="max",s.min="min",s}(lt||{});var P=function(s){return s.bottom="bottom",s.left="left",s.right="right",s.top="top",s}(P||{});var gt=function(s){return s.precise="precise",s.percent="percent",s}(gt||{});var jt=function(s){return s.max="max",s.min="min",s.random="random",s}(jt||{});var qf={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Ye(){return qf}function Zf(s){let e=new Map;return(...t)=>{let i=JSON.stringify(t);if(e.has(i))return e.get(i);let o=s(...t);return e.set(i,o),o}}function fh(s){let e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:o,rectOtherSide:r,velocity:n,factor:a}=s;return i.min<r.min||i.min>r.max||i.max<r.min||i.max>r.max||(t.max>=o.min&&t.max<=(o.max+o.min)*.5&&n>Sa||t.min<=o.max&&t.min>(o.max+o.min)*.5&&n<Sa)&&(e.velocity=n*-a,e.bounced=!0),e}function Kf(s,e){let t=ne(e,i=>s.matches(i));return ke(t)?t.some(i=>i):t}function ct(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function Qf(){return!ct()&&typeof matchMedia<"u"}function Ks(s){if(Qf())return matchMedia(s)}function ph(s){if(!(ct()||typeof IntersectionObserver>"u"))return new IntersectionObserver(s)}function mh(s){if(!(ct()||typeof MutationObserver>"u"))return new MutationObserver(s)}function $(s,e){return s===e||ke(e)&&e.indexOf(s)>-1}function za(s,e){return p(this,null,function*(){try{yield document.fonts.load(`${e??"400"} 36px '${s??"Verdana"}'`)}catch{}})}function Jf(s){return Math.floor(D()*s.length)}function gi(s,e,t=!0){return s[e!==void 0&&t?e%s.length:Jf(s)]}function _i(s,e,t,i,o){return ep(Ot(s,i??0),e,t,o)}function ep(s,e,t,i){let o=!0;return(!i||i===P.bottom)&&(o=s.top<e.height+t.x),o&&(!i||i===P.left)&&(o=s.right>t.x),o&&(!i||i===P.right)&&(o=s.left<e.width+t.y),o&&(!i||i===P.top)&&(o=s.bottom>t.y),o}function Ot(s,e){return{bottom:s.y+e,left:s.x-e,right:s.x+e,top:s.y-e}}function X(s,...e){for(let t of e){if(t==null)continue;if(!mt(t)){s=t;continue}let i=Array.isArray(t);i&&(mt(s)||!s||!Array.isArray(s))?s=[]:!i&&(mt(s)||!s||Array.isArray(s))&&(s={});for(let o in t){if(o==="__proto__")continue;let r=t,n=r[o],a=s;a[o]=mt(n)&&Array.isArray(n)?n.map(l=>X(a[o],l)):X(a[o],n)}}return s}function yi(s,e){return!!_h(e,t=>t.enable&&$(s,t.mode))}function vi(s,e,t){ne(e,i=>{let o=i.mode;i.enable&&$(s,o)&&tp(i,t)})}function tp(s,e){let t=s.selectors;ne(t,i=>{e(i,s)})}function Qs(s,e){if(!(!e||!s))return _h(s,t=>Kf(e,t.selectors))}function rs(s){return{position:s.getPosition(),radius:s.getRadius(),mass:s.getMass(),velocity:s.velocity,factor:H.create(v(s.options.bounce.horizontal.value),v(s.options.bounce.vertical.value))}}function Js(s,e){let{x:t,y:i}=s.velocity.sub(e.velocity),[o,r]=[s.position,e.position],{dx:n,dy:a}=j(r,o);if(t*n+i*a<0)return;let c=-Math.atan2(a,n),h=s.mass,d=e.mass,u=s.velocity.rotate(c),m=e.velocity.rotate(c),g=Ma(u,m,h,d),y=Ma(m,u,h,d),_=g.rotate(-c),x=y.rotate(-c);s.velocity.x=_.x*s.factor.x,s.velocity.y=_.y*s.factor.y,e.velocity.x=x.x*e.factor.x,e.velocity.y=x.y*e.factor.y}function gh(s,e){let t=s.getPosition(),i=s.getRadius(),o=Ot(t,i),r=s.options.bounce,n=fh({pSide:{min:o.left,max:o.right},pOtherSide:{min:o.top,max:o.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:s.velocity.x,factor:v(r.horizontal.value)});n.bounced&&(n.velocity!==void 0&&(s.velocity.x=n.velocity),n.position!==void 0&&(s.position.x=n.position));let a=fh({pSide:{min:o.top,max:o.bottom},pOtherSide:{min:o.left,max:o.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:s.velocity.y,factor:v(r.vertical.value)});a.bounced&&(a.velocity!==void 0&&(s.velocity.y=a.velocity),a.position!==void 0&&(s.position.y=a.position))}function ne(s,e){return ke(s)?s.map((i,o)=>e(i,o)):e(s,0)}function Re(s,e,t){return ke(s)?gi(s,e,t):s}function _h(s,e){return ke(s)?s.find((i,o)=>e(i,o)):e(s,0)?s:void 0}function eo(s,e){let t=s.value,i=s.animation,o={delayTime:v(i.delay)*1e3,enable:i.enable,value:v(s.value)*e,max:De(t)*e,min:mi(t)*e,loops:0,maxLoops:v(i.count),time:0},r=1;if(i.enable){switch(o.decay=r-v(i.decay),i.mode){case Et.increase:o.status=J.increasing;break;case Et.decrease:o.status=J.decreasing;break;case Et.random:o.status=D()>=.5?J.increasing:J.decreasing;break}let n=i.mode===Et.auto;switch(i.startValue){case jt.min:o.value=o.min,n&&(o.status=J.increasing);break;case jt.max:o.value=o.max,n&&(o.status=J.decreasing);break;case jt.random:default:o.value=fe(o),n&&(o.status=D()>=.5?J.increasing:J.decreasing);break}}return o.initialValue=o.value,o}function ip(s,e){if(!(s.mode===gt.percent)){let o=s,{mode:r}=o;return Sl(o,["mode"])}return"x"in s?{x:s.x/100*e.width,y:s.y/100*e.height}:{width:s.width/100*e.width,height:s.height/100*e.height}}function to(s,e){return ip(s,e)}function sp(s,e,t,i,o){switch(e){case lt.max:t>=o&&s.destroy();break;case lt.min:t<=i&&s.destroy();break}}function xi(s,e,t,i,o){if(s.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;let h=(e.velocity??0)*o.factor,d=e.min,u=e.max,m=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=o.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case J.increasing:e.value>=u?(t?e.status=J.decreasing:e.value-=u,e.loops||(e.loops=0),e.loops++):e.value+=h;break;case J.decreasing:e.value<=d?(t?e.status=J.increasing:e.value+=u,e.loops||(e.loops=0),e.loops++):e.value-=h}e.velocity&&m!==1&&(e.velocity*=m),sp(s,i,e.value,d,u),s.destroyed||(e.value=re(e.value,d,u))}}function yh(s){let e=document.createElement("div").style;if(!s)return e;for(let t in s){let i=s[t];if(!Object.prototype.hasOwnProperty.call(s,t)||f(i))continue;let o=s.getPropertyValue?.(i);if(!o)continue;let r=s.getPropertyPriority?.(i);r?e.setProperty?.(i,o,r):e.setProperty?.(i,o)}return e}function op(s){let e=document.createElement("div").style,t=10,i={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:s.toString(t),"z-index":s.toString(t),top:"0",left:"0"};for(let o in i){let r=i[o];e.setProperty(o,r)}return e}var vh=Zf(op);var La=function(s){return s.darken="darken",s.enlighten="enlighten",s}(La||{});function rp(s,e){if(e){for(let t of s.colorManagers.values())if(e.startsWith(t.stringPrefix))return t.parseString(e)}}function Ie(s,e,t,i=!0){if(!e)return;let o=Ge(e)?{value:e}:e;if(Ge(o.value))return xh(s,o.value,t,i);if(ke(o.value))return Ie(s,{value:gi(o.value,t,i)});for(let r of s.colorManagers.values()){let n=r.handleRangeColor(o);if(n)return n}}function xh(s,e,t,i=!0){if(!e)return;let o=Ge(e)?{value:e}:e;if(Ge(o.value))return o.value===kt?bh():np(s,o.value);if(ke(o.value))return xh(s,{value:gi(o.value,t,i)});for(let r of s.colorManagers.values()){let n=r.handleColor(o);if(n)return n}}function _t(s,e,t,i=!0){let o=Ie(s,e,t,i);return o?Aa(o):void 0}function Aa(s){let e=s.r/es,t=s.g/es,i=s.b/es,o=Math.max(e,t,i),r=Math.min(e,t,i),n={h:ba,l:(o+r)*.5,s:Hs};return o!==r&&(n.s=n.l<.5?(o-r)/(o+r):(o-r)/(oe-o-r),n.h=e===o?(t-i)/(o-r):n.h=t===o?oe+(i-e)/(o-r):oe*oe+(e-t)/(o-r)),n.l*=Vs,n.s*=Ns,n.h*=Ec,n.h<ba&&(n.h+=Dt),n.h>=Dt&&(n.h-=Dt),n}function np(s,e){return rp(s,e)}function Xt(s){let e=(s.h%Dt+Dt)%Dt,t=Math.max(Hs,Math.min(Ns,s.s)),i=Math.max(eh,Math.min(Vs,s.l)),o=e/Dt,r=t/Ns,n=i/Vs;if(t===Hs){let g=Math.round(n*It);return{r:g,g,b:g}}let a=(g,y,_)=>{if(_<0&&_++,_>1&&_--,_*Ys<1)return g+(y-g)*Ys*_;if(_*oe<1)return y;if(_*Xs<1*oe){let S=oe/Xs;return g+(y-g)*(S-_)*Ys}return g},l=n<.5?n*(th+r):n+r-n*r,c=oe*n-l,h=ih/Xs,d=Math.min(It,It*a(c,l,o+h)),u=Math.min(It,It*a(c,l,o)),m=Math.min(It,It*a(c,l,o-h));return{r:Math.round(d),g:Math.round(u),b:Math.round(m)}}function wh(s){let e=Xt(s);return{a:s.a,b:e.b,g:e.g,r:e.r}}function bh(s){let e=s??sh,t=es+os;return{b:Math.floor(fe(R(e,t))),g:Math.floor(fe(R(e,t))),r:Math.floor(fe(R(e,t)))}}function Me(s,e){return`rgba(${s.r}, ${s.g}, ${s.b}, ${e??is})`}function Tt(s,e){return`hsla(${s.h}, ${s.s}%, ${s.l}%, ${e??is})`}function ns(s,e,t,i){let o=s,r=e;return o.r===void 0&&(o=Xt(s)),r.r===void 0&&(r=Xt(e)),{b:qs(o.b,r.b,t,i),g:qs(o.g,r.g,t,i),r:qs(o.r,r.r,t,i)}}function as(s,e,t){if(t===kt)return bh();if(t===Ji){let i=s.getFillColor()??s.getStrokeColor(),o=e?.getFillColor()??e?.getStrokeColor();if(i&&o&&e)return ns(i,o,s.getRadius(),e.getRadius());{let r=i??o;if(r)return Xt(r)}}else return t}function io(s,e,t,i){let o=Ge(e)?e:e.value;return o===kt?i?Ie(s,{value:o}):t?kt:Ji:o===Ji?Ji:Ie(s,{value:o})}function Ba(s){return s!==void 0?{h:s.h.value,s:s.s.value,l:s.l.value}:void 0}function so(s,e,t){let i={h:{enable:!1,value:s.h},s:{enable:!1,value:s.s},l:{enable:!1,value:s.l}};return e&&(Fa(i.h,e.h,t),Fa(i.s,e.s,t),Fa(i.l,e.l,t)),i}function Fa(s,e,t){s.enable=e.enable,s.enable?(s.velocity=v(e.speed)/100*t,s.decay=Gs-v(e.decay),s.status=J.increasing,s.loops=rh,s.maxLoops=v(e.count),s.time=nh,s.delayTime=v(e.delay)*1e3,e.sync||(s.velocity*=D(),s.value*=D()),s.initialValue=s.value,s.offset=R(e.offset)):s.velocity=oh}function $a(s,e,t,i){if(!s||!s.enable||(s.maxLoops??0)>0&&(s.loops??0)>(s.maxLoops??0)||(s.time||(s.time=0),(s.delayTime??0)>0&&s.time<(s.delayTime??0)&&(s.time+=i.value),(s.delayTime??0)>0&&s.time<(s.delayTime??0)))return;let h=s.offset?fe(s.offset):0,d=(s.velocity??0)*i.factor+h*3.6,u=s.decay??1,m=De(e),g=mi(e);!t||s.status===J.increasing?(s.value+=d,s.value>m&&(s.loops||(s.loops=0),s.loops++,t?s.status=J.decreasing:s.value-=m)):(s.value-=d,s.value<0&&(s.loops||(s.loops=0),s.loops++,s.status=J.increasing)),s.velocity&&u!==1&&(s.velocity*=u),s.value=re(s.value,g,m)}function oo(s,e){if(!s)return;let{h:t,s:i,l:o}=s,r={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};t&&$a(t,r.h,!1,e),i&&$a(i,r.s,!0,e),o&&$a(o,r.l,!0,e)}function Mt(s,e,t){s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.closePath()}function Ch(s,e,t){s.fillStyle=t??"rgba(0,0,0,0)",s.fillRect(ue.x,ue.y,e.width,e.height)}function Sh(s,e,t,i){t&&(s.globalAlpha=i,s.drawImage(t,ue.x,ue.y,e.width,e.height),s.globalAlpha=1)}function ro(s,e){s.clearRect(ue.x,ue.y,e.width,e.height)}function Rh(s){let{container:e,context:t,particle:i,delta:o,colorStyles:r,backgroundMask:n,composite:a,radius:l,opacity:c,shadow:h,transform:d}=s,u=i.getPosition(),m=i.rotation+(i.pathRotation?i.velocity.angle:Jc),g={sin:Math.sin(m),cos:Math.cos(m)},y=!!m,_={a:g.cos*(d.a??Qi.a),b:y?g.sin*(d.b??os):d.b??Qi.b,c:y?-g.sin*(d.c??os):d.c??Qi.c,d:g.cos*(d.d??Qi.d)};t.setTransform(_.a,_.b,_.c,_.d,u.x,u.y),n&&(t.globalCompositeOperation=a);let x=i.shadowColor;h.enable&&x&&(t.shadowBlur=h.blur,t.shadowColor=Me(x),t.shadowOffsetX=h.offset.x,t.shadowOffsetY=h.offset.y),r.fill&&(t.fillStyle=r.fill);let w=i.strokeWidth??Oa;t.lineWidth=w,r.stroke&&(t.strokeStyle=r.stroke);let S={container:e,context:t,particle:i,radius:l,opacity:c,delta:o,transformData:_,strokeWidth:w};lp(S),cp(S),ap(S),t.globalCompositeOperation="source-over",t.resetTransform()}function ap(s){let{container:e,context:t,particle:i,radius:o,opacity:r,delta:n,transformData:a}=s;if(!i.effect)return;let l=e.effectDrawers.get(i.effect);l&&l.draw({context:t,particle:i,radius:o,opacity:r,delta:n,pixelRatio:e.retina.pixelRatio,transformData:I({},a)})}function lp(s){let{container:e,context:t,particle:i,radius:o,opacity:r,delta:n,strokeWidth:a,transformData:l}=s;if(!i.shape)return;let c=e.shapeDrawers.get(i.shape);c&&(t.beginPath(),c.draw({context:t,particle:i,radius:o,opacity:r,delta:n,pixelRatio:e.retina.pixelRatio,transformData:I({},l)}),i.shapeClose&&t.closePath(),a>Oa&&t.stroke(),i.shapeFill&&t.fill())}function cp(s){let{container:e,context:t,particle:i,radius:o,opacity:r,delta:n,transformData:a}=s;if(!i.shape)return;let l=e.shapeDrawers.get(i.shape);l?.afterDraw&&l.afterDraw({context:t,particle:i,radius:o,opacity:r,delta:n,pixelRatio:e.retina.pixelRatio,transformData:I({},a)})}function Ph(s,e,t){e.draw&&e.draw(s,t)}function kh(s,e,t,i){e.drawParticle&&e.drawParticle(s,t,i)}function Dh(s,e,t){return{h:s.h,s:s.s,l:s.l+(e===La.darken?-Ta:Ta)*t}}function hp(s,e,t){let i=e[t];i!==void 0&&(s[t]=(s[t]??Tc)*i)}function Ih(s,e,t=!1){if(!e)return;let i=s;if(!i)return;let o=i.style;if(!o)return;let r=new Set;for(let n in o)Object.prototype.hasOwnProperty.call(o,n)&&r.add(o[n]);for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.add(e[n]);for(let n of r){let a=e.getPropertyValue(n);a?o.setProperty(n,a,t?"important":""):o.removeProperty(n)}}var no=class{constructor(e,t){this.container=e,this._applyPostDrawUpdaters=r=>{for(let n of this._postDrawUpdaters)n.afterDraw?.(r)},this._applyPreDrawUpdaters=(r,n,a,l,c,h)=>{for(let d of this._preDrawUpdaters){if(d.getColorStyles){let{fill:u,stroke:m}=d.getColorStyles(n,r,a,l);u&&(c.fill=u),m&&(c.stroke=m)}if(d.getTransformValues){let u=d.getTransformValues(n);for(let m in u)hp(h,u,m)}d.beforeDraw?.(n)}},this._applyResizePlugins=()=>{for(let r of this._resizePlugins)r.resize?.()},this._getPluginParticleColors=r=>{let n,a;for(let l of this._colorPlugins)if(!n&&l.particleFillColor&&(n=_t(this._engine,l.particleFillColor(r))),!a&&l.particleStrokeColor&&(a=_t(this._engine,l.particleStrokeColor(r))),n&&a)break;return[n,a]},this._initCover=()=>p(this,null,function*(){let r=this.container.actualOptions,n=r.backgroundMask.cover,a=n.color;if(a){let l=Ie(this._engine,a);if(l){let c=be(I({},l),{a:n.opacity});this._coverColorStyle=Me(c,c.a)}}else yield new Promise((l,c)=>{if(!n.image)return;let h=document.createElement("img");h.addEventListener("load",()=>{this._coverImage={image:h,opacity:n.opacity},l()}),h.addEventListener("error",d=>{c(d.error)}),h.src=n.image})}),this._initStyle=()=>{let r=this.element,n=this.container.actualOptions;if(r){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(let a in n.style){if(!a||!n.style||!Object.prototype.hasOwnProperty.call(n.style,a))continue;let l=n.style[a];l&&r.style.setProperty(a,l,"important")}}},this._initTrail=()=>p(this,null,function*(){let r=this.container.actualOptions,n=r.particles.move.trail,a=n.fill;if(!n.enable)return;let l=Bs/n.length;if(a.color){let c=Ie(this._engine,a.color);if(!c)return;this._trailFill={color:I({},c),opacity:l}}else yield new Promise((c,h)=>{if(!a.image)return;let d=document.createElement("img");d.addEventListener("load",()=>{this._trailFill={image:d,opacity:l},c()}),d.addEventListener("error",u=>{h(u.error)}),d.src=a.image})}),this._paintBase=r=>{this.draw(n=>Ch(n,this.size,r))},this._paintImage=(r,n)=>{this.draw(a=>Sh(a,this.size,r,n))},this._repairStyle=()=>{let r=this.element;r&&(this._safeMutationObserver(n=>n.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(n=>{!r||!(r instanceof Node)||n.observe(r,{attributes:!0})}))},this._resetOriginalStyle=()=>{let r=this.element,n=this._originalStyle;!r||!n||Ih(r,n,!0)},this._safeMutationObserver=r=>{this._mutationObserver&&r(this._mutationObserver)},this._setFullScreenStyle=()=>{let r=this.element;r&&Ih(r,vh(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=t,this._standardSize={height:0,width:0};let i=e.retina.pixelRatio,o=this._standardSize;this.size={height:o.height*i,width:o.width*i},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){let e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>zc&&i?i.color?this._paintBase(Me(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(o=>{ro(o,this.size)})}destroy(){this.stop(),this._generated?(this.element?.remove(),this.element=void 0):this._resetOriginalStyle(),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){let t=this._context;if(t)return e(t)}drawAsync(e){let t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;let i=e.getRadius();if(i<=Mc)return;let o=e.getFillColor(),r=e.getStrokeColor()??o,[n,a]=this._getPluginParticleColors(e);n||(n=o),a||(a=r),!(!n&&!a)&&this.draw(l=>{let c=this.container,h=c.actualOptions,d=e.options.zIndex,u=Lc-e.zIndexFactor,m=u**d.opacityRate,g=e.bubble.opacity??e.opacity?.value??is,y=e.strokeOpacity??g,_=g*m,x=y*m,w={},S={fill:n?Tt(n,_):void 0};S.stroke=a?Tt(a,x):S.fill,this._applyPreDrawUpdaters(l,e,i,_,S,w),Rh({container:c,context:l,particle:e,delta:t,colorStyles:S,backgroundMask:h.backgroundMask.enable,composite:h.backgroundMask.composite,radius:i*u**d.sizeRate,opacity:_,shadow:e.options.shadow,transform:w}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(o=>kh(o,e,t,i))}drawPlugin(e,t){this.draw(i=>Ph(i,e,t))}init(){return p(this,null,function*(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=mh(e=>{for(let t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),yield this._initCover();try{yield this._initTrail()}catch(e){Ye().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()})}initBackground(){let e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;let o=i.style;if(o){if(t.color){let r=Ie(this._engine,t.color);o.backgroundColor=r?Me(r,t.opacity):""}else o.backgroundColor="";o.backgroundImage=t.image||"",o.backgroundPosition=t.position||"",o.backgroundRepeat=t.repeat||"",o.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(let e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(let e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&pt in e.dataset?e.dataset[pt]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=yh(this.element.style);let t=this._standardSize;t.height=e.offsetHeight,t.width=e.offsetWidth;let i=this.container.retina.pixelRatio,o=this.size;e.height=o.height=t.height*i,e.width=o.width=t.width*i,this._context=this.element.getContext("2d"),this._safeMutationObserver(r=>r.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(r=>{!this.element||!(this.element instanceof Node)||r.observe(this.element,{attributes:!0})})}paint(){let e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(ro(t,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;let e=this.container,t=e.canvas._standardSize,i={width:this.element.offsetWidth,height:this.element.offsetHeight},o=e.retina.pixelRatio,r={width:i.width*o,height:i.height*o};if(i.height===t.height&&i.width===t.width&&r.height===this.element.height&&r.width===this.element.width)return!1;let n=I({},t);t.height=i.height,t.width=i.width;let a=this.size;return this.element.width=a.width=r.width,this.element.height=a.height=r.height,this.container.started&&e.particles.setResizeFactor({width:t.width/n.width,height:t.height/n.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>ro(e,this.size))}windowResize(){return p(this,null,function*(){if(!this.element||!this.resize())return;let e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&(yield e.refresh())})}};var Yt=function(s){return s.canvas="canvas",s.parent="parent",s.window="window",s}(Yt||{});function Ue(s,e,t,i,o){if(i){let r={passive:!0};Us(o)?r.capture=o:o!==void 0&&(r=o),s.addEventListener(e,t,r)}else{let r=o;s.removeEventListener(e,t,r)}}var ao=class{constructor(e){this.container=e,this._doMouseTouchClick=t=>{let i=this.container,o=i.actualOptions;if(this._canPush){let r=i.interactivity.mouse,n=r.position;if(!n)return;r.clickPosition=I({},n),r.clickTime=new Date().getTime();let a=o.interactivity.events.onClick;ne(a.mode,l=>this.container.handleClickMode(l))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),Qc)},this._handleThemeChange=t=>{let i=t,o=this.container,r=o.options,n=r.defaultThemes,a=i.matches?n.dark:n.light;r.themes.find(c=>c.name===a)?.default.auto&&o.loadTheme(a)},this._handleVisibilityChange=()=>{let t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document?.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.animationStatus?t.play(!0):t.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);let t=()=>p(this,null,function*(){yield this.container.canvas?.windowResize()});this._resizeTimeout=setTimeout(()=>void t(),this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(t,i)=>{let o=this._handlers,r=this.container,n=r.actualOptions,a=r.interactivity.element;if(!a)return;let l=a,c=r.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(n.interactivity.events.onHover.enable||n.interactivity.events.onClick.enable)&&(Ue(a,Ae,o.mouseMove,i),Ue(a,bc,o.touchStart,i),Ue(a,Cc,o.touchMove,i),n.interactivity.events.onClick.enable?(Ue(a,ma,o.touchEndClick,i),Ue(a,xc,o.mouseUp,i),Ue(a,vc,o.mouseDown,i)):Ue(a,ma,o.touchEnd,i),Ue(a,t,o.mouseLeave,i),Ue(a,Sc,o.touchCancel,i))},this._manageListeners=t=>{let i=this._handlers,o=this.container,r=o.actualOptions,n=r.interactivity.detectsOn,a=o.canvas.element,l=Ki;n===Yt.window?(o.interactivity.element=window,l=wc):n===Yt.parent&&a?o.interactivity.element=a.parentElement??a.parentNode:o.interactivity.element=a,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(l,t),document&&Ue(document,Pc,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{let i=this._handlers,o=Ks("(prefers-color-scheme: dark)");if(o){if(o.addEventListener!==void 0){Ue(o,"change",i.themeChange,t);return}o.addListener!==void 0&&(t?o.addListener(i.oldThemeChange):o.removeListener(i.oldThemeChange))}},this._manageResize=t=>{let i=this._handlers,o=this.container;if(!o.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){Ue(window,Rc,i.resize,t);return}let n=o.canvas.element;this._resizeObserver&&!t?(n&&this._resizeObserver.unobserve(n),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&n&&(this._resizeObserver=new ResizeObserver(a=>{a.find(c=>c.target===n)&&this._handleWindowResize()}),this._resizeObserver.observe(n))},this._mouseDown=()=>{let{interactivity:t}=this.container;if(!t)return;let{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{let i=this.container,o=i.actualOptions,{mouse:r}=i.interactivity;r.inside=!0;let n=!1,a=r.position;if(!(!a||!o.interactivity.events.onClick.enable)){for(let l of i.plugins.values())if(l.clickPositionValid&&(n=l.clickPositionValid(a),n))break;n||this._doMouseTouchClick(t),r.clicking=!1}},this._mouseTouchFinish=()=>{let t=this.container.interactivity;if(!t)return;let i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=Ki,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{let i=this.container,o=i.actualOptions,r=i.interactivity,n=i.canvas.element;if(!r?.element)return;r.mouse.inside=!0;let a;if(t.type.startsWith("pointer")){this._canPush=!0;let c=t;if(r.element===window){if(n){let h=n.getBoundingClientRect();a={x:c.clientX-h.left,y:c.clientY-h.top}}}else if(o.interactivity.detectsOn===Yt.parent){let h=c.target,d=c.currentTarget;if(h&&d&&n){let u=h.getBoundingClientRect(),m=d.getBoundingClientRect(),g=n.getBoundingClientRect();a={x:c.offsetX+oe*u.left-(m.left+g.left),y:c.offsetY+oe*u.top-(m.top+g.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===n&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=t.type!=="touchmove",n){let c=t,h=c.touches[c.touches.length-js],d=n.getBoundingClientRect();a={x:h.clientX-(d.left??ui),y:h.clientY-(d.top??ui)}}let l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),r.mouse.position=a,r.status=Ae},this._touchEnd=t=>{let i=t,o=Array.from(i.changedTouches);for(let r of o)this._touches.delete(r.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{let i=t,o=Array.from(i.changedTouches);for(let r of o)this._touches.delete(r.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{let i=t,o=Array.from(i.changedTouches);for(let r of o)this._touches.set(r.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}};var pe=function(s){return s.configAdded="configAdded",s.containerInit="containerInit",s.particlesSetup="particlesSetup",s.containerStarted="containerStarted",s.containerStopped="containerStopped",s.containerDestroyed="containerDestroyed",s.containerPaused="containerPaused",s.containerPlay="containerPlay",s.containerBuilt="containerBuilt",s.particleAdded="particleAdded",s.particleDestroyed="particleDestroyed",s.particleRemoved="particleRemoved",s}(pe||{});var V=class s{constructor(){this.value=""}static create(e,t){let i=new s;return i.load(e),t!==void 0&&(Ge(t)||ke(t)?i.load({value:t}):i.load(t)),i}load(e){f(e)||f(e.value)||(this.value=e.value)}};var lo=class{constructor(){this.color=new V,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){f(e)||(e.color!==void 0&&(this.color=V.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}};var co=class{constructor(){this.opacity=1}load(e){f(e)||(e.color!==void 0&&(this.color=V.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}};var ho=class{constructor(){this.composite="destination-out",this.cover=new co,this.enable=!1}load(e){if(!f(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){let t=e.cover,i=Ge(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0||t.image!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}};var uo=class{constructor(){this.enable=!0,this.zIndex=0}load(e){f(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}};var fo=class{constructor(){this.enable=!1,this.mode=[]}load(e){f(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}};var yt=function(s){return s.circle="circle",s.rectangle="rectangle",s}(yt||{});var ls=class{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=yt.circle}load(e){f(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}};var po=class{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){f(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}};var mo=class{constructor(){this.enable=!1,this.mode=[],this.parallax=new po}load(e){f(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}};var go=class{constructor(){this.delay=.5,this.enable=!0}load(e){f(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}};var _o=class{constructor(){this.onClick=new fo,this.onDiv=new ls,this.onHover=new mo,this.resize=new go}load(e){if(f(e))return;this.onClick.load(e.onClick);let t=e.onDiv;t!==void 0&&(this.onDiv=ne(t,i=>{let o=new ls;return o.load(i),o})),this.onHover.load(e.onHover),this.resize.load(e.resize)}};var yo=class{constructor(e,t){this._engine=e,this._container=t}load(e){if(f(e)||!this._container)return;let t=this._engine.interactors.get(this._container);if(t)for(let i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}};var wi=class{constructor(e,t){this.detectsOn=Yt.window,this.events=new _o,this.modes=new yo(e,t)}load(e){if(f(e))return;let t=e.detectsOn;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}};var vo=class{load(e){f(e)||(e.position&&(this.position={x:e.position.x??Ea,y:e.position.y??Ea,mode:e.position.mode??gt.percent}),e.options&&(this.options=X({},e.options)))}};var zt=function(s){return s.screen="screen",s.canvas="canvas",s}(zt||{});var xo=class{constructor(){this.maxWidth=1/0,this.options={},this.mode=zt.canvas}load(e){f(e)||(f(e.maxWidth)||(this.maxWidth=e.maxWidth),f(e.mode)||(e.mode===zt.screen?this.mode=zt.screen:this.mode=zt.canvas),f(e.options)||(this.options=X({},e.options)))}};var vt=function(s){return s.any="any",s.dark="dark",s.light="light",s}(vt||{});var wo=class{constructor(){this.auto=!1,this.mode=vt.any,this.value=!1}load(e){f(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}};var bo=class{constructor(){this.name="",this.default=new wo}load(e){f(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=X({},e.options)))}};var Ut=class{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){f(e)||(e.count!==void 0&&(this.count=R(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=R(e.speed)),e.decay!==void 0&&(this.decay=R(e.decay)),e.delay!==void 0&&(this.delay=R(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}},Lt=class extends Ut{constructor(){super(),this.mode=Et.auto,this.startValue=jt.random}load(e){super.load(e),!f(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}};var bi=class extends Ut{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!f(e)&&e.offset!==void 0&&(this.offset=R(e.offset))}};var Co=class{constructor(){this.h=new bi,this.s=new bi,this.l=new bi}load(e){f(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}};var qt=class s extends V{constructor(){super(),this.animation=new Co}static create(e,t){let i=new s;return i.load(e),t!==void 0&&(Ge(t)||ke(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),f(e))return;let t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}};var Zt=function(s){return s.absorb="absorb",s.bounce="bounce",s.destroy="destroy",s}(Zt||{});var So=class{constructor(){this.speed=2}load(e){f(e)||e.speed!==void 0&&(this.speed=e.speed)}};var Ro=class{constructor(){this.enable=!0,this.retries=0}load(e){f(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}};var Ee=class{constructor(){this.value=0}load(e){f(e)||f(e.value)||(this.value=R(e.value))}},Na=class extends Ee{constructor(){super(),this.animation=new Ut}load(e){if(super.load(e),f(e))return;let t=e.animation;t!==void 0&&this.animation.load(t)}},Ci=class extends Na{constructor(){super(),this.animation=new Lt}load(e){super.load(e)}};var cs=class extends Ee{constructor(){super(),this.value=1}};var Si=class{constructor(){this.horizontal=new cs,this.vertical=new cs}load(e){f(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}};var Po=class{constructor(){this.absorb=new So,this.bounce=new Si,this.enable=!1,this.maxSpeed=50,this.mode=Zt.bounce,this.overlap=new Ro}load(e){f(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=R(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}};var ko=class{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(f(e))return;let t=e.options;if(t!==void 0)for(let i in t){let o=t[i];o&&(this.options[i]=X(this.options[i]??{},o))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}};var Do=class{constructor(){this.offset=0,this.value=90}load(e){f(e)||(e.offset!==void 0&&(this.offset=R(e.offset)),e.value!==void 0&&(this.value=R(e.value)))}};var Io=class{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!f(e)&&(e.distance!==void 0&&(this.distance=R(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){let t=e.rotate.x;t!==void 0&&(this.rotate.x=t);let i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}};var Eo=class{constructor(){this.x=50,this.y=50,this.mode=gt.percent,this.radius=0}load(e){f(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}};var Oo=class{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){f(e)||(e.acceleration!==void 0&&(this.acceleration=R(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=R(e.maxSpeed)))}};var To=class{constructor(){this.clamp=!0,this.delay=new Ee,this.enable=!1,this.options={}}load(e){f(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=X(this.options,e.options)))}};var Mo=class{load(e){f(e)||(e.color!==void 0&&(this.color=V.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}};var zo=class{constructor(){this.enable=!1,this.length=10,this.fill=new Mo}load(e){f(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}};var A=function(s){return s.bounce="bounce",s.none="none",s.out="out",s.destroy="destroy",s.split="split",s}(A||{});var Lo=class{constructor(){this.default=A.out}load(e){f(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}};var Fo=class{constructor(){this.acceleration=0,this.enable=!1}load(e){f(e)||(e.acceleration!==void 0&&(this.acceleration=R(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=X({},e.position)))}};var $o=class{constructor(){this.angle=new Do,this.attract=new Io,this.center=new Eo,this.decay=0,this.distance={},this.direction=he.none,this.drift=0,this.enable=!1,this.gravity=new Oo,this.path=new To,this.outModes=new Lo,this.random=!1,this.size=!1,this.speed=2,this.spin=new Fo,this.straight=!1,this.trail=new zo,this.vibrate=!1,this.warp=!1}load(e){if(f(e))return;this.angle.load(Qe(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=R(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Qe(e.distance)?{horizontal:e.distance,vertical:e.distance}:I({},e.distance)),e.drift!==void 0&&(this.drift=R(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);let t=e.outModes;t!==void 0&&(mt(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=R(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}};var Ao=class extends Lt{constructor(){super(),this.destroy=lt.none,this.speed=2}load(e){super.load(e),!f(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}};var Bo=class extends Ci{constructor(){super(),this.animation=new Ao,this.value=1}load(e){if(f(e))return;super.load(e);let t=e.animation;t!==void 0&&this.animation.load(t)}};var No=class{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(f(e))return;e.enable!==void 0&&(this.enable=e.enable);let t=e.width;t!==void 0&&(this.width=t);let i=e.height;i!==void 0&&(this.height=i)}};var Ri=function(s){return s.delete="delete",s.wait="wait",s}(Ri||{});var Vo=class{constructor(){this.mode=Ri.delete,this.value=0}load(e){f(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}};var Ho=class{constructor(){this.density=new No,this.limit=new Vo,this.value=0}load(e){f(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}};var Wo=class{constructor(){this.blur=0,this.color=new V,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){f(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=V.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}};var Go=class{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(f(e))return;let t=e.options;if(t!==void 0)for(let i in t){let o=t[i];o&&(this.options[i]=X(this.options[i]??{},o))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}};var jo=class extends Lt{constructor(){super(),this.destroy=lt.none,this.speed=5}load(e){super.load(e),!f(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}};var Xo=class extends Ci{constructor(){super(),this.animation=new jo,this.value=3}load(e){if(super.load(e),f(e))return;let t=e.animation;t!==void 0&&this.animation.load(t)}};var hs=class{constructor(){this.width=0}load(e){f(e)||(e.color!==void 0&&(this.color=qt.create(this.color,e.color)),e.width!==void 0&&(this.width=R(e.width)),e.opacity!==void 0&&(this.opacity=R(e.opacity)))}};var Yo=class extends Ee{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!f(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}};var Uo=class{constructor(e,t){this._engine=e,this._container=t,this.bounce=new Si,this.collisions=new Po,this.color=new qt,this.color.value="#fff",this.effect=new ko,this.groups={},this.move=new $o,this.number=new Ho,this.opacity=new Bo,this.reduceDuplicates=!1,this.shadow=new Wo,this.shape=new Go,this.size=new Xo,this.stroke=new hs,this.zIndex=new Yo}load(e){if(f(e))return;if(e.groups!==void 0)for(let i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;let o=e.groups[i];o!==void 0&&(this.groups[i]=X(this.groups[i]??{},o))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(qt.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=X({},e.interactivity));let t=e.stroke;if(t&&(this.stroke=ne(t,i=>{let o=new hs;return o.load(i),o})),this._container){let i=this._engine.updaters.get(this._container);if(i)for(let r of i)r.loadOptions&&r.loadOptions(this,e);let o=this._engine.interactors.get(this._container);if(o)for(let r of o)r.loadParticlesOptions&&r.loadParticlesOptions(this,e)}}};function Va(s,...e){for(let t of e)s.load(t)}function qo(s,e,...t){let i=new Uo(s,e);return Va(i,...t),i}var Zo=class{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(o=>o.default.value&&o.default.mode===i)??this.themes.find(o=>o.default.value&&o.default.mode===vt.any),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new lo,this.backgroundMask=new ho,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new uo,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new wi(e,t),this.manualParticles=[],this.particles=qo(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){if(f(e))return;e.preset!==void 0&&ne(e.preset,n=>this._importPreset(n)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=R(e.delay));let t=e.detectRetina;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=R(e.duration));let i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);let o=e.fullScreen;Us(o)?this.fullScreen.enable=o:this.fullScreen.load(o),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(n=>{let a=new vo;return a.load(n),a})),this.particles.load(e.particles),this.style=X(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);let r=this._engine.interactors.get(this._container);if(r)for(let n of r)n.loadOptions&&n.loadOptions(this,e);if(e.responsive!==void 0)for(let n of e.responsive){let a=new xo;a.load(n),this.responsive.push(a)}if(this.responsive.sort((n,a)=>n.maxWidth-a.maxWidth),e.themes!==void 0)for(let n of e.themes){let a=this.themes.find(l=>l.name===n.name);if(a)a.load(n);else{let l=new bo;l.load(n),this.themes.push(l)}}this.defaultThemes.dark=this._findDefaultTheme(vt.dark)?.name,this.defaultThemes.light=this._findDefaultTheme(vt.light)?.name}setResponsive(e,t,i){this.load(i);let o=this.responsive.find(r=>r.mode===zt.screen&&screen?r.maxWidth>screen.availWidth:r.maxWidth*t>e);return this.load(o?.options),o?.maxWidth}setTheme(e){if(e){let t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{let t=Ks("(prefers-color-scheme: dark)"),i=t?.matches,o=this._findDefaultTheme(i?vt.dark:vt.light);o&&this.load(o.options)}}};var Ft=function(s){return s.external="external",s.particles="particles",s}(Ft||{});var Ko=class{constructor(e,t){this.container=t,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(let t of this._externalInteractors)t.isEnabled()&&t.interact(e)}handleClickMode(e){for(let t of this._externalInteractors)t.handleClickMode?.(e)}init(){return p(this,null,function*(){this._interactors=yield this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(let e of this._interactors){switch(e.type){case Ft.external:this._externalInteractors.push(e);break;case Ft.particles:this._particleInteractors.push(e);break}e.init()}})}particlesInteract(e,t){for(let i of this._externalInteractors)i.clear(e,t);for(let i of this._particleInteractors)i.isEnabled(e)&&i.interact(e,t)}reset(e){for(let t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(let t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}};var Ne=function(s){return s.normal="normal",s.inside="inside",s.outside="outside",s}(Ne||{});function dp(s,e,t,i){let o=e.options[s];if(o)return X({close:e.close,fill:e.fill},Re(o,t,i))}function up(s,e,t,i){let o=e.options[s];if(o)return X({close:e.close,fill:e.fill},Re(o,t,i))}function Eh(s){if(!$(s.outMode,s.checkModes))return;let e=s.radius*oe;s.coord>s.maxCoord-e?s.setCb(-s.radius):s.coord<e&&s.setCb(s.radius)}var Qo=class{constructor(e,t){this.container=t,this._calcPosition=(i,o,r,n=ya)=>{for(let g of i.plugins.values()){let y=g.particlePosition!==void 0?g.particlePosition(o,this):void 0;if(y)return pi.create(y.x,y.y,r)}let a=i.canvas.size,l=uh({size:a,position:o}),c=pi.create(l.x,l.y,r),h=this.getRadius(),d=this.options.move.outModes,u=g=>{Eh({outMode:g,checkModes:[A.bounce],coord:c.x,maxCoord:i.canvas.size.width,setCb:y=>c.x+=y,radius:h})},m=g=>{Eh({outMode:g,checkModes:[A.bounce],coord:c.y,maxCoord:i.canvas.size.height,setCb:y=>c.y+=y,radius:h})};return u(d.left??d.default),u(d.right??d.default),m(d.top??d.default),m(d.bottom??d.default),this._checkOverlap(c,n)?this._calcPosition(i,void 0,r,n+Gc):c},this._calculateVelocity=()=>{let i=dh(this.direction),o=i.copy(),r=this.options.move;if(r.direction===he.inside||r.direction===he.outside)return o;let n=Xe(v(r.angle.value)),a=Xe(v(r.angle.offset)),l={left:a-n*.5,right:a+n*.5};return r.straight||(o.angle+=fe(R(l.left,l.right))),r.random&&typeof r.speed=="number"&&(o.length*=D()),o},this._checkOverlap=(i,o=ya)=>{let r=this.options.collisions,n=this.getRadius();if(!r.enable)return!1;let a=r.overlap;if(a.enable)return!1;let l=a.retries;if(l>=jc&&o>l)throw new Error(`${le} particle is overlapping and can't be placed`);return!!this.container.particles.find(c=>q(i,c.position)<n+c.getRadius())},this._getRollColor=i=>{if(!i||!this.roll||!this.backColor&&!this.roll.alter)return i;let o=this.roll.horizontal&&this.roll.vertical?oe*Pa:Pa,r=this.roll.horizontal?Math.PI*.5:Gt;return Math.floor(((this.roll.angle??Gt)+r)/(Math.PI/o))%oe?this.backColor?this.backColor:this.roll.alter?Dh(i,this.roll.alter.type,this.roll.alter.value):i:i},this._initPosition=i=>{let o=this.container,r=v(this.options.zIndex.value);this.position=this._calcPosition(o,i,re(r,Xc,o.zLayers)),this.initialPosition=this.position.copy();let n=o.canvas.size;switch(this.moveCenter=be(I({},to(this.options.move.center,n)),{radius:this.options.move.center.radius??Yc,mode:this.options.move.center.mode??gt.percent}),this.direction=hh(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case he.inside:this.outType=Ne.inside;break;case he.outside:this.outType=Ne.outside;break}this.offset=H.origin},this._engine=e}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;let t=this.container,i=this.pathGenerator;t.shapeDrawers.get(this.shape)?.particleDestroy?.(this);for(let r of t.plugins.values())r.particleDestroyed?.(this,e);for(let r of t.particles.updaters)r.particleDestroyed?.(this,e);i?.reset(this),this._engine.dispatchEvent(pe.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){let t=this.container,i=t.canvas;for(let o of t.plugins.values())i.drawParticlePlugin(o,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??Ba(this.color))}getMass(){return this.getRadius()**Be*Math.PI*.5}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??Ba(this.strokeColor))}init(e,t,i,o){let r=this.container,n=this._engine;this.id=e,this.group=o,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=Ne.normal,this.ignoresResizeRatio=!0;let a=r.retina.pixelRatio,l=r.actualOptions,c=qo(this._engine,r,l.particles),{reduceDuplicates:h}=c,d=c.effect.type,u=c.shape.type;this.effect=Re(d,this.id,h),this.shape=Re(u,this.id,h);let m=c.effect,g=c.shape;if(i){if(i.effect?.type){let B=i.effect.type,we=Re(B,this.id,h);we&&(this.effect=we,m.load(i.effect))}if(i.shape?.type){let B=i.shape.type,we=Re(B,this.id,h);we&&(this.shape=we,g.load(i.shape))}}if(this.effect===kt){let B=[...this.container.effectDrawers.keys()];this.effect=B[Math.floor(Math.random()*B.length)]}if(this.shape===kt){let B=[...this.container.shapeDrawers.keys()];this.shape=B[Math.floor(Math.random()*B.length)]}this.effectData=dp(this.effect,m,this.id,h),this.shapeData=up(this.shape,g,this.id,h),c.load(i);let y=this.effectData;y&&c.load(y.particles);let _=this.shapeData;_&&c.load(_.particles);let x=new wi(n,r);x.load(r.actualOptions.interactivity),x.load(c.interactivity),this.interactivity=x,this.effectFill=y?.fill??c.effect.fill,this.effectClose=y?.close??c.effect.close,this.shapeFill=_?.fill??c.shape.fill,this.shapeClose=_?.close??c.shape.close,this.options=c;let w=this.options.move.path;this.pathDelay=v(w.delay.value)*1e3,w.generator&&(this.pathGenerator=this._engine.getPathGenerator(w.generator),this.pathGenerator&&r.addPath(w.generator,this.pathGenerator)&&this.pathGenerator.init(r)),r.retina.initParticle(this),this.size=eo(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=Gs-v(this.options.move.decay);let S=r.particles;S.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/r.zLayers,this.sides=24;let b=r.effectDrawers.get(this.effect);b||(b=this._engine.getEffectDrawer(this.effect),b&&r.effectDrawers.set(this.effect,b)),b?.loadEffect&&b.loadEffect(this);let z=r.shapeDrawers.get(this.shape);z||(z=this._engine.getShapeDrawer(this.shape),z&&r.shapeDrawers.set(this.shape,z)),z?.loadShape&&z.loadShape(this);let K=z?.getSidesCount;K&&(this.sides=K(this)),this.spawning=!1,this.shadowColor=Ie(this._engine,this.options.shadow.color);for(let B of S.updaters)B.init(this);for(let B of S.movers)B.init?.(this);b?.particleInit?.(r,this),z?.particleInit?.(r,this);for(let B of r.plugins.values())B.particleCreated?.(this)}isInsideCanvas(){let e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(let e of this.container.particles.updaters)e.reset?.(this)}};var Jo=class{constructor(e,t){this.position=e,this.particle=t}};var Pi=function(s){return s.circle="circle",s.rectangle="rectangle",s}(Pi||{});var er=class{constructor(e,t,i){this.position={x:e,y:t},this.type=i}},Z=class s extends er{constructor(e,t,i){super(e,t,Pi.circle),this.radius=i}contains(e){return q(e,this.position)<=this.radius}intersects(e){let t=this.position,i=e.position,o={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},r=this.radius;if(e instanceof s||e.type===Pi.circle){let n=e,a=r+n.radius,l=Math.sqrt(o.x**Be+o.y**Be);return a>l}else if(e instanceof xe||e.type===Pi.rectangle){let n=e,{width:a,height:l}=n.size;return Math.pow(o.x-a,Be)+Math.pow(o.y-l,Be)<=r**Be||o.x<=r+a&&o.y<=r+l||o.x<=a||o.y<=l}return!1}},xe=class s extends er{constructor(e,t,i,o){super(e,t,Pi.rectangle),this.size={height:o,width:i}}contains(e){let t=this.size.width,i=this.size.height,o=this.position;return e.x>=o.x&&e.x<=o.x+t&&e.y>=o.y&&e.y<=o.y+i}intersects(e){if(e instanceof Z)return e.intersects(this);let t=this.size.width,i=this.size.height,o=this.position,r=e.position,n=e instanceof s?e.size:{width:0,height:0},a=n.width,l=n.height;return r.x<o.x+t&&r.x+a>o.x&&r.y<o.y+i&&r.y+l>o.y}};var ds=class s{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{let{x:i,y:o}=this.rectangle.position,{width:r,height:n}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<Ic;l++){let c=l%oe;this._subs.push(new s(new xe(i+r*.5*c,o+n*.5*(Math.round(l*.5)-c),r*.5,n*.5),a))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t){let i=[];if(!e.intersects(this.rectangle))return[];for(let o of this._points)!e.contains(o.position)&&q(e.position,o.position)>o.particle.getRadius()&&(!t||t(o.particle))||i.push(o.particle);if(this._divided)for(let o of this._subs)i.push(...o.query(e,t));return i}queryCircle(e,t,i){return this.query(new Z(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new xe(e.x,e.y,t.width,t.height),i)}};var Oh=s=>{let{height:e,width:t}=s;return new xe(ka*t,ka*e,Da*t,Da*e)},tr=class{constructor(e,t){this._addToPool=(...o)=>{this._pool.push(...o)},this._applyDensity=(o,r,n)=>{let a=o.number;if(!o.number.density?.enable){n===void 0?this._limit=a.limit.value:a.limit&&this._groupLimits.set(n,a.limit.value);return}let l=this._initDensityFactor(a.density),c=a.value,h=a.limit.value>Ia?a.limit.value:c,d=Math.min(c,h)*l+r,u=Math.min(this.count,this.filter(m=>m.group===n).length);n===void 0?this._limit=a.limit.value*l:this._groupLimits.set(n,a.limit.value*l),u<d?this.push(Math.abs(d-u),void 0,o,n):u>d&&this.removeQuantity(u-d,n)},this._initDensityFactor=o=>{let r=this._container;if(!r.canvas.element||!o.enable)return Kc;let n=r.canvas.element,a=r.retina.pixelRatio;return n.width*n.height/(o.height*o.width*a**Be)},this._pushParticle=(o,r,n,a)=>{try{let l=this._pool.pop();l||(l=new Qo(this._engine,this._container)),l.init(this._nextId,o,r,n);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent(pe.particleAdded,{container:this._container,data:{particle:l}}),l):void 0}catch(l){Ye().warning(`${le} adding particle: ${l}`)}},this._removeParticle=(o,r,n)=>{let a=this._array[o];if(!a||a.group!==r)return!1;let l=this._zArray.indexOf(a);return this._array.splice(o,fi),this._zArray.splice(l,fi),a.destroy(n),this._engine.dispatchEvent(pe.particleRemoved,{container:this._container,data:{particle:a}}),this._addToPool(a),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new Ko(e,t),this._pluginsInitialized=!1;let i=t.canvas.size;this.quadTree=new ds(Oh(i),va),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){let e=this._container;e.actualOptions.manualParticles.forEach(i=>this.addParticle(i.position?to(i.position,e.canvas.size):void 0,i.options))}addParticle(e,t,i,o){let r=this._container.actualOptions.particles.number.limit.mode,n=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,a=this.count;if(n>Ia)switch(r){case Ri.delete:{let l=a+Uc-n;l>qc&&this.removeQuantity(l);break}case Ri.wait:if(a>=n)return;break}return this._pushParticle(e,t,i,o)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){let t=this._container,i=t.canvas;i.clear(),this.update(e);for(let o of t.plugins.values())i.drawPlugin(o,e);for(let o of this._zArray)o.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){return p(this,null,function*(){let e=this._container,t=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,yield this.initPlugins();let i=!1;for(let o of e.plugins.values())if(i=o.particlesInitialization?.()??i,i)break;if(this.addManualParticles(),!i){let o=t.particles,r=o.groups;for(let n in r){let a=r[n];for(let l=this.count,c=0;c<a.number?.value&&l<o.number.value;l++,c++)this.addParticle(void 0,a,n)}for(let n=this.count;n<o.number.value;n++)this.addParticle()}})}initPlugins(){return p(this,null,function*(){if(this._pluginsInitialized)return;let e=this._container;this.movers=yield this._engine.getMovers(e,!0),this.updaters=yield this._engine.getUpdaters(e,!0),yield this._interactionManager.init();for(let t of e.pathGenerators.values())t.init(e)})}push(e,t,i,o){for(let r=0;r<e;r++)this.addParticle(t?.position,i,o)}redraw(){return p(this,null,function*(){this.clear(),yield this.init(),this.draw({value:0,factor:0})})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=Dc,i,o){if(e<ss||e>this.count)return;let r=0;for(let n=e;r<t&&n<this.count;n++)this._removeParticle(n,i,o)&&(n--,r++)}removeQuantity(e,t){this.removeAt(ss,e,t)}setDensity(){let e=this._container.actualOptions,t=e.particles.groups;for(let i in t)this._applyDensity(t[i],Zc,i);this._applyDensity(e.particles,e.manualParticles.length)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){let t=this._container,i=new Set;this.quadTree=new ds(Oh(t.canvas.size),va);for(let r of t.pathGenerators.values())r.update();for(let r of t.plugins.values())r.update?.(e);let o=this._resizeFactor;for(let r of this._array){o&&!r.ignoresResizeRatio&&(r.position.x*=o.width,r.position.y*=o.height,r.initialPosition.x*=o.width,r.initialPosition.y*=o.height),r.ignoresResizeRatio=!1,this._interactionManager.reset(r);for(let n of this._container.plugins.values()){if(r.destroyed)break;n.particleUpdate?.(r,e)}for(let n of this.movers)n.isEnabled(r)&&n.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new Jo(r.getPosition(),r))}if(i.size){let r=n=>!i.has(n);this._array=this.filter(r),this._zArray=this._zArray.filter(r);for(let n of i)this._engine.dispatchEvent(pe.particleRemoved,{container:this._container,data:{particle:n}});this._addToPool(...i)}this._interactionManager.externalInteract(e);for(let r of this._array){for(let n of this.updaters)n.update(r,e);!r.destroyed&&!r.spawning&&this._interactionManager.particlesInteract(r,e)}if(delete this._resizeFactor,this._needsSort){let r=this._zArray;r.sort((n,a)=>a.position.z-n.position.z||n.id-a.id),this._lastZIndex=r[r.length-js].position.z,this._needsSort=!1}}};var ir=class{constructor(e){this.container=e,this.pixelRatio=xa,this.reduceFactor=wa}init(){let e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||ct()?xa:window.devicePixelRatio,this.reduceFactor=wa;let i=this.pixelRatio,o=e.canvas;if(o.element){let a=o.element;o.size.width=a.offsetWidth*i,o.size.height=a.offsetHeight*i}let r=t.particles,n=r.move;this.maxSpeed=v(n.gravity.maxSpeed)*i,this.sizeAnimationSpeed=v(r.size.animation.speed)*i}initParticle(e){let t=e.options,i=this.pixelRatio,o=t.move,r=o.distance,n=e.retina;n.moveDrift=v(o.drift)*i,n.moveSpeed=v(o.speed)*i,n.sizeAnimationSpeed=v(t.size.animation.speed)*i;let a=n.maxDistance;a.horizontal=r.horizontal!==void 0?r.horizontal*i:void 0,a.vertical=r.vertical!==void 0?r.vertical*i:void 0,n.maxSpeed=v(o.gravity.maxSpeed)*i}};function ee(s){return s&&!s.destroyed}function fp(s,e=$s,t=!1){return{value:s,factor:t?$s/e:$s*s/1e3}}function ki(s,e,...t){let i=new Zo(s,e);return Va(i,...t),i}var sr=class{constructor(e,t,i){this._intersectionManager=o=>{if(!(!ee(this)||!this.actualOptions.pauseOnOutsideViewport))for(let r of o)r.target===this.interactivity.element&&(r.isIntersecting?this.play():this.pause())},this._nextFrame=o=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&o<this._lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??=o;let r=fp(o-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(r.value),this._lastFrameTime=o,r.value>1e3){this.draw(!1);return}if(this.particles.draw(r),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(r){Ye().error(`${le} in animation loop`,r)}},this._engine=e,this.id=Symbol(t),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new ir(this),this.canvas=new no(this,this._engine),this.particles=new tr(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=ki(this._engine,this),this.actualOptions=ki(this._engine,this),this._eventListeners=new ao(this),this._intersectionObserver=ph(o=>this._intersectionManager(o)),this._engine.dispatchEvent(pe.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&ee(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!ee(this))return;let t=this.interactivity.element;if(!t)return;let i=(d,u,m)=>{if(!ee(this))return;let g=this.retina.pixelRatio,y={x:u.x*g,y:u.y*g},_=this.particles.quadTree.queryCircle(y,m*g);e(d,_)},o=d=>{if(!ee(this))return;let u=d,m={x:u.offsetX||u.clientX,y:u.offsetY||u.clientY};i(d,m,Fc)},r=()=>{ee(this)&&(c=!0,h=!1)},n=()=>{ee(this)&&(h=!0)},a=d=>{if(ee(this)){if(c&&!h){let u=d,m=u.touches[u.touches.length-Ra];if(!m&&(m=u.changedTouches[u.changedTouches.length-Ra],!m))return;let g=this.canvas.element,y=g?g.getBoundingClientRect():void 0,_={x:m.clientX-(y?y.left:ui),y:m.clientY-(y?y.top:ui)};i(d,_,Math.max(m.radiusX,m.radiusY))}c=!1,h=!1}},l=()=>{ee(this)&&(c=!1,h=!1)},c=!1,h=!1;this._clickHandlers.set("click",o),this._clickHandlers.set("touchstart",r),this._clickHandlers.set("touchmove",n),this._clickHandlers.set("touchend",a),this._clickHandlers.set("touchcancel",l);for(let[d,u]of this._clickHandlers)t.addEventListener(d,u)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!ee(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){if(ee(this)){for(let[e,t]of this._clickHandlers)this.interactivity.element?.removeEventListener(e,t);this._clickHandlers.clear()}}destroy(e=!0){if(ee(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(let t of this.effectDrawers.values())t.destroy?.(this);for(let t of this.shapeDrawers.values())t.destroy?.(this);for(let t of this.effectDrawers.keys())this.effectDrawers.delete(t);for(let t of this.shapeDrawers.keys())this.shapeDrawers.delete(t);if(this._engine.clearPlugins(this),this.destroyed=!0,e){let t=this._engine.items,i=t.findIndex(o=>o===this);i>=$c&&t.splice(i,Ws)}this._engine.dispatchEvent(pe.containerDestroyed,{container:this})}}draw(e){if(!ee(this))return;let t=e,i=o=>{t&&(this._lastFrameTime=void 0,t=!1),this._nextFrame(o)};this._drawAnimationFrame=lh(o=>i(o))}export(i){return p(this,arguments,function*(e,t={}){for(let o of this.plugins.values()){if(!o.export)continue;let r=yield o.export(e,t);if(r.supported)return r.blob}Ye().error(`${le} - Export plugin with type ${e} not found`)})}handleClickMode(e){if(ee(this)){this.particles.handleClickMode(e);for(let t of this.plugins.values())t.handleClickMode?.(e)}}init(){return p(this,null,function*(){if(!ee(this))return;let e=this._engine.getSupportedEffects();for(let c of e){let h=this._engine.getEffectDrawer(c);h&&this.effectDrawers.set(c,h)}let t=this._engine.getSupportedShapes();for(let c of t){let h=this._engine.getShapeDrawer(c);h&&this.shapeDrawers.set(c,h)}yield this.particles.initPlugins(),this._options=ki(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=ki(this._engine,this,this._options);let i=yield this._engine.getAvailablePlugins(this);for(let[c,h]of i)this.plugins.set(c,h);this.retina.init(),yield this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();let{zLayers:o,duration:r,delay:n,fpsLimit:a,smooth:l}=this.actualOptions;this.zLayers=o,this._duration=v(r)*1e3,this._delay=v(n)*1e3,this._lifeTime=0,this.fpsLimit=a>Bc?a:Ac,this._smooth=l;for(let c of this.effectDrawers.values())yield c.init?.(this);for(let c of this.shapeDrawers.values())yield c.init?.(this);for(let c of this.plugins.values())yield c.init?.();this._engine.dispatchEvent(pe.containerInit,{container:this}),yield this.particles.init(),this.particles.setDensity();for(let c of this.plugins.values())c.particlesSetup?.();this._engine.dispatchEvent(pe.particlesSetup,{container:this})})}loadTheme(e){return p(this,null,function*(){ee(this)&&(this._currentTheme=e,yield this.refresh())})}pause(){if(ee(this)&&(this._drawAnimationFrame!==void 0&&(ch(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(let e of this.plugins.values())e.pause?.();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(pe.containerPaused,{container:this})}}play(e){if(!ee(this))return;let t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(let i of this.plugins.values())i.play&&i.play();this._engine.dispatchEvent(pe.containerPlay,{container:this}),this.draw(t??!1)}refresh(){return p(this,null,function*(){if(ee(this))return this.stop(),this.start()})}reset(e){return p(this,null,function*(){if(ee(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=ki(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=ki(this._engine,this,this._options),this.refresh()})}start(){return p(this,null,function*(){!ee(this)||this.started||(yield this.init(),this.started=!0,yield new Promise(e=>{let t=()=>p(this,null,function*(){this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(let i of this.plugins.values())yield i.start?.();this._engine.dispatchEvent(pe.containerStarted,{container:this}),this.play(),e()});this._delayTimeout=setTimeout(()=>void t(),this._delay)}))})}stop(){if(!(!ee(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(let e of this.plugins.values())e.stop?.();for(let e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent(pe.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];let e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}};var or=class{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){this._listeners.get(e)?.forEach(o=>o(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){let i=this._listeners.get(e);if(!i)return;let o=i.length,r=i.indexOf(t);r<ss||(o===fi?this._listeners.delete(e):i.splice(r,fi))}};function Ha(s,e,t,i=!1){return p(this,null,function*(){let o=e.get(s);return(!o||i)&&(o=yield Promise.all([...t.values()].map(r=>r(s))),e.set(s,o)),o})}function pp(s){return p(this,null,function*(){let e=Re(s.url,s.index);if(!e)return s.fallback;let t=yield fetch(e);return t.ok?yield t.json():(Ye().error(`${le} ${t.status} while retrieving config file`),s.fallback)})}var mp=s=>{let e;if(s instanceof HTMLCanvasElement||s.tagName.toLowerCase()===As)e=s,e.dataset[pt]||(e.dataset[pt]=_a);else{let i=s.getElementsByTagName(As);i.length?(e=i[Nc],e.dataset[pt]=_a):(e=document.createElement(As),e.dataset[pt]=ga,s.appendChild(e))}let t="100%";return e.style.width||(e.style.width=t),e.style.height||(e.style.height=t),e},gp=(s,e)=>{let t=e??document.getElementById(s);return t||(t=document.createElement("div"),t.id=s,t.dataset[pt]=ga,document.body.append(t),t)},rr=class{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new or,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){let e={};for(let[t,i]of this._configs)e[t]=i;return e}get items(){return this._domArray}get version(){return"3.8.1"}addColorManager(e,t=!0){return p(this,null,function*(){this.colorManagers.set(e.key,e),yield this.refresh(t)})}addConfig(e){let t=e.key??e.name??"default";this._configs.set(t,e),this._eventDispatcher.dispatchEvent(pe.configAdded,{data:{name:t,config:e}})}addEasing(e,t,i=!0){return p(this,null,function*(){this.getEasing(e)||(this.easingFunctions.set(e,t),yield this.refresh(i))})}addEffect(e,t,i=!0){return p(this,null,function*(){ne(e,o=>{this.getEffectDrawer(o)||this.effectDrawers.set(o,t)}),yield this.refresh(i)})}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}addInteractor(e,t,i=!0){return p(this,null,function*(){this._initializers.interactors.set(e,t),yield this.refresh(i)})}addMover(e,t,i=!0){return p(this,null,function*(){this._initializers.movers.set(e,t),yield this.refresh(i)})}addParticleUpdater(e,t,i=!0){return p(this,null,function*(){this._initializers.updaters.set(e,t),yield this.refresh(i)})}addPathGenerator(e,t,i=!0){return p(this,null,function*(){this.getPathGenerator(e)||this.pathGenerators.set(e,t),yield this.refresh(i)})}addPlugin(e,t=!0){return p(this,null,function*(){this.getPlugin(e.id)||this.plugins.push(e),yield this.refresh(t)})}addPreset(e,t,i=!1,o=!0){return p(this,null,function*(){(i||!this.getPreset(e))&&this.presets.set(e,t),yield this.refresh(o)})}addShape(e,t=!0){return p(this,null,function*(){for(let i of e.validTypes)this.getShapeDrawer(i)||this.shapeDrawers.set(i,e);yield this.refresh(t)})}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this.items}domItem(e){return this.item(e)}getAvailablePlugins(e){return p(this,null,function*(){let t=new Map;for(let i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,yield i.getPlugin(e));return t})}getEasing(e){return this.easingFunctions.get(e)??(t=>t)}getEffectDrawer(e){return this.effectDrawers.get(e)}getInteractors(e,t=!1){return p(this,null,function*(){return Ha(e,this.interactors,this._initializers.interactors,t)})}getMovers(e,t=!1){return p(this,null,function*(){return Ha(e,this.movers,this._initializers.movers,t)})}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}getUpdaters(e,t=!1){return p(this,null,function*(){return Ha(e,this.updaters,this._initializers.updaters,t)})}init(){this._initialized||(this._initialized=!0)}item(e){let{items:t}=this,i=t[e];if(!i||i.destroyed){t.splice(e,Ws);return}return i}load(e){return p(this,null,function*(){let t=e.id??e.element?.id??`tsparticles${Math.floor(D()*Vc)}`,{index:i,url:o}=e,r=o?yield pp({fallback:e.options,url:o,index:i}):e.options,n=Re(r,i),{items:a}=this,l=a.findIndex(u=>u.id.description===t),c=new sr(this,t,n);if(l>=Hc){let u=this.item(l),m=u?Wc:Gt;u&&!u.destroyed&&u.destroy(!1),a.splice(l,m,c)}else a.push(c);let h=gp(t,e.element),d=mp(h);return c.canvas.loadCanvas(d),yield c.start(),c})}loadOptions(e,t){this.plugins.forEach(i=>i.loadOptions?.(e,t))}loadParticlesOptions(e,t,...i){let o=this.updaters.get(e);o&&o.forEach(r=>r.loadOptions?.(t,...i))}refresh(e=!0){return p(this,null,function*(){e&&(yield Promise.all(this.items.map(t=>t.refresh())))})}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}setOnClickHandler(e){let{items:t}=this;if(!t.length)throw new Error(`${le} can only set click handlers after calling tsParticles.load()`);t.forEach(i=>i.addClickHandler(e))}};function Th(){let s=new rr;return s.init(),s}var te=class{constructor(e){this.type=Ft.external,this.container=e}};var $t=class{constructor(e){this.type=Ft.particles,this.container=e}};var Ve=function(s){return s.clockwise="clockwise",s.counterClockwise="counter-clockwise",s.random="random",s}(Ve||{});var xt=function(s){return s.easeInBack="ease-in-back",s.easeInCirc="ease-in-circ",s.easeInCubic="ease-in-cubic",s.easeInLinear="ease-in-linear",s.easeInQuad="ease-in-quad",s.easeInQuart="ease-in-quart",s.easeInQuint="ease-in-quint",s.easeInExpo="ease-in-expo",s.easeInSine="ease-in-sine",s.easeOutBack="ease-out-back",s.easeOutCirc="ease-out-circ",s.easeOutCubic="ease-out-cubic",s.easeOutLinear="ease-out-linear",s.easeOutQuad="ease-out-quad",s.easeOutQuart="ease-out-quart",s.easeOutQuint="ease-out-quint",s.easeOutExpo="ease-out-expo",s.easeOutSine="ease-out-sine",s.easeInOutBack="ease-in-out-back",s.easeInOutCirc="ease-in-out-circ",s.easeInOutCubic="ease-in-out-cubic",s.easeInOutLinear="ease-in-out-linear",s.easeInOutQuad="ease-in-out-quad",s.easeInOutQuart="ease-in-out-quart",s.easeInOutQuint="ease-in-out-quint",s.easeInOutExpo="ease-in-out-expo",s.easeInOutSine="ease-in-out-sine",s}(xt||{});var us=Th();ct()||(window.tsParticles=us);var Wa=.5,_p=2,At=0,Je=1,Mh=60,zh=0,yp=.01,vp=Math.PI*_p;function Lh(s){let e=s.initialPosition,{dx:t,dy:i}=j(e,s.position),o=Math.abs(t),r=Math.abs(i),{maxDistance:n}=s.retina,a=n.horizontal,l=n.vertical;if(!a&&!l)return;let c=(a&&o>=a)??!1,h=(l&&r>=l)??!1;if((c||h)&&!s.misplaced)s.misplaced=!!a&&o>a||!!l&&r>l,a&&(s.velocity.x=s.velocity.y*Wa-s.velocity.x),l&&(s.velocity.y=s.velocity.x*Wa-s.velocity.y);else if((!a||o<a)&&(!l||r<l)&&s.misplaced)s.misplaced=!1;else if(s.misplaced){let d=s.position,u=s.velocity;a&&(d.x<e.x&&u.x<At||d.x>e.x&&u.x>At)&&(u.x*=-D()),l&&(d.y<e.y&&u.y<At||d.y>e.y&&u.y>At)&&(u.y*=-D())}}function Fh(s,e,t,i,o,r){xp(s,r);let n=s.gravity,a=n?.enable&&n.inverse?-Je:Je;o&&t&&(s.velocity.x+=o*r.factor/(Mh*t)),n?.enable&&t&&(s.velocity.y+=a*(n.acceleration*r.factor)/(Mh*t));let l=s.moveDecay;s.velocity.multTo(l);let c=s.velocity.mult(t);n?.enable&&i>At&&(!n.inverse&&c.y>=At&&c.y>=i||n.inverse&&c.y<=At&&c.y<=-i)&&(c.y=a*i,t&&(s.velocity.y=c.y/t));let h=s.options.zIndex,d=(Je-s.zIndexFactor)**h.velocityRate;c.multTo(d);let{position:u}=s;u.addTo(c),e.vibrate&&(u.x+=Math.sin(u.x*Math.cos(u.y)),u.y+=Math.cos(u.y*Math.sin(u.x)))}function $h(s,e){let t=s.container;if(!s.spin)return;let i=s.spin.direction===Ve.clockwise,o={x:i?Math.cos:Math.sin,y:i?Math.sin:Math.cos};s.position.x=s.spin.center.x+s.spin.radius*o.x(s.spin.angle),s.position.y=s.spin.center.y+s.spin.radius*o.y(s.spin.angle),s.spin.radius+=s.spin.acceleration;let r=Math.max(t.canvas.size.width,t.canvas.size.height),n=r*Wa;s.spin.radius>n?(s.spin.radius=n,s.spin.acceleration*=-Je):s.spin.radius<zh&&(s.spin.radius=zh,s.spin.acceleration*=-Je),s.spin.angle+=e*yp*(Je-s.spin.radius/r)}function xp(s,e){let t=s.options,i=t.move.path;if(!i.enable)return;if(s.lastPathTime<=s.pathDelay){s.lastPathTime+=e.value;return}let r=s.pathGenerator?.generate(s,e);r&&s.velocity.addTo(r),i.clamp&&(s.velocity.x=re(s.velocity.x,-Je,Je),s.velocity.y=re(s.velocity.y,-Je,Je)),s.lastPathTime-=s.pathDelay}function Ah(s){return s.slow.inRange?s.slow.factor:Je}function Bh(s){let e=s.container,t=s.options,i=t.move.spin;if(!i.enable)return;let o=i.position??{x:50,y:50},r=.01,n={x:o.x*r*e.canvas.size.width,y:o.y*r*e.canvas.size.height},a=s.getPosition(),l=q(a,n),c=v(i.acceleration);s.retina.spinAcceleration=c*e.retina.pixelRatio,s.spin={center:n,direction:s.velocity.x>=At?Ve.clockwise:Ve.counterClockwise,angle:D()*vp,radius:l,acceleration:s.retina.spinAcceleration}}var wp=2,bp=1,Cp=1,nr=class{init(e){let t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:v(i.acceleration),inverse:i.inverse},Bh(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){let i=e.options,o=i.move;if(!o.enable)return;let r=e.container,n=r.retina.pixelRatio;e.retina.moveSpeed??=v(o.speed)*n,e.retina.moveDrift??=v(e.options.move.drift)*n;let a=Ah(e),l=e.retina.moveSpeed*r.retina.reduceFactor,c=e.retina.moveDrift,h=De(i.size.value)*n,d=o.size?e.getRadius()/h:bp,u=t.factor||Cp,m=l*d*a*u/wp,g=e.retina.maxSpeed??r.retina.maxSpeed;o.spin.enable?$h(e,m):Fh(e,o,m,g,c,t),Lh(e)}};function Nh(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addMover("base",()=>Promise.resolve(new nr),e)})}var Sp=Math.PI*2,Rp=0,Vh={x:0,y:0};function Hh(s){let{context:e,particle:t,radius:i}=s;t.circleRange||(t.circleRange={min:Rp,max:Sp});let o=t.circleRange;e.arc(Vh.x,Vh.y,i,o.min,o.max,!1)}var Pp=12,kp=360,Wh=0,ar=class{constructor(){this.validTypes=["circle"]}draw(e){Hh(e)}getSidesCount(){return Pp}particleInit(e,t){let i=t.shapeData,o=i?.angle??{max:kp,min:Wh};t.circleRange=mt(o)?{min:Xe(o.min),max:Xe(o.max)}:{min:Wh,max:Xe(o)}}};function Gh(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addShape(new ar,e)})}var lr=class{constructor(e,t){this._container=e,this._engine=t}init(e){let t=_t(this._engine,e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=so(t,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){let{h:t,s:i,l:o}=e.options.color.animation,{color:r}=e;return!e.destroyed&&!e.spawning&&(r?.h.value!==void 0&&t.enable||r?.s.value!==void 0&&i.enable||r?.l.value!==void 0&&o.enable)}update(e,t){oo(e.color,t)}};function jh(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addParticleUpdater("color",t=>Promise.resolve(new lr(t,s)),e)})}var Di=function(s){return s[s.r=1]="r",s[s.g=2]="g",s[s.b=3]="b",s[s.a=4]="a",s}(Di||{}),Dp=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,Ip=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,cr=16,Ep=1,Op=255,hr=class{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!e?.startsWith(this.stringPrefix))return;let t=e.replace(Dp,(o,r,n,a,l)=>r+r+n+n+a+a+(l!==void 0?l+l:"")),i=Ip.exec(t);return i?{a:i[Di.a]!==void 0?parseInt(i[Di.a],cr)/Op:Ep,b:parseInt(i[Di.b],cr),g:parseInt(i[Di.g],cr),r:parseInt(i[Di.r],cr)}:void 0}};function Xh(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addColorManager(new hr,e)})}var fs=function(s){return s[s.h=1]="h",s[s.s=2]="s",s[s.l=3]="l",s[s.a=5]="a",s}(fs||{}),dr=class{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){let t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Xt(i)}handleRangeColor(e){let t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Xt({h:v(i.h),l:v(i.l),s:v(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;let t=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),o=4,r=1,n=10;return i?wh({a:i.length>o?Zs(i[fs.a]):r,h:parseInt(i[fs.h],n),l:parseInt(i[fs.l],n),s:parseInt(i[fs.s],n)}):void 0}};function Yh(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addColorManager(new dr,e)})}var ur=class{constructor(e){this.container=e}init(e){let t=e.options.opacity,i=1;e.opacity=eo(t,i);let o=t.animation;o.enable&&(e.opacity.velocity=v(o.speed)/100*this.container.retina.reduceFactor,o.sync||(e.opacity.velocity*=D()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){!this.isEnabled(e)||!e.opacity||xi(e,e.opacity,!0,e.options.opacity.animation.destroy,t)}};function Uh(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addParticleUpdater("opacity",t=>Promise.resolve(new ur(t)),e)})}var fr=0,Ii=0;function qh(s){if(s.outMode!==A.bounce&&s.outMode!==A.split||s.direction!==P.left&&s.direction!==P.right)return;s.bounds.right<Ii&&s.direction===P.left?s.particle.position.x=s.size+s.offset.x:s.bounds.left>s.canvasSize.width&&s.direction===P.right&&(s.particle.position.x=s.canvasSize.width-s.size-s.offset.x);let e=s.particle.velocity.x,t=!1;if(s.direction===P.right&&s.bounds.right>=s.canvasSize.width&&e>fr||s.direction===P.left&&s.bounds.left<=Ii&&e<fr){let o=v(s.particle.options.bounce.horizontal.value);s.particle.velocity.x*=-o,t=!0}if(!t)return;let i=s.offset.x+s.size;s.bounds.right>=s.canvasSize.width&&s.direction===P.right?s.particle.position.x=s.canvasSize.width-i:s.bounds.left<=Ii&&s.direction===P.left&&(s.particle.position.x=i),s.outMode===A.split&&s.particle.destroy()}function Zh(s){if(s.outMode!==A.bounce&&s.outMode!==A.split||s.direction!==P.bottom&&s.direction!==P.top)return;s.bounds.bottom<Ii&&s.direction===P.top?s.particle.position.y=s.size+s.offset.y:s.bounds.top>s.canvasSize.height&&s.direction===P.bottom&&(s.particle.position.y=s.canvasSize.height-s.size-s.offset.y);let e=s.particle.velocity.y,t=!1;if(s.direction===P.bottom&&s.bounds.bottom>=s.canvasSize.height&&e>fr||s.direction===P.top&&s.bounds.top<=Ii&&e<fr){let o=v(s.particle.options.bounce.vertical.value);s.particle.velocity.y*=-o,t=!0}if(!t)return;let i=s.offset.y+s.size;s.bounds.bottom>=s.canvasSize.height&&s.direction===P.bottom?s.particle.position.y=s.canvasSize.height-i:s.bounds.top<=Ii&&s.direction===P.top&&(s.particle.position.y=i),s.outMode===A.split&&s.particle.destroy()}var pr=class{constructor(e){this.container=e,this.modes=[A.bounce,A.split]}update(e,t,i,o){if(!this.modes.includes(o))return;let r=this.container,n=!1;for(let u of r.plugins.values())if(u.particleBounce!==void 0&&(n=u.particleBounce(e,i,t)),n)break;if(n)return;let a=e.getPosition(),l=e.offset,c=e.getRadius(),h=Ot(a,c),d=r.canvas.size;qh({particle:e,outMode:o,direction:t,bounds:h,canvasSize:d,offset:l,size:c}),Zh({particle:e,outMode:o,direction:t,bounds:h,canvasSize:d,offset:l,size:c})}};var mr=0,gr=class{constructor(e){this.container=e,this.modes=[A.destroy]}update(e,t,i,o){if(!this.modes.includes(o))return;let r=this.container;switch(e.outType){case Ne.normal:case Ne.outside:if(_i(e.position,r.canvas.size,H.origin,e.getRadius(),t))return;break;case Ne.inside:{let{dx:n,dy:a}=j(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<mr&&n>e.moveCenter.radius||c<mr&&a>e.moveCenter.radius||l>=mr&&n<-e.moveCenter.radius||c>=mr&&a<-e.moveCenter.radius)return;break}}r.particles.remove(e,e.group,!0)}};var _r=0,yr=class{constructor(e){this.container=e,this.modes=[A.none]}update(e,t,i,o){if(!this.modes.includes(o)||((e.options.move.distance.horizontal&&(t===P.left||t===P.right))??(e.options.move.distance.vertical&&(t===P.top||t===P.bottom))))return;let r=e.options.move.gravity,n=this.container,a=n.canvas.size,l=e.getRadius();if(r.enable){let c=e.position;(!r.inverse&&c.y>a.height+l&&t===P.bottom||r.inverse&&c.y<-l&&t===P.top)&&n.particles.remove(e)}else{if(e.velocity.y>_r&&e.position.y<=a.height+l||e.velocity.y<_r&&e.position.y>=-l||e.velocity.x>_r&&e.position.x<=a.width+l||e.velocity.x<_r&&e.position.x>=-l)return;_i(e.position,n.canvas.size,H.origin,l,t)||n.particles.remove(e)}}};var vr=0,xr=0,wr=class{constructor(e){this.container=e,this.modes=[A.out]}update(e,t,i,o){if(!this.modes.includes(o))return;let r=this.container;switch(e.outType){case Ne.inside:{let{x:n,y:a}=e.velocity,l=H.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(H.create(e.moveCenter));let{dx:c,dy:h}=j(e.position,l);if(n<=vr&&c>=xr||a<=vr&&h>=xr||n>=vr&&c<=xr||a>=vr&&h<=xr)return;e.position.x=Math.floor(fe({min:0,max:r.canvas.size.width})),e.position.y=Math.floor(fe({min:0,max:r.canvas.size.height}));let{dx:d,dy:u}=j(e.position,e.moveCenter);e.direction=Math.atan2(-u,-d),e.velocity.angle=e.direction;break}default:{if(_i(e.position,r.canvas.size,H.origin,e.getRadius(),t))return;switch(e.outType){case Ne.outside:{e.position.x=Math.floor(fe({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(fe({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;let{dx:n,dy:a}=j(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,n),e.velocity.angle=e.direction);break}case Ne.normal:{let n=e.options.move.warp,a=r.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),h=Ot(e.position,c);t===P.right&&h.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,n||(e.position.y=D()*a.height,e.initialPosition.y=e.position.y)):t===P.left&&h.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,n||(e.position.y=D()*a.height,e.initialPosition.y=e.position.y)),t===P.bottom&&h.top>a.height+e.offset.y?(n||(e.position.x=D()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):t===P.top&&h.bottom<-e.offset.y&&(n||(e.position.x=D()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}};var Tp=(s,e)=>s.default===e||s.bottom===e||s.left===e||s.right===e||s.top===e,br=class{constructor(e){this._addUpdaterIfMissing=(t,i,o)=>{let r=t.options.move.outModes;!this.updaters.has(i)&&Tp(r,i)&&this.updaters.set(i,o(this.container))},this._updateOutMode=(t,i,o,r)=>{for(let n of this.updaters.values())n.update(t,r,i,o)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,A.bounce,t=>new pr(t)),this._addUpdaterIfMissing(e,A.out,t=>new wr(t)),this._addUpdaterIfMissing(e,A.destroy,t=>new gr(t)),this._addUpdaterIfMissing(e,A.none,t=>new yr(t))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){let i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,P.bottom),this._updateOutMode(e,t,i.left??i.default,P.left),this._updateOutMode(e,t,i.right??i.default,P.right),this._updateOutMode(e,t,i.top??i.default,P.top)}};function Kh(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addParticleUpdater("outModes",t=>Promise.resolve(new br(t)),e)})}var ps=function(s){return s[s.r=1]="r",s[s.g=2]="g",s[s.b=3]="b",s[s.a=5]="a",s}(ps||{}),Cr=class{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){let t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){let t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:v(i.r),g:v(i.g),b:v(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;let t=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),o=10;return i?{a:i.length>4?Zs(i[ps.a]):1,b:parseInt(i[ps.b],o),g:parseInt(i[ps.g],o),r:parseInt(i[ps.r],o)}:void 0}};function Qh(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addColorManager(new Cr,e)})}var Kt=0,Sr=class{init(e){let t=e.container,i=e.options.size,o=i.animation;o.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/100*t.retina.reduceFactor,o.sync||(e.size.velocity*=D()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??Kt)<=Kt||(e.size.maxLoops??Kt)>Kt&&(e.size.loops??Kt)<(e.size.maxLoops??Kt))}reset(e){e.size.loops=Kt}update(e,t){this.isEnabled(e)&&xi(e,e.size,!0,e.options.size.animation.destroy,t)}};function Jh(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addParticleUpdater("size",()=>Promise.resolve(new Sr),e)})}function ed(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield Xh(s,!1),yield Yh(s,!1),yield Qh(s,!1),yield Nh(s,!1),yield Gh(s,!1),yield jh(s,!1),yield Uh(s,!1),yield Kh(s,!1),yield Jh(s,!1),yield s.refresh(e)})}function td(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addEasing(xt.easeInQuad,t=>t**2,!1),yield s.addEasing(xt.easeOutQuad,t=>1-(1-t)**2,!1),yield s.addEasing(xt.easeInOutQuad,t=>t<.5?2*t**2:1-(-2*t+2)**2/2,!1),yield s.refresh(e)})}function id(s,e){let{context:t,opacity:i}=s,o=.5,r=t.globalAlpha;if(!e)return;let n=e.width,a=n*o;t.globalAlpha=i,t.drawImage(e,-a,-a,n,n),t.globalAlpha=r}var Ga='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',sd=0,Rr=class{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(let[e,t]of this._emojiShapeDict)t instanceof ImageBitmap&&t?.close(),this._emojiShapeDict.delete(e)}draw(e){let t=e.particle.emojiDataKey;if(!t)return;let i=this._emojiShapeDict.get(t);i&&id(e,i)}init(e){return p(this,null,function*(){let t=e.actualOptions,{validTypes:i}=this;if(!i.find(n=>$(n,t.particles.shape.type)))return;let o=[za(Ga)],r=i.map(n=>t.particles.shape.options[n]).find(n=>!!n);r&&ne(r,n=>{n.font&&o.push(za(n.font))}),yield Promise.all(o)})}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,t){let o=t.shapeData;if(!o?.value)return;let r=Re(o.value,t.randomIndexData);if(!r)return;let n=typeof r=="string"?{font:o.font??Ga,padding:o.padding??sd,value:r}:I(I({font:Ga,padding:sd},o),r),a=n.font,l=n.value,c=`${l}_${a}`;if(this._emojiShapeDict.has(c)){t.emojiDataKey=c;return}let h=n.padding*2,d=De(t.size.value),u=d+h,m=u*2,g;if(typeof OffscreenCanvas<"u"){let y=new OffscreenCanvas(m,m),_=y.getContext("2d");if(!_)return;_.font=`400 ${d*2}px ${a}`,_.textBaseline="middle",_.textAlign="center",_.fillText(l,u,u),g=y.transferToImageBitmap()}else{let y=document.createElement("canvas");y.width=m,y.height=m;let _=y.getContext("2d");if(!_)return;_.font=`400 ${d*2}px ${a}`,_.textBaseline="middle",_.textAlign="center",_.fillText(l,u,u),g=y}this._emojiShapeDict.set(c,g),t.emojiDataKey=c}};function od(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addShape(new Rr,e)})}var Mp=1,zp=1,rd=0;function nd(s,e,t,i,o,r){let n=e.actualOptions.interactivity.modes.attract;if(!n)return;let a=e.particles.quadTree.query(o,r);for(let l of a){let{dx:c,dy:h,distance:d}=j(l.position,t),u=n.speed*n.factor,m=re(s.getEasing(n.easing)(zp-d/i)*u,Mp,n.maxSpeed),g=H.create(d?c/d*m:u,d?h/d*m:u);l.position.subFrom(g)}}function ad(s,e,t){e.attract||(e.attract={particles:[]});let{attract:i}=e;if(i.finish||(i.count||(i.count=0),i.count++,i.count===e.particles.count&&(i.finish=!0)),i.clicking){let o=e.interactivity.mouse.clickPosition,r=e.retina.attractModeDistance;if(!r||r<rd||!o)return;nd(s,e,o,r,new Z(o.x,o.y,r),n=>t(n))}else i.clicking===!1&&(i.particles=[])}function ld(s,e,t){let i=e.interactivity.mouse.position,o=e.retina.attractModeDistance;!o||o<rd||!i||nd(s,e,i,o,new Z(i.x,i.y,o),r=>t(r))}var Pr=class{constructor(){this.distance=200,this.duration=.4,this.easing=xt.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){f(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}};var ms="attract",kr=class extends te{constructor(e,t){super(t),this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{let o=this.container.actualOptions,r=o.interactivity.modes.attract;if(!(!r||i!==ms)){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(let n of t.attract.particles)this.isEnabled(n)&&n.velocity.setTo(n.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},r.duration*1e3)}}}clear(){}init(){let e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}interact(){let e=this.container,t=e.actualOptions,i=e.interactivity.status===Ae,o=t.interactivity.events,{enable:r,mode:n}=o.onHover,{enable:a,mode:l}=o.onClick;i&&r&&$(ms,n)?ld(this._engine,this.container,c=>this.isEnabled(c)):a&&$(ms,l)&&ad(this._engine,this.container,c=>this.isEnabled(c))}isEnabled(e){let t=this.container,i=t.actualOptions,o=t.interactivity.mouse,r=(e?.interactivity??i.interactivity).events;if((!o.position||!r.onHover.enable)&&(!o.clickPosition||!r.onClick.enable))return!1;let n=r.onHover.mode,a=r.onClick.mode;return $(ms,n)||$(ms,a)}loadModeOptions(e,...t){e.attract||(e.attract=new Pr);for(let i of t)e.attract.load(i?.attract)}reset(){}};function cd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalAttract",t=>Promise.resolve(new kr(s,t)),e)})}var Lp=2,Dr=.5,Fp=Math.PI*Dr,hd=2,dd=10,$p=0;function ud(s,e,t,i,o){let r=s.particles.quadTree.query(i,o);for(let n of r)i instanceof Z?Js(rs(n),{position:e,radius:t,mass:t**Lp*Fp,velocity:H.origin,factor:H.origin}):i instanceof xe&&gh(n,Ot(e,t))}function Ap(s,e,t,i){let o=document.querySelectorAll(e);o.length&&o.forEach(r=>{let n=r,a=s.retina.pixelRatio,l={x:(n.offsetLeft+n.offsetWidth*Dr)*a,y:(n.offsetTop+n.offsetHeight*Dr)*a},c=n.offsetWidth*Dr*a,h=dd*a,d=t.type===yt.circle?new Z(l.x,l.y,c+h):new xe(n.offsetLeft*a-h,n.offsetTop*a-h,n.offsetWidth*a+h*hd,n.offsetHeight*a+h*hd);i(l,c,d)})}function fd(s,e,t,i){vi(t,e,(o,r)=>Ap(s,o,r,(n,a,l)=>ud(s,n,a,l,i)))}function pd(s,e){let t=s.retina.pixelRatio,i=dd*t,o=s.interactivity.mouse.position,r=s.retina.bounceModeDistance;!r||r<$p||!o||ud(s,o,r,new Z(o.x,o.y,r+i),e)}var Ir=class{constructor(){this.distance=200}load(e){f(e)||e.distance!==void 0&&(this.distance=e.distance)}};var Er="bounce",Or=class extends te{constructor(e){super(e)}clear(){}init(){let e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){let e=this.container,t=e.actualOptions,i=t.interactivity.events,o=e.interactivity.status===Ae,r=i.onHover.enable,n=i.onHover.mode,a=i.onDiv;o&&r&&$(Er,n)?pd(this.container,l=>this.isEnabled(l)):fd(this.container,a,Er,l=>this.isEnabled(l))}isEnabled(e){let t=this.container,i=t.actualOptions,o=t.interactivity.mouse,r=(e?.interactivity??i.interactivity).events,n=r.onDiv;return!!o.position&&r.onHover.enable&&$(Er,r.onHover.mode)||yi(Er,n)}loadModeOptions(e,...t){e.bounce||(e.bounce=new Ir);for(let i of t)e.bounce.load(i?.bounce)}reset(){}};function md(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalBounce",t=>Promise.resolve(new Or(t)),e)})}var Ei=class{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!f(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){let t=ke(this.color)?void 0:this.color;this.color=ne(e.color,i=>V.create(t,i))}e.size!==void 0&&(this.size=e.size)}}};var Tr=class extends Ei{constructor(){super(),this.selectors=[]}load(e){super.load(e),!f(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}};var Mr=class extends Ei{load(e){super.load(e),!f(e)&&(this.divs=ne(e.divs,t=>{let i=new Tr;return i.load(t),i}))}};var ht=function(s){return s.color="color",s.opacity="opacity",s.size="size",s}(ht||{});function ja(s,e,t,i){if(e>=t){let o=s+(e-t)*i;return re(o,s,e)}else if(e<t){let o=s-(t-e)*i;return re(o,e,s)}}var Qt="bubble",Xa=0,Bp=0,Np=2,gd=1,_d=1,Vp=0,Hp=0,Ya=.5,Ua=1,zr=class extends te{constructor(e,t){super(e),this._clickBubble=()=>{let i=this.container,o=i.actualOptions,r=i.interactivity.mouse.clickPosition,n=o.interactivity.modes.bubble;if(!n||!r)return;i.bubble||(i.bubble={});let a=i.retina.bubbleModeDistance;if(!a||a<Xa)return;let l=i.particles.quadTree.queryCircle(r,a,h=>this.isEnabled(h)),{bubble:c}=i;for(let h of l){if(!c.clicking)continue;h.bubble.inRange=!c.durationEnd;let d=h.getPosition(),u=q(d,r),m=(new Date().getTime()-(i.interactivity.mouse.clickTime??Bp))/1e3;m>n.duration&&(c.durationEnd=!0),m>n.duration*Np&&(c.clicking=!1,c.durationEnd=!1);let g={bubbleObj:{optValue:i.retina.bubbleModeSize,value:h.bubble.radius},particlesObj:{optValue:De(h.options.size.value)*i.retina.pixelRatio,value:h.size.value},type:ht.size};this._process(h,u,m,g);let y={bubbleObj:{optValue:n.opacity,value:h.bubble.opacity},particlesObj:{optValue:De(h.options.opacity.value),value:h.opacity?.value??gd},type:ht.opacity};this._process(h,u,m,y),!c.durationEnd&&u<=a?this._hoverBubbleColor(h,u):delete h.bubble.color}},this._hoverBubble=()=>{let i=this.container,o=i.interactivity.mouse.position,r=i.retina.bubbleModeDistance;if(!r||r<Xa||!o)return;let n=i.particles.quadTree.queryCircle(o,r,a=>this.isEnabled(a));for(let a of n){a.bubble.inRange=!0;let l=a.getPosition(),c=q(l,o),h=_d-c/r;c<=r?h>=Hp&&i.interactivity.status===Ae&&(this._hoverBubbleSize(a,h),this._hoverBubbleOpacity(a,h),this._hoverBubbleColor(a,h)):this.reset(a),i.interactivity.status===Ki&&this.reset(a)}},this._hoverBubbleColor=(i,o,r)=>{let n=this.container.actualOptions,a=r??n.interactivity.modes.bubble;if(a){if(!i.bubble.finalColor){let l=a.color;if(!l)return;let c=Re(l);i.bubble.finalColor=_t(this._engine,c)}if(i.bubble.finalColor)if(a.mix){i.bubble.color=void 0;let l=i.getFillColor();i.bubble.color=l?Aa(ns(l,i.bubble.finalColor,_d-o,o)):i.bubble.finalColor}else i.bubble.color=i.bubble.finalColor}},this._hoverBubbleOpacity=(i,o,r)=>{let n=this.container,a=n.actualOptions,l=r?.opacity??a.interactivity.modes.bubble?.opacity;if(!l)return;let c=i.options.opacity.value,h=i.opacity?.value??gd,d=ja(h,l,De(c),o);d!==void 0&&(i.bubble.opacity=d)},this._hoverBubbleSize=(i,o,r)=>{let n=this.container,a=r?.size?r.size*n.retina.pixelRatio:n.retina.bubbleModeSize;if(a===void 0)return;let l=De(i.options.size.value)*n.retina.pixelRatio,c=i.size.value,h=ja(c,a,l,o);h!==void 0&&(i.bubble.radius=h)},this._process=(i,o,r,n)=>{let a=this.container,l=n.bubbleObj.optValue,c=a.actualOptions,h=c.interactivity.modes.bubble;if(!h||l===void 0)return;let d=h.duration,u=a.retina.bubbleModeDistance,m=n.particlesObj.optValue,g=n.bubbleObj.value,y=n.particlesObj.value??Vp,_=n.type;if(!(!u||u<Xa||l===m))if(a.bubble||(a.bubble={}),a.bubble.durationEnd)g&&(_===ht.size&&delete i.bubble.radius,_===ht.opacity&&delete i.bubble.opacity);else if(o<=u){if((g??y)!==l){let w=y-r*(y-l)/d;_===ht.size&&(i.bubble.radius=w),_===ht.opacity&&(i.bubble.opacity=w)}}else _===ht.size&&delete i.bubble.radius,_===ht.opacity&&delete i.bubble.opacity},this._singleSelectorHover=(i,o,r)=>{let n=this.container,a=document.querySelectorAll(o),l=n.actualOptions.interactivity.modes.bubble;!l||!a.length||a.forEach(c=>{let h=c,d=n.retina.pixelRatio,u={x:(h.offsetLeft+h.offsetWidth*Ya)*d,y:(h.offsetTop+h.offsetHeight*Ya)*d},m=h.offsetWidth*Ya*d,g=r.type===yt.circle?new Z(u.x,u.y,m):new xe(h.offsetLeft*d,h.offsetTop*d,h.offsetWidth*d,h.offsetHeight*d),y=n.particles.quadTree.query(g,_=>this.isEnabled(_));for(let _ of y){if(!g.contains(_.getPosition()))continue;_.bubble.inRange=!0;let x=l.divs,w=Qs(x,h);(!_.bubble.div||_.bubble.div!==h)&&(this.clear(_,i,!0),_.bubble.div=h),this._hoverBubbleSize(_,Ua,w),this._hoverBubbleOpacity(_,Ua,w),this._hoverBubbleColor(_,Ua,w)}})},this._engine=t,e.bubble||(e.bubble={}),this.handleClickMode=i=>{i===Qt&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){let e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){let t=this.container.actualOptions,i=t.interactivity.events,o=i.onHover,r=i.onClick,n=o.enable,a=o.mode,l=r.enable,c=r.mode,h=i.onDiv;n&&$(Qt,a)?this._hoverBubble():l&&$(Qt,c)?this._clickBubble():vi(Qt,h,(d,u)=>this._singleSelectorHover(e,d,u))}isEnabled(e){let t=this.container,i=t.actualOptions,o=t.interactivity.mouse,r=(e?.interactivity??i.interactivity).events,{onClick:n,onDiv:a,onHover:l}=r,c=yi(Qt,a);return c||l.enable&&o.position||n.enable&&o.clickPosition?$(Qt,l.mode)||$(Qt,n.mode)||c:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new Mr);for(let i of t)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}};function yd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalBubble",t=>Promise.resolve(new zr(t,s)),e)})}var Lr=class{constructor(){this.opacity=.5}load(e){f(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}};var Fr=class{constructor(){this.distance=80,this.links=new Lr,this.radius=60}load(e){f(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}};var vd=0,xd=1,Wp=0;function Gp(s,e,t,i){let o=Math.floor(t.getRadius()/e.getRadius()),r=e.getFillColor(),n=t.getFillColor();if(!r||!n)return;let a=e.getPosition(),l=t.getPosition(),c=ns(r,n,e.getRadius(),t.getRadius()),h=s.createLinearGradient(a.x,a.y,l.x,l.y);return h.addColorStop(vd,Tt(r,i)),h.addColorStop(re(o,vd,xd),Me(c,i)),h.addColorStop(xd,Tt(n,i)),h}function jp(s,e,t,i,o){Mt(s,i,o),s.lineWidth=e,s.strokeStyle=t,s.stroke()}function Xp(s,e,t,i){let o=s.actualOptions,r=o.interactivity.modes.connect;if(r)return Gp(e,t,i,r.links.opacity)}function wd(s,e,t){s.canvas.draw(i=>{let o=Xp(s,i,e,t);if(!o)return;let r=e.getPosition(),n=t.getPosition();jp(i,e.retina.linksWidth??Wp,o,r,n)})}var Yp="connect",bd=0,$r=class extends te{constructor(e){super(e)}clear(){}init(){let e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}interact(){let e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){let i=e.interactivity.mouse.position,{connectModeDistance:o,connectModeRadius:r}=e.retina;if(!o||o<bd||!r||r<bd||!i)return;let n=Math.abs(r),a=e.particles.quadTree.queryCircle(i,n,l=>this.isEnabled(l));a.forEach((l,c)=>{let h=l.getPosition(),d=1;for(let u of a.slice(c+d)){let m=u.getPosition(),g=Math.abs(o),y=Math.abs(h.x-m.x),_=Math.abs(h.y-m.y);y<g&&_<g&&wd(e,l,u)}})}}isEnabled(e){let t=this.container,i=t.interactivity.mouse,o=(e?.interactivity??t.actualOptions.interactivity).events;return o.onHover.enable&&i.position?$(Yp,o.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new Fr);for(let i of t)e.connect.load(i?.connect)}reset(){}};function Cd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalConnect",t=>Promise.resolve(new $r(t)),e)})}var Ar=class{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){f(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=V.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}};var Br=class{constructor(){this.distance=100,this.links=new Ar}load(e){f(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}};var Up=0;function qp(s,e,t,i,o,r){Mt(s,t,i),s.strokeStyle=Me(o,r),s.lineWidth=e,s.stroke()}function Sd(s,e,t,i,o){s.canvas.draw(r=>{let n=e.getPosition();qp(r,e.retina.linksWidth??Up,n,o,t,i)})}var Zp="grab",Kp=0,Qp=0,Nr=class extends te{constructor(e,t){super(e),this._engine=t}clear(){}init(){let e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}interact(){let e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==Ae)return;let o=e.interactivity.mouse.position;if(!o)return;let r=e.retina.grabModeDistance;if(!r||r<Kp)return;let n=e.particles.quadTree.queryCircle(o,r,a=>this.isEnabled(a));for(let a of n){let l=a.getPosition(),c=q(l,o);if(c>r)continue;let h=i.modes.grab.links,d=h.opacity,u=d-c*d/r;if(u<=Qp)continue;let m=h.color??a.options.links?.color;if(!e.particles.grabLineColor&&m){let y=i.modes.grab.links;e.particles.grabLineColor=io(this._engine,m,y.blink,y.consent)}let g=as(a,void 0,e.particles.grabLineColor);g&&Sd(e,a,g,u,o)}}isEnabled(e){let t=this.container,i=t.interactivity.mouse,o=(e?.interactivity??t.actualOptions.interactivity).events;return o.onHover.enable&&!!i.position&&$(Zp,o.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new Br);for(let i of t)e.grab.load(i?.grab)}reset(){}};function Rd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalGrab",t=>Promise.resolve(new Nr(t,s)),e)})}var Jp="pause",Vr=class extends te{constructor(e){super(e),this.handleClickMode=t=>{if(t!==Jp)return;let i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}};function Pd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalPause",t=>Promise.resolve(new Vr(t)),e)})}var Hr=class{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(f(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);let t=e.quantity;t!==void 0&&(this.quantity=R(t))}};var em="push",tm=0,Wr=class extends te{constructor(e){super(e),this.handleClickMode=t=>{if(t!==em)return;let i=this.container,o=i.actualOptions,r=o.interactivity.modes.push;if(!r)return;let n=v(r.quantity);if(n<=tm)return;let a=gi([void 0,...r.groups]),l=a!==void 0?i.actualOptions.particles.groups[a]:void 0;i.particles.push(n,i.interactivity.mouse,l,a)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new Hr);for(let i of t)e.push.load(i?.push)}reset(){}};function kd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalPush",t=>Promise.resolve(new Wr(t)),e)})}var Gr=class{constructor(){this.quantity=2}load(e){if(f(e))return;let t=e.quantity;t!==void 0&&(this.quantity=R(t))}};var im="remove",jr=class extends te{constructor(e){super(e),this.handleClickMode=t=>{let i=this.container,o=i.actualOptions;if(!o.interactivity.modes.remove||t!==im)return;let r=v(o.interactivity.modes.remove.quantity);i.particles.removeQuantity(r)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new Gr);for(let i of t)e.remove.load(i?.remove)}reset(){}};function Dd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalRemove",t=>Promise.resolve(new jr(t)),e)})}var Oi=class{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=xt.easeOutQuad}load(e){f(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}};var Xr=class extends Oi{constructor(){super(),this.selectors=[]}load(e){super.load(e),!f(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}};var Yr=class extends Oi{load(e){super.load(e),!f(e)&&(this.divs=ne(e.divs,t=>{let i=new Xr;return i.load(t),i}))}};var Jt="repulse",sm=0,om=6,rm=3,nm=2,am=0,lm=0,cm=1,qa=.5,Ur=class extends te{constructor(e,t){super(t),this._clickRepulse=()=>{let i=this.container,o=i.actualOptions.interactivity.modes.repulse;if(!o)return;let r=i.repulse??{particles:[]};if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){let n=i.retina.repulseModeDistance;if(!n||n<sm)return;let a=Math.pow(n/om,rm),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;let c=new Z(l.x,l.y,a),h=i.particles.quadTree.query(c,d=>this.isEnabled(d));for(let d of h){let{dx:u,dy:m,distance:g}=j(l,d.position),y=g**nm,_=o.speed,x=-a*_/y;if(y<=a){r.particles.push(d);let w=H.create(u,m);w.length=x,d.velocity.setTo(w)}}}else if(r.clicking===!1){for(let n of r.particles)n.velocity.setTo(n.initialVelocity);r.particles=[]}},this._hoverRepulse=()=>{let i=this.container,o=i.interactivity.mouse.position,r=i.retina.repulseModeDistance;!r||r<am||!o||this._processRepulse(o,r,new Z(o.x,o.y,r))},this._processRepulse=(i,o,r,n)=>{let a=this.container,l=a.particles.quadTree.query(r,_=>this.isEnabled(_)),c=a.actualOptions.interactivity.modes.repulse;if(!c)return;let{easing:h,speed:d,factor:u,maxSpeed:m}=c,g=this._engine.getEasing(h),y=(n?.speed??d)*u;for(let _ of l){let{dx:x,dy:w,distance:S}=j(_.position,i),b=re(g(cm-S/o)*y,lm,m),z=H.create(S?x/S*b:y,S?w/S*b:y);_.position.addTo(z)}},this._singleSelectorRepulse=(i,o)=>{let r=this.container,n=r.actualOptions.interactivity.modes.repulse;if(!n)return;let a=document.querySelectorAll(i);a.length&&a.forEach(l=>{let c=l,h=r.retina.pixelRatio,d={x:(c.offsetLeft+c.offsetWidth*qa)*h,y:(c.offsetTop+c.offsetHeight*qa)*h},u=c.offsetWidth*qa*h,m=o.type===yt.circle?new Z(d.x,d.y,u):new xe(c.offsetLeft*h,c.offsetTop*h,c.offsetWidth*h,c.offsetHeight*h),g=n.divs,y=Qs(g,c);this._processRepulse(d,u,m,y)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{let o=this.container.actualOptions,r=o.interactivity.modes.repulse;if(!r||i!==Jt)return;t.repulse||(t.repulse={particles:[]});let n=t.repulse;n.clicking=!0,n.count=0;for(let a of t.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);n.particles=[],n.finish=!1,setTimeout(()=>{t.destroyed||(n.clicking=!1)},r.duration*1e3)}}clear(){}init(){let e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}interact(){let e=this.container,t=e.actualOptions,i=e.interactivity.status===Ae,o=t.interactivity.events,r=o.onHover,n=r.enable,a=r.mode,l=o.onClick,c=l.enable,h=l.mode,d=o.onDiv;i&&n&&$(Jt,a)?this._hoverRepulse():c&&$(Jt,h)?this._clickRepulse():vi(Jt,d,(u,m)=>this._singleSelectorRepulse(u,m))}isEnabled(e){let t=this.container,i=t.actualOptions,o=t.interactivity.mouse,r=(e?.interactivity??i.interactivity).events,n=r.onDiv,a=r.onHover,l=r.onClick,c=yi(Jt,n);if(!(c||a.enable&&o.position||l.enable&&o.clickPosition))return!1;let h=a.mode,d=l.mode;return $(Jt,h)||$(Jt,d)||c}loadModeOptions(e,...t){e.repulse||(e.repulse=new Yr);for(let i of t)e.repulse.load(i?.repulse)}reset(){}};function Id(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalRepulse",t=>Promise.resolve(new Ur(s,t)),e)})}var qr=class{constructor(){this.factor=3,this.radius=200}load(e){f(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}};var hm="slow",dm=0,Zr=class extends te{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){let e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){let t=this.container,i=t.interactivity.mouse,o=(e?.interactivity??t.actualOptions.interactivity).events;return o.onHover.enable&&!!i.position&&$(hm,o.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new qr);for(let i of t)e.slow.load(i?.slow)}reset(e){e.slow.inRange=!1;let t=this.container,i=t.actualOptions,o=t.interactivity.mouse.position,r=t.retina.slowModeRadius,n=i.interactivity.modes.slow;if(!n||!r||r<dm||!o)return;let a=e.getPosition(),l=q(o,a),c=l/r,h=n.factor,{slow:d}=e;l>r||(d.inRange=!0,d.factor=c/h)}};function Ed(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("externalSlow",t=>Promise.resolve(new Zr(t)),e)})}var um=0,fm=1,pm=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function mm(s,e,t){let{svgData:i}=s;if(!i)return"";let o=Tt(e,t);if(i.includes("fill"))return i.replace(pm,()=>o);let r=i.indexOf(">");return`${i.substring(um,r)} fill="${o}"${i.substring(r)}`}function Ti(s){return p(this,null,function*(){return new Promise(e=>{s.loading=!0;let t=new Image;s.element=t,t.addEventListener("load",()=>{s.loading=!1,e()}),t.addEventListener("error",()=>{s.element=void 0,s.error=!0,s.loading=!1,Ye().error(`${le} loading image: ${s.source}`),e()}),t.src=s.source})})}function Od(s){return p(this,null,function*(){if(s.type!=="svg"){yield Ti(s);return}s.loading=!0;let e=yield fetch(s.source);e.ok?s.svgData=yield e.text():(Ye().error(`${le} Image not found`),s.error=!0),s.loading=!1})}function Td(s,e,t,i){let o=mm(s,t,i.opacity?.value??fm),r={color:t,gif:e.gif,data:be(I({},s),{svgData:o}),loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(n=>{let a=new Blob([o],{type:"image/svg+xml"}),l=URL||window.URL||window.webkitURL||window,c=l.createObjectURL(a),h=new Image;h.addEventListener("load",()=>{r.loaded=!0,r.element=h,n(r),l.revokeObjectURL(c)});let d=()=>p(null,null,function*(){l.revokeObjectURL(c);let u=be(I({},s),{error:!1,loading:!0});yield Ti(u),r.loaded=!0,r.element=u.element,n(r)});h.addEventListener("error",()=>void d()),h.src=c})}var Kr=[0,4,2,1],Za=[8,8,4,2];var Qr=class{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){let t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,o)=>i+String.fromCharCode(o),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0,i=0,o=0;do{t=this.data[this.pos++];for(let r=t;--r>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==o);return e}readSubBlocksBin(){let e=this.data[this.pos],t=0,i=0,o=1;for(let n=0;e!==i;n+=e+o,e=this.data[this.pos+n])t+=e;let r=new Uint8Array(t);e=this.data[this.pos++];for(let n=0;e!==i;e=this.data[this.pos++])for(let a=e;--a>=i;r[n++]=this.data[this.pos++]);return r}skipSubBlocks(){for(let e=1,t=0;this.data[this.pos]!==t;this.pos+=this.data[this.pos]+e);this.pos++}};var et=function(s){return s[s.Replace=0]="Replace",s[s.Combine=1]="Combine",s[s.RestoreBackground=2]="RestoreBackground",s[s.RestorePrevious=3]="RestorePrevious",s[s.UndefinedA=4]="UndefinedA",s[s.UndefinedB=5]="UndefinedB",s[s.UndefinedC=6]="UndefinedC",s[s.UndefinedD=7]="UndefinedD",s}(et||{});var wt=function(s){return s[s.Extension=33]="Extension",s[s.ApplicationExtension=255]="ApplicationExtension",s[s.GraphicsControlExtension=249]="GraphicsControlExtension",s[s.PlainTextExtension=1]="PlainTextExtension",s[s.CommentExtension=254]="CommentExtension",s[s.Image=44]="Image",s[s.EndOfFile=59]="EndOfFile",s}(wt||{});var ze={x:0,y:0},gm=0,Md=.5,_m=0,zd=0,Ka=0;function Ld(s,e){let t=[];for(let i=0;i<e;i++)t.push({r:s.data[s.pos],g:s.data[s.pos+1],b:s.data[s.pos+2]}),s.pos+=3;return t}function ym(s,e,t,i){switch(s.nextByte()){case wt.GraphicsControlExtension:{let o=e.frames[t(!1)];s.pos++;let r=s.nextByte();o.GCreserved=(r&224)>>>5,o.disposalMethod=(r&28)>>>2,o.userInputDelayFlag=(r&2)===2;let n=(r&1)===1;o.delayTime=s.nextTwoBytes()*10;let a=s.nextByte();n&&i(a),s.pos++;break}case wt.ApplicationExtension:{s.pos++;let o={identifier:s.getString(8),authenticationCode:s.getString(3),data:s.readSubBlocksBin()};e.applicationExtensions.push(o);break}case wt.CommentExtension:{e.comments.push([t(!1),s.readSubBlocks()]);break}case wt.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");s.pos++,e.frames[t(!1)].plainTextData={left:s.nextTwoBytes(),top:s.nextTwoBytes(),width:s.nextTwoBytes(),height:s.nextTwoBytes(),charSize:{width:s.nextTwoBytes(),height:s.nextTwoBytes()},foregroundColor:s.nextByte(),backgroundColor:s.nextByte(),text:s.readSubBlocks()};break}default:s.skipSubBlocks();break}}function vm(s,e,t,i,o,r){return p(this,null,function*(){let n=e.frames[i(!0)];n.left=s.nextTwoBytes(),n.top=s.nextTwoBytes(),n.width=s.nextTwoBytes(),n.height=s.nextTwoBytes();let a=s.nextByte(),l=(a&128)===128,c=(a&64)===64;n.sortFlag=(a&32)===32,n.reserved=(a&24)>>>3;let h=1<<(a&7)+1;l&&(n.localColorTable=Ld(s,h));let d=x=>{let{r:w,g:S,b}=(l?n.localColorTable:e.globalColorTable)[x];return x!==o(null)?{r:w,g:S,b,a:255}:{r:w,g:S,b,a:t?~~((w+S+b)/3):0}},u=(()=>{try{return new ImageData(n.width,n.height,{colorSpace:"srgb"})}catch(x){if(x instanceof DOMException&&x.name==="IndexSizeError")return null;throw x}})();if(u==null)throw new EvalError("GIF frame size is to large");let m=s.nextByte(),g=s.readSubBlocksBin(),y=1<<m,_=(x,w)=>{let S=x>>>3,b=x&7;return(g[S]+(g[S+1]<<8)+(g[S+2]<<16)&(1<<w)-1<<b)>>>b};if(c){for(let x=0,w=m+1,S=0,b=[[0]],z=0;z<4;z++){if(Kr[z]<n.height){let K=0,B=0,we=!1;for(;!we;){let ri=x;if(x=_(S,w),S+=w+1,x===y){w=m+1,b.length=y+2;for(let ut=0;ut<b.length;ut++)b[ut]=ut<y?[ut]:[]}else{x>=b.length?b.push(b[ri].concat(b[ri][0])):ri!==y&&b.push(b[ri].concat(b[x][0]));for(let ut of b[x]){let{r:Yn,g:Un,b:Rf,a:Pf}=d(ut);u.data.set([Yn,Un,Rf,Pf],Kr[z]*n.width+Za[z]*B+K%(n.width*4)),K+=4}b.length===1<<w&&w<12&&w++}K===n.width*4*(B+1)&&(B++,Kr[z]+Za[z]*B>=n.height&&(we=!0))}}r?.(s.pos/(s.data.length-1),i(!1)+1,u,{x:n.left,y:n.top},{width:e.width,height:e.height})}n.image=u,n.bitmap=yield createImageBitmap(u)}else{let x=0,w=m+1,S=0,b=-4,z=!1,K=[[0]];for(;!z;){let B=x;if(x=_(S,w),S+=w,x===y){w=m+1,K.length=y+2;for(let we=0;we<K.length;we++)K[we]=we<y?[we]:[]}else{if(x===y+1){z=!0;break}x>=K.length?K.push(K[B].concat(K[B][0])):B!==y&&K.push(K[B].concat(K[x][0]));for(let we of K[x]){let{r:ri,g:ut,b:Yn,a:Un}=d(we);u.data.set([ri,ut,Yn,Un],b+=4)}K.length>=1<<w&&w<12&&w++}}n.image=u,n.bitmap=yield createImageBitmap(u),r?.((s.pos+1)/s.data.length,i(!1)+1,n.image,{x:n.left,y:n.top},{width:e.width,height:e.height})}})}function xm(s,e,t,i,o,r){return p(this,null,function*(){switch(s.nextByte()){case wt.EndOfFile:return!0;case wt.Image:yield vm(s,e,t,i,o,r);break;case wt.Extension:ym(s,e,i,o);break;default:throw new EvalError("undefined block found")}return!1})}function wm(s){for(let e of s.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}function bm(s,e,t){return p(this,null,function*(){t||(t=!1);let i=yield fetch(s);if(!i.ok&&i.status===404)throw new EvalError("file not found");let o=yield i.arrayBuffer(),r={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},n=new Qr(new Uint8ClampedArray(o));if(n.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");r.width=n.nextTwoBytes(),r.height=n.nextTwoBytes();let a=n.nextByte(),l=(a&128)===128;r.colorRes=(a&112)>>>4,r.sortFlag=(a&8)===8;let c=1<<(a&7)+1,h=n.nextByte();r.pixelAspectRatio=n.nextByte(),r.pixelAspectRatio!==0&&(r.pixelAspectRatio=(r.pixelAspectRatio+15)/64),l&&(r.globalColorTable=Ld(n,c));let d=(()=>{try{return new ImageData(r.width,r.height,{colorSpace:"srgb"})}catch(b){if(b instanceof DOMException&&b.name==="IndexSizeError")return null;throw b}})();if(d==null)throw new Error("GIF frame size is to large");let{r:u,g:m,b:g}=r.globalColorTable[h];d.data.set(l?[u,m,g,255]:[0,0,0,0]);for(let b=4;b<d.data.length;b*=2)d.data.copyWithin(b,0,b);r.backgroundImage=d;let y=-1,_=!0,x=-1,w=b=>(b&&(_=!0),y),S=b=>(b!=null&&(x=b),x);try{do _&&(r.frames.push({left:0,top:0,width:0,height:0,disposalMethod:et.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),y++,x=-1,_=!1);while(!(yield xm(n,r,t,w,S,e)));r.frames.length--;for(let b of r.frames){if(b.userInputDelayFlag&&b.delayTime===0){r.totalTime=1/0;break}r.totalTime+=b.delayTime}return r}catch(b){throw b instanceof EvalError?new Error(`error while parsing frame ${y} "${b.message}"`):b}})}function Fd(s){let{context:e,radius:t,particle:i,delta:o}=s,r=i.image;if(!r?.gifData||!r.gif)return;let n=new OffscreenCanvas(r.gifData.width,r.gifData.height),a=n.getContext("2d");if(!a)throw new Error("could not create offscreen canvas context");a.imageSmoothingQuality="low",a.imageSmoothingEnabled=!1,a.clearRect(ze.x,ze.y,n.width,n.height),i.gifLoopCount===void 0&&(i.gifLoopCount=r.gifLoopCount??Ka);let l=i.gifFrame??gm,c={x:-r.gifData.width*Md,y:-r.gifData.height*Md},h=r.gifData.frames[l];if(i.gifTime===void 0&&(i.gifTime=_m),!!h.bitmap){switch(e.scale(t/r.gifData.width,t/r.gifData.height),h.disposalMethod){case et.UndefinedA:case et.UndefinedB:case et.UndefinedC:case et.UndefinedD:case et.Replace:a.drawImage(h.bitmap,h.left,h.top),e.drawImage(n,c.x,c.y),a.clearRect(ze.x,ze.y,n.width,n.height);break;case et.Combine:a.drawImage(h.bitmap,h.left,h.top),e.drawImage(n,c.x,c.y);break;case et.RestoreBackground:a.drawImage(h.bitmap,h.left,h.top),e.drawImage(n,c.x,c.y),a.clearRect(ze.x,ze.y,n.width,n.height),r.gifData.globalColorTable.length?a.putImageData(r.gifData.backgroundImage,c.x,c.y):a.putImageData(r.gifData.frames[zd].image,c.x+h.left,c.y+h.top);break;case et.RestorePrevious:{let d=a.getImageData(ze.x,ze.y,n.width,n.height);a.drawImage(h.bitmap,h.left,h.top),e.drawImage(n,c.x,c.y),a.clearRect(ze.x,ze.y,n.width,n.height),a.putImageData(d,ze.x,ze.y)}break}if(i.gifTime+=o.value,i.gifTime>h.delayTime){if(i.gifTime-=h.delayTime,++l>=r.gifData.frames.length){if(--i.gifLoopCount<=Ka)return;l=zd,a.clearRect(ze.x,ze.y,n.width,n.height)}i.gifFrame=l}e.scale(r.gifData.width/t,r.gifData.height/t)}}function $d(s){return p(this,null,function*(){if(s.type!=="gif"){yield Ti(s);return}s.loading=!0;try{s.gifData=yield bm(s.source),s.gifLoopCount=wm(s.gifData)??Ka,s.gifLoopCount||(s.gifLoopCount=1/0)}catch{s.error=!0}s.loading=!1})}var Cm=2,Sm=1,Rm=12,Pm=1,Jr=class{constructor(e){this.validTypes=["image","images"],this.loadImageShape=t=>p(this,null,function*(){if(!this._engine.loadImage)throw new Error(`${le} image shape not initialized`);yield this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??!1,src:t.src})}),this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){let{context:t,radius:i,particle:o,opacity:r}=e,n=o.image,a=n?.element;if(n){if(t.globalAlpha=r,n.gif&&n.gifData)Fd(e);else if(a){let l=n.ratio,c={x:-i,y:-i},h=i*Cm;t.drawImage(a,c.x,c.y,h,h/l)}t.globalAlpha=Sm}}getSidesCount(){return Rm}init(e){return p(this,null,function*(){let t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(let i of t.preload)yield this._engine.loadImage(i)})}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);let t=e.shapeData;if(!t)return;this._engine.images.find(o=>o.name===t.name||o.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);let i=this._engine.images,o=t.shapeData;if(!o)return;let r=t.getFillColor(),n=i.find(l=>l.name===o.name||l.source===o.src);if(!n)return;let a=o.replaceColor??n.replaceColor;if(n.loading){setTimeout(()=>{this.particleInit(e,t)});return}p(this,null,function*(){let l;n.svgData&&r?l=yield Td(n,o,r,t):l={color:r,data:n,element:n.element,gif:n.gif,gifData:n.gifData,gifLoopCount:n.gifLoopCount,loaded:!0,ratio:o.width&&o.height?o.width/o.height:n.ratio??Pm,replaceColor:a,source:o.src},l.ratio||(l.ratio=1);let c=o.fill??t.shapeFill,h=o.close??t.shapeClose,d={image:l,fill:c,close:h};t.image=d.image,t.shapeFill=d.fill,t.shapeClose=d.close})}};var en=class{constructor(){this.src="",this.gif=!1}load(e){f(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}};var tn=class{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return p(this,null,function*(){return yield Promise.resolve(),{}})}loadOptions(e,t){if(!t?.preload)return;e.preload||(e.preload=[]);let i=e.preload;for(let o of t.preload){let r=i.find(n=>n.name===o.name||n.src===o.src);if(r)r.load(o);else{let n=new en;n.load(o),i.push(n)}}}needsPlugin(){return!0}};var km=3;function Dm(s){s.loadImage||(s.loadImage=e=>p(null,null,function*(){if(!e.name&&!e.src)throw new Error(`${le} no image source provided`);if(s.images||(s.images=[]),!s.images.find(t=>t.name===e.name||t.source===e.src))try{let t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-km),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};s.images.push(t);let i;e.gif?i=$d:i=e.replaceColor?Od:Ti,yield i(t)}catch{throw new Error(`${le} ${e.name??e.src} not found`)}}))}function Ad(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),Dm(s);let t=new tn(s);yield s.addPlugin(t,e),yield s.addShape(new Jr(s),e)})}var sn=class extends Ee{constructor(){super(),this.sync=!1}load(e){f(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}};var on=class extends Ee{constructor(){super(),this.sync=!1}load(e){f(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}};var rn=class{constructor(){this.count=0,this.delay=new sn,this.duration=new on}load(e){f(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}};var Mi=0,Im=-1,Bd=0,Nd=0;function Vd(s,e,t){if(!s.life)return;let i=s.life,o=!1;if(s.spawning)if(i.delayTime+=e.value,i.delayTime>=s.life.delay)o=!0,s.spawning=!1,i.delayTime=Mi,i.time=Mi;else return;if(i.duration===Im||s.spawning||(o?i.time=Mi:i.time+=e.value,i.time<i.duration))return;if(i.time=Mi,s.life.count>Bd&&s.life.count--,s.life.count===Bd){s.destroy();return}let r=R(Nd,t.width),n=R(Nd,t.width);s.position.x=fe(r),s.position.y=fe(n),s.spawning=!0,i.delayTime=Mi,i.time=Mi,s.reset();let a=s.options.life;a&&(i.delay=v(a.delay.value)*1e3,i.duration=v(a.duration.value)*1e3)}var ei=0,Hd=1,Wd=-1,nn=class{constructor(e){this.container=e}init(e){let t=this.container,i=e.options,o=i.life;o&&(e.life={delay:t.retina.reduceFactor?v(o.delay.value)*(o.delay.sync?Hd:D())/t.retina.reduceFactor*1e3:ei,delayTime:ei,duration:t.retina.reduceFactor?v(o.duration.value)*(o.duration.sync?Hd:D())/t.retina.reduceFactor*1e3:ei,time:ei,count:o.count},e.life.duration<=ei&&(e.life.duration=Wd),e.life.count<=ei&&(e.life.count=Wd),e.life&&(e.spawning=e.life.delay>ei))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new rn);for(let i of t)e.life.load(i?.life)}update(e,t){!this.isEnabled(e)||!e.life||Vd(e,t,this.container.canvas.size)}};function Gd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addParticleUpdater("life",t=>p(null,null,function*(){return Promise.resolve(new nn(t))}),e)})}function jd(s){let{context:e,particle:t,radius:i}=s,o=t.shapeData,r=0;e.moveTo(-i,r),e.lineTo(i,r),e.lineCap=o?.cap??"butt"}var Em=1,an=class{constructor(){this.validTypes=["line"]}draw(e){jd(e)}getSidesCount(){return Em}};function Xd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addShape(new an,e)})}var Yd=.5,ln=class{init(){}isEnabled(e){return!ct()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){let t=e.container,i=t.actualOptions,o=i.interactivity.events.onHover.parallax;if(ct()||!o.enable)return;let r=o.force,n=t.interactivity.mouse.position;if(!n)return;let a=t.canvas.size,l={x:a.width*Yd,y:a.height*Yd},c=o.smooth,h=e.getRadius()/r,d={x:(n.x-l.x)*h,y:(n.y-l.y)*h},{offset:u}=e;u.x+=(d.x-u.x)/c,u.y+=(d.y-u.y)/c}};function Ud(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addMover("parallax",()=>Promise.resolve(new ln),e)})}var qd=1e3,Om=1,cn=class extends $t{constructor(e){super(e)}clear(){}init(){}interact(e){let t=this.container;e.attractDistance===void 0&&(e.attractDistance=v(e.options.move.attract.distance)*t.retina.pixelRatio);let i=e.attractDistance,o=e.getPosition(),r=t.particles.quadTree.queryCircle(o,i);for(let n of r){if(e===n||!n.options.move.attract.enable||n.destroyed||n.spawning)continue;let a=n.getPosition(),{dx:l,dy:c}=j(o,a),h=e.options.move.attract.rotate,d=l/(h.x*qd),u=c/(h.y*qd),m=n.size.value/e.size.value,g=Om/m;e.velocity.x-=d*m,e.velocity.y-=u*m,n.velocity.x+=d*g,n.velocity.y+=u*g}}isEnabled(e){return e.options.move.attract.enable}reset(){}};function Zd(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("particlesAttract",t=>Promise.resolve(new cn(t)),e)})}var Tm=.5,Mm=10,zm=0;function Kd(s,e,t,i,o,r){let n=re(s.options.collisions.absorb.speed*o.factor/Mm,zm,i);s.size.value+=n*Tm,t.size.value-=n,i<=r&&(t.size.value=0,t.destroy())}function Qd(s,e,t,i){let o=s.getRadius(),r=e.getRadius();o===void 0&&r!==void 0?s.destroy():o!==void 0&&r===void 0?e.destroy():o!==void 0&&r!==void 0&&(o>=r?Kd(s,o,e,r,t,i):Kd(e,r,s,o,t,i))}var Jd=s=>{s.collisionMaxSpeed===void 0&&(s.collisionMaxSpeed=v(s.options.collisions.maxSpeed)),s.velocity.length>s.collisionMaxSpeed&&(s.velocity.length=s.collisionMaxSpeed)};function hn(s,e){Js(rs(s),rs(e)),Jd(s),Jd(e)}function eu(s,e){!s.unbreakable&&!e.unbreakable&&hn(s,e),s.getRadius()===void 0&&e.getRadius()!==void 0?s.destroy():s.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():s.getRadius()!==void 0&&e.getRadius()!==void 0&&(s.getRadius()>=e.getRadius()?e:s).destroy()}function tu(s,e,t,i){switch(s.options.collisions.mode){case Zt.absorb:{Qd(s,e,t,i);break}case Zt.bounce:{hn(s,e);break}case Zt.destroy:{eu(s,e);break}}}var Lm=2,dn=class extends $t{constructor(e){super(e)}clear(){}init(){}interact(e,t){if(e.destroyed||e.spawning)return;let i=this.container,o=e.getPosition(),r=e.getRadius(),n=i.particles.quadTree.queryCircle(o,r*Lm);for(let a of n){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;let l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(o.z)-Math.round(l.z))>r+c)continue;let h=q(o,l),d=r+c;h>d||tu(e,a,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}};function iu(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addInteractor("particlesCollisions",t=>Promise.resolve(new dn(t)),e)})}var Qa=2,un=class extends Z{constructor(e,t,i,o){super(e,t,i),this.canvasSize=o,this.canvasSize=I({},o)}contains(e){let{width:t,height:i}=this.canvasSize,{x:o,y:r}=e;return super.contains(e)||super.contains({x:o-t,y:r})||super.contains({x:o-t,y:r-i})||super.contains({x:o,y:r-i})}intersects(e){if(super.intersects(e))return!0;let t=e,i=e,o={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){let r=new Z(o.x,o.y,i.radius*Qa);return super.intersects(r)}else if(t.size!==void 0){let r=new xe(o.x,o.y,t.size.width*Qa,t.size.height*Qa);return super.intersects(r)}return!1}};var fn=class{constructor(){this.blur=5,this.color=new V,this.color.value="#000",this.enable=!1}load(e){f(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=V.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}};var pn=class{constructor(){this.enable=!1,this.frequency=1}load(e){f(e)||(e.color!==void 0&&(this.color=V.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}};var mn=class{constructor(){this.blink=!1,this.color=new V,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new fn,this.triangles=new pn,this.width=1,this.warp=!1}load(e){f(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=V.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}};var su=2,Fm=1,gn={x:0,y:0},$m=0;function Am(s,e,t,i,o){let{dx:r,dy:n,distance:a}=j(s,e);if(!o||a<=t)return a;let l={x:Math.abs(r),y:Math.abs(n)},c={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(c.x**su+c.y**su)}var _n=class extends $t{constructor(e,t){super(e),this._setColor=i=>{if(!i.options.links)return;let o=this._linkContainer,r=i.options.links,n=r.id===void 0?o.particles.linksColor:o.particles.linksColors.get(r.id);if(n)return;let a=r.color;n=io(this._engine,a,r.blink,r.consent),r.id===void 0?o.particles.linksColor=n:o.particles.linksColors.set(r.id,n)},this._linkContainer=e,this._engine=t}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];let t=e.getPosition(),i=this.container,o=i.canvas.size;if(t.x<gn.x||t.y<gn.y||t.x>o.width||t.y>o.height)return;let r=e.options.links,n=r.opacity,a=e.retina.linksDistance??$m,l=r.warp,c;l?c=new un(t.x,t.y,a,o):c=new Z(t.x,t.y,a);let h=i.particles.quadTree.query(c);for(let d of h){let u=d.options.links;if(e===d||!u?.enable||r.id!==u.id||d.spawning||d.destroyed||!d.links||e.links.some(_=>_.destination===d)||d.links.some(_=>_.destination===e))continue;let m=d.getPosition();if(m.x<gn.x||m.y<gn.y||m.x>o.width||m.y>o.height)continue;let g=Am(t,m,a,o,l&&u.warp);if(g>a)continue;let y=(Fm-g/a)*n;this._setColor(e),e.links.push({destination:d,opacity:y})}}isEnabled(e){return!!e.options.links?.enable}loadParticlesOptions(e,...t){e.links||(e.links=new mn);for(let i of t)e.links.load(i?.links)}reset(){}};function ou(s,e=!0){return p(this,null,function*(){yield s.addInteractor("particlesLinks",t=>p(null,null,function*(){return Promise.resolve(new _n(t,s))}),e)})}function Bm(s,e,t,i){s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.lineTo(i.x,i.y),s.closePath()}function ru(s){let e=!1,{begin:t,end:i,engine:o,maxDistance:r,context:n,canvasSize:a,width:l,backgroundMask:c,colorLine:h,opacity:d,links:u}=s;if(q(t,i)<=r)Mt(n,t,i),e=!0;else if(u.warp){let g,y,_={x:i.x-a.width,y:i.y},x=j(t,_);if(x.distance<=r){let w=t.y-x.dy/x.dx*t.x;g={x:0,y:w},y={x:a.width,y:w}}else{let w={x:i.x,y:i.y-a.height},S=j(t,w);if(S.distance<=r){let z=-(t.y-S.dy/S.dx*t.x)/(S.dy/S.dx);g={x:z,y:0},y={x:z,y:a.height}}else{let b={x:i.x-a.width,y:i.y-a.height},z=j(t,b);if(z.distance<=r){let K=t.y-z.dy/z.dx*t.x;g={x:-K/(z.dy/z.dx),y:K},y={x:g.x+a.width,y:g.y+a.height}}}}g&&y&&(Mt(n,t,g),Mt(n,i,y),e=!0)}if(!e)return;n.lineWidth=l,c.enable&&(n.globalCompositeOperation=c.composite),n.strokeStyle=Me(h,d);let{shadow:m}=u;if(m.enable){let g=Ie(o,m.color);g&&(n.shadowBlur=m.blur,n.shadowColor=Me(g))}n.stroke()}function nu(s){let{context:e,pos1:t,pos2:i,pos3:o,backgroundMask:r,colorTriangle:n,opacityTriangle:a}=s;Bm(e,t,i,o),r.enable&&(e.globalCompositeOperation=r.composite),e.fillStyle=Me(n,a),e.fill()}function Nm(s){return s.sort((e,t)=>e-t),s.join("_")}function Ja(s,e){let t=Nm(s.map(o=>o.id)),i=e.get(t);return i===void 0&&(i=D(),e.set(t,i)),i}var au=0,el=0,lu=0,Vm=.5,Hm=1,yn=class{constructor(e,t){this._drawLinkLine=(i,o)=>{let r=i.options.links;if(!r?.enable)return;let n=this._container,a=n.actualOptions,l=o.destination,c=i.getPosition(),h=l.getPosition(),d=o.opacity;n.canvas.draw(u=>{let m,g=i.options.twinkle?.lines;if(g?.enable){let w=g.frequency,S=Ie(this._engine,g.color);D()<w&&S&&(m=S,d=v(g.opacity))}if(!m){let w=r.id!==void 0?n.particles.linksColors.get(r.id):n.particles.linksColor;m=as(i,l,w)}if(!m)return;let y=i.retina.linksWidth??el,_=i.retina.linksDistance??lu,{backgroundMask:x}=a;ru({context:u,width:y,begin:c,end:h,engine:this._engine,maxDistance:_,canvasSize:n.canvas.size,links:r,backgroundMask:x,colorLine:m,opacity:d})})},this._drawLinkTriangle=(i,o,r)=>{let n=i.options.links;if(!n?.enable)return;let a=n.triangles;if(!a.enable)return;let l=this._container,c=l.actualOptions,h=o.destination,d=r.destination,u=a.opacity??(o.opacity+r.opacity)*Vm;u<=au||l.canvas.draw(m=>{let g=i.getPosition(),y=h.getPosition(),_=d.getPosition(),x=i.retina.linksDistance??lu;if(q(g,y)>x||q(_,y)>x||q(_,g)>x)return;let w=Ie(this._engine,a.color);if(!w){let S=n.id!==void 0?l.particles.linksColors.get(n.id):l.particles.linksColor;w=as(i,h,S)}w&&nu({context:m,pos1:g,pos2:y,pos3:_,backgroundMask:c.backgroundMask,colorTriangle:w,opacityTriangle:u})})},this._drawTriangles=(i,o,r,n)=>{let a=r.destination;if(!(i.links?.triangles.enable&&a.options.links?.triangles.enable))return;let l=a.links?.filter(c=>{let h=this._getLinkFrequency(a,c.destination);return a.options.links&&h<=a.options.links.frequency&&n.findIndex(u=>u.destination===c.destination)>=0});if(l?.length)for(let c of l){let h=c.destination;this._getTriangleFrequency(o,a,h)>i.links.triangles.frequency||this._drawLinkTriangle(o,r,c)}},this._getLinkFrequency=(i,o)=>Ja([i,o],this._freqs.links),this._getTriangleFrequency=(i,o,r)=>Ja([i,o,r],this._freqs.triangles),this._container=e,this._engine=t,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){let{links:i,options:o}=t;if(!i?.length)return;let r=i.filter(n=>o.links&&(o.links.frequency>=Hm||this._getLinkFrequency(t,n.destination)<=o.links.frequency));for(let n of r)this._drawTriangles(o,t,n,r),n.opacity>au&&(t.retina.linksWidth??el)>el&&this._drawLinkLine(t,n)}init(){return p(this,null,function*(){this._freqs.links=new Map,this._freqs.triangles=new Map,yield Promise.resolve()})}particleCreated(e){if(e.links=[],!e.options.links)return;let t=this._container.retina.pixelRatio,{retina:i}=e,{distance:o,width:r}=e.options.links;i.linksDistance=o*t,i.linksWidth=r*t}particleDestroyed(e){e.links=[]}};var vn=class{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new yn(e,this._engine))}loadOptions(){}needsPlugin(){return!0}};function cu(s,e=!0){return p(this,null,function*(){let t=new vn(s);yield s.addPlugin(t,e)})}function hu(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield ou(s,e),yield cu(s,e)})}var Wm=180,xn={x:0,y:0},Gm=2;function du(s,e,t){let{context:i}=s,o=t.count.numerator*t.count.denominator,r=t.count.numerator/t.count.denominator,n=Wm*(r-Gm)/r,a=Math.PI-Xe(n);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(xn.x,xn.y);for(let l=0;l<o;l++)i.lineTo(t.length,xn.y),i.translate(t.length,xn.y),i.rotate(a)}}var jm=5,zi=class{draw(e){let{particle:t,radius:i}=e,o=this.getCenter(t,i),r=this.getSidesData(t,i);du(e,o,r)}getSidesCount(e){let t=e.shapeData;return Math.round(v(t?.sides??jm))}};var uu=3.5,fu=2.66,Xm=3,wn=class extends zi{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,t){return{x:-t/(e.sides/uu),y:-t/(fu/uu)}}getSidesData(e,t){let i=e.sides;return{count:{denominator:1,numerator:i},length:t*fu/(i/Xm)}}};var Ym=1.66,Um=3,qm=2,bn=class extends zi{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,t){return{x:-t,y:t/Ym}}getSidesCount(){return Um}getSidesData(e,t){let i=t*qm;return{count:{denominator:2,numerator:3},length:i}}};function Zm(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addShape(new wn,e)})}function Km(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addShape(new bn,e)})}function pu(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield Zm(s,e),yield Km(s,e)})}var Cn=class{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){f(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=R(e.speed)),e.decay!==void 0&&(this.decay=R(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}};var Sn=class extends Ee{constructor(){super(),this.animation=new Cn,this.direction=Ve.clockwise,this.path=!1,this.value=0}load(e){f(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}};var mu=2,Qm=Math.PI*mu,Jm=1,eg=360,Rn=class{constructor(e){this.container=e}init(e){let t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:Xe(v(t.value)),min:0,max:Qm},e.pathRotation=t.path;let i=t.direction;switch(i===Ve.random&&(i=Math.floor(D()*mu)>0?Ve.counterClockwise:Ve.clockwise),i){case Ve.counterClockwise:case"counterClockwise":e.rotate.status=J.decreasing;break;case Ve.clockwise:e.rotate.status=J.increasing;break}let o=t.animation;o.enable&&(e.rotate.decay=Jm-v(o.decay),e.rotate.velocity=v(o.speed)/eg*this.container.retina.reduceFactor,o.sync||(e.rotate.velocity*=D())),e.rotation=e.rotate.value}isEnabled(e){let t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&(!!t.value||t.animation.enable||t.path):!1}loadOptions(e,...t){e.rotate||(e.rotate=new Sn);for(let i of t)e.rotate.load(i?.rotate)}update(e,t){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(xi(e,e.rotate,!1,lt.none,t),e.rotation=e.rotate.value))}};function gu(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addParticleUpdater("rotate",t=>Promise.resolve(new Rn(t)),e)})}var tg=Math.sqrt(2),ig=2;function _u(s){let{context:e,radius:t}=s,i=t/tg,o=i*ig;e.rect(-i,-i,o,o)}var sg=4,Pn=class{constructor(){this.validTypes=["edge","square"]}draw(e){_u(e)}getSidesCount(){return sg}};function yu(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addShape(new Pn,e)})}var Li={x:0,y:0};function vu(s){let{context:e,particle:t,radius:i}=s,o=t.sides,r=t.starInset??2;e.moveTo(Li.x,Li.y-i);for(let n=0;n<o;n++)e.rotate(Math.PI/o),e.lineTo(Li.x,Li.y-i*r),e.rotate(Math.PI/o),e.lineTo(Li.x,Li.y-i)}var og=2,rg=5,kn=class{constructor(){this.validTypes=["star"]}draw(e){vu(e)}getSidesCount(e){let t=e.shapeData;return Math.round(v(t?.sides??rg))}particleInit(e,t){let i=t.shapeData;t.starInset=v(i?.inset??og)}};function xu(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addShape(new kn,e)})}var ng=1,Dn=class{constructor(e,t){this._container=e,this._engine=t}init(e){let t=this._container,i=e.options,o=Re(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=v(o.width)*t.retina.pixelRatio,e.strokeOpacity=v(o.opacity??ng),e.strokeAnimation=o.color?.animation;let r=_t(this._engine,o.color)??e.getFillColor();r&&(e.strokeColor=so(r,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){let t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&(i?.h.value!==void 0&&i.h.enable||i?.s.value!==void 0&&i.s.enable||i?.l.value!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&oo(e.strokeColor,t)}};function wu(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield s.addParticleUpdater("strokeColor",t=>Promise.resolve(new Dn(t,s)),e)})}function bu(s,e=!0){return p(this,null,function*(){s.checkVersion("3.8.1"),yield Ud(s,!1),yield cd(s,!1),yield md(s,!1),yield yd(s,!1),yield Cd(s,!1),yield Rd(s,!1),yield Pd(s,!1),yield kd(s,!1),yield Dd(s,!1),yield Id(s,!1),yield Ed(s,!1),yield Zd(s,!1),yield iu(s,!1),yield hu(s,!1),yield td(s,!1),yield od(s,!1),yield Ad(s,!1),yield Xd(s,!1),yield pu(s,!1),yield yu(s,!1),yield xu(s,!1),yield Gd(s,!1),yield gu(s,!1),yield wu(s,!1),yield ed(s,e)})}var In=(()=>{class s{initialized=new Ss(!1);getInstallationStatus(){return this.initialized.asObservable()}init(t){return p(this,null,function*(){yield t(us),this.initialized.next(!0)})}static \u0275fac=function(i){return new(i||s)};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Cu=(()=>{class s{platformId;particlesService;options;url;id;particlesInit;particlesLoaded=new G;subscription;destroy$=new k;container;constructor(t,i){this.platformId=t,this.particlesService=i,this.id="tsparticles"}ngOnInit(){this.subscription=this.particlesService.getInstallationStatus().subscribe(()=>{this.container?.destroy(),this.loadParticles()})}ngAfterViewInit(){Kl(this.platformId)||this.loadParticles()}ngOnDestroy(){this.container?.destroy(),this.subscription?.unsubscribe(),this.destroy$.next()}loadParticles(){let t=i=>{this.container=i,this.particlesLoaded.emit(i)};Rl(this.particlesInit?this.particlesInit(us):Promise.resolve()).pipe(Dl(()=>us.load({id:this.id,url:this.url,options:this.options})),it(this.destroy$)).subscribe(t)}static \u0275fac=function(i){return new(i||s)(ie(Ps),ie(In))};static \u0275cmp=se({type:s,selectors:[["ngx-particles"]],inputs:{options:"options",url:"url",id:"id",particlesInit:"particlesInit"},outputs:{particlesLoaded:"particlesLoaded"},standalone:!1,decls:1,vars:1,consts:[[3,"id"]],template:function(i,o){i&1&&ce(0,"div",0),i&2&&de("id",o.id)},encapsulation:2})}return s})(),Su=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ci({type:s});static \u0275inj=ni({providers:[In]})}return s})();var Ru=(()=>{class s{particlesService;id="tsparticles";particlesOptions=pc;constructor(t){this.particlesService=t}ngOnInit(){this.particlesService.init(t=>p(this,null,function*(){console.log(t),yield bu(t)}))}particlesLoaded(t){console.log(t)}static \u0275fac=function(i){return new(i||s)(ie(In))};static \u0275cmp=se({type:s,selectors:[["particles"]],decls:1,vars:2,consts:[[3,"particlesLoaded","id","options"]],template:function(i,o){i&1&&(T(0,"ngx-particles",0),_e("particlesLoaded",function(n){return o.particlesLoaded(n)}),M()),i&2&&de("id",o.id)("options",o.particlesOptions)},dependencies:[Su,Cu],encapsulation:2,changeDetection:0})}return s})();var tl;try{tl=typeof Intl<"u"&&Intl.v8BreakIterator}catch{tl=!1}var ti=(()=>{class s{_platformId=C(Ps);isBrowser=this._platformId?Zl(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||tl)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||s)};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var il;function lg(){if(il==null){let s=typeof document<"u"?document.head:null;il=!!(s&&(s.createShadowRoot||s.attachShadow))}return il}function En(s){if(lg()){let e=s.getRootNode?s.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Bt(s){return s.composedPath?s.composedPath()[0]:s.target}function sl(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var On=new WeakMap,gs=(()=>{class s{_appRef;_injector=C(Ke);_environmentInjector=C(li);load(t){let i=this._appRef=this._appRef||this._injector.get(ks),o=On.get(i);o||(o={loaders:new Set,refs:[]},On.set(i,o),i.onDestroy(()=>{On.get(i)?.refs.forEach(r=>r.destroy()),On.delete(i)})),o.loaders.has(t)||(o.loaders.add(t),o.refs.push(zs(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||s)};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function ae(s){return s==null?"":typeof s=="string"?s:`${s}px`}function ol(s){return Array.isArray(s)?s:[s]}function rl(s,e=0){return cg(s)?Number(s):arguments.length===2?e:0}function cg(s){return!isNaN(parseFloat(s))&&!isNaN(Number(s))}function dt(s){return s instanceof Pe?s.nativeElement:s}var hg=new Ze("cdk-dir-doc",{providedIn:"root",factory:dg});function dg(){return C(Te)}var ug=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function fg(s){let e=s?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?ug.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Tn=(()=>{class s{get value(){return this.valueSignal()}valueSignal=He("ltr");change=new G;constructor(){let t=C(hg,{optional:!0});if(t){let i=t.body?t.body.dir:null,o=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(fg(i||o||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||s)};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var ii;function Pu(){if(ii==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ii=!1,ii;if("scrollBehavior"in document.documentElement.style)ii=!0;else{let s=Element.prototype.scrollTo;s?ii=!/\{\s*\[native code\]\s*\}/.test(s.toString()):ii=!1}}return ii}var pg=20,Mn=(()=>{class s{_ngZone=C(Ce);_platform=C(ti);_renderer=C(st).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new k;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=pg){return this._platform.isBrowser?new $i(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let o=t>0?this._scrolled.pipe(Kn(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Pl()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let o=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Rs(r=>!r||o.indexOf(r)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((o,r)=>{this._scrollableContainsElement(r,t)&&i.push(r)}),i}_scrollableContainsElement(t,i){let o=dt(i),r=t.getElementRef().nativeElement;do if(o==r)return!0;while(o=o.parentElement);return!1}static \u0275fac=function(i){return new(i||s)};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var mg=20,si=(()=>{class s{_platform=C(ti);_listeners;_viewportSize;_change=new k;_document=C(Te,{optional:!0});constructor(){let t=C(Ce),i=C(st).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let o=r=>this._change.next(r);this._listeners=[i.listen("window","resize",o),i.listen("window","orientationchange",o)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),o=t.documentElement,r=o.getBoundingClientRect(),n=-r.top||t.body.scrollTop||i.scrollY||o.scrollTop||0,a=-r.left||t.body.scrollLeft||i.scrollX||o.scrollLeft||0;return{top:n,left:a}}change(t=mg){return t>0?this._change.pipe(Kn(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||s)};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var _s=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},ys=class extends _s{component;viewContainerRef;injector;projectableNodes;constructor(e,t,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.projectableNodes=o}},zn=class extends _s{templateRef;viewContainerRef;context;injector;constructor(e,t,i,o){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=o}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},al=class extends _s{element;constructor(e){super(),this.element=e instanceof Pe?e.nativeElement:e}},ll=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof ys)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof zn)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof al)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},Ln=class extends ll{outletElement;_appRef;_defaultInjector;constructor(e,t,i){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=i}attachComponentPortal(e){let t;if(e.viewContainerRef){let i=e.injector||e.viewContainerRef.injector,o=i.get(Nl,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:i,ngModuleRef:o,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let i=this._appRef,o=e.injector||this._defaultInjector||Ke.NULL,r=o.get(li,i.injector);t=zs(e.component,{elementInjector:o,environmentInjector:r,projectableNodes:e.projectableNodes||void 0}),i.attachView(t.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=t.indexOf(i);o!==-1&&t.remove(o)}),this._attachedPortal=e,i}attachDomPortal=e=>{let t=e.element;t.parentNode;let i=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(i,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(t,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var cl={},ku=(()=>{class s{_appId=C($l);getId(t){return this._appId!=="ng"&&(t+=this._appId),cl.hasOwnProperty(t)||(cl[t]=0),`${t}${cl[t]++}`}static \u0275fac=function(i){return new(i||s)};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var Du=Pu();function Lu(s){return new Fn(s.get(si),s.get(Te))}var Fn=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ae(-this._previousScrollPosition.left),e.style.top=ae(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,i=e.style,o=t.style,r=i.scrollBehavior||"",n=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Du&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Du&&(i.scrollBehavior=r,o.scrollBehavior=n)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};function Fu(s,e){return new $n(s.get(Mn),s.get(Ce),s.get(si),e)}var $n=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,i,o){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=o}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Rs(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var vs=class{enable(){}disable(){}attach(){}};function hl(s,e){return e.some(t=>{let i=s.bottom<t.top,o=s.top>t.bottom,r=s.right<t.left,n=s.left>t.right;return i||o||r||n})}function Iu(s,e){return e.some(t=>{let i=s.top<t.top,o=s.bottom>t.bottom,r=s.left<t.left,n=s.right>t.right;return i||o||r||n})}function $u(s,e){return new An(s.get(Mn),s.get(si),s.get(Ce),e)}var An=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,i,o){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=o}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();hl(t,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Au=(()=>{class s{_injector=C(Ke);constructor(){}noop=()=>new vs;close=t=>Fu(this._injector,t);block=()=>Lu(this._injector);reposition=t=>$u(this._injector,t);static \u0275fac=function(i){return new(i||s)};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Bn=class{positionStrategy;scrollStrategy=new vs;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let i of t)e[i]!==void 0&&(this[i]=e[i])}}};var Nn=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var Bu=(()=>{class s{_attachedOverlays=[];_document=C(Te);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||s)};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Nu=(()=>{class s extends Bu{_ngZone=C(Ce);_renderer=C(st).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let i=this._attachedOverlays;for(let o=i.length-1;o>-1;o--)if(i[o]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[o]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(o){return(t||(t=Jn(s)))(o||s)}})();static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Vu=(()=>{class s extends Bu{_platform=C(ti);_ngZone=C(Ce);_renderer=C(st).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let i=this._document.body,o={capture:!0},r=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[r.listen(i,"pointerdown",this._pointerDownListener,o),r.listen(i,"click",this._clickListener,o),r.listen(i,"auxclick",this._clickListener,o),r.listen(i,"contextmenu",this._clickListener,o)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=Bt(t)};_clickListener=t=>{let i=Bt(t),o=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let r=this._attachedOverlays.slice();for(let n=r.length-1;n>-1;n--){let a=r[n];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(Eu(a.overlayElement,i)||Eu(a.overlayElement,o))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(t)):l.next(t)}};static \u0275fac=(()=>{let t;return function(o){return(t||(t=Jn(s)))(o||s)}})();static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Eu(s,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===s)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var Hu=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275cmp=se({type:s,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,o){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return s})(),Wu=(()=>{class s{_platform=C(ti);_containerElement;_document=C(Te);_styleLoader=C(gs);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||sl()){let o=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let r=0;r<o.length;r++)o[r].remove()}let i=this._document.createElement("div");i.classList.add(t),sl()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(Hu)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),dl=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,i,o){this._renderer=t,this._ngZone=i,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",o)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Vn=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new k;_attachments=new k;_detachments=new k;_positionStrategy;_scrollStrategy;_locationChanges=tt.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new k;_outsidePointerEvents=new k;_afterNextRenderRef;constructor(e,t,i,o,r,n,a,l,c,h=!1,d,u){this._portalOutlet=e,this._host=t,this._pane=i,this._config=o,this._ngZone=r,this._keyboardDispatcher=n,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._injector=d,this._renderer=u,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=hi(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=I(I({},this._config),e),this._updateElementSize()}setDirection(e){this._config=be(I({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=ae(this._config.width),e.height=ae(this._config.height),e.minWidth=ae(this._config.minWidth),e.minHeight=ae(this._config.minHeight),e.maxWidth=ae(this._config.maxWidth),e.maxHeight=ae(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new dl(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,i){let o=ol(t||[]).filter(r=>!!r);o.length&&(i?e.classList.add(...o):e.classList.remove(...o))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=hi(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},Ou="cdk-overlay-connected-position-bounding-box",gg=/([A-Za-z%]+)$/;function Gu(s,e){return new Hn(e,s.get(si),s.get(Te),s.get(ti),s.get(Wu))}var Hn=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new k;_resizeSubscription=tt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,i,o,r){this._viewportRuler=t,this._document=i,this._platform=o,this._overlayContainer=r,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(Ou),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,i=this._viewportRect,o=this._containerRect,r=[],n;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,o,a),c=this._getOverlayPoint(l,t,a),h=this._getOverlayFit(c,t,i,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(h,c,i)){r.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!n||n.overlayFit.visibleArea<h.visibleArea)&&(n={overlayFit:h,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(r.length){let a=null,l=-1;for(let c of r){let h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>l&&(l=h,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(n.position,n.originPoint);return}this._applyPosition(n.position,n.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&oi(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ou),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let o;if(i.originX=="center")o=e.left+e.width/2;else{let n=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;o=i.originX=="start"?n:a}t.left<0&&(o-=t.left);let r;return i.originY=="center"?r=e.top+e.height/2:r=i.originY=="top"?e.top:e.bottom,t.top<0&&(r-=t.top),{x:o,y:r}}_getOverlayPoint(e,t,i){let o;i.overlayX=="center"?o=-t.width/2:i.overlayX==="start"?o=this._isRtl()?-t.width:0:o=this._isRtl()?0:-t.width;let r;return i.overlayY=="center"?r=-t.height/2:r=i.overlayY=="top"?0:-t.height,{x:e.x+o,y:e.y+r}}_getOverlayFit(e,t,i,o){let r=Mu(t),{x:n,y:a}=e,l=this._getOffset(o,"x"),c=this._getOffset(o,"y");l&&(n+=l),c&&(a+=c);let h=0-n,d=n+r.width-i.width,u=0-a,m=a+r.height-i.height,g=this._subtractOverflows(r.width,h,d),y=this._subtractOverflows(r.height,u,m),_=g*y;return{visibleArea:_,isCompletelyWithinViewport:r.width*r.height===_,fitsInViewportVertically:y===r.height,fitsInViewportHorizontally:g==r.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){let o=i.bottom-t.y,r=i.right-t.x,n=Tu(this._overlayRef.getConfig().minHeight),a=Tu(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||n!=null&&n<=o,c=e.fitsInViewportHorizontally||a!=null&&a<=r;return l&&c}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let o=Mu(t),r=this._viewportRect,n=Math.max(e.x+o.width-r.width,0),a=Math.max(e.y+o.height-r.height,0),l=Math.max(r.top-i.top-e.y,0),c=Math.max(r.left-i.left-e.x,0),h=0,d=0;return o.width<=r.width?h=c||-n:h=e.x<this._viewportMargin?r.left-i.left-e.x:0,o.height<=r.height?d=l||-a:d=e.y<this._viewportMargin?r.top-i.top-e.y:0,this._previousPushAmount={x:h,y:d},{x:e.x+h,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!_g(this._lastScrollVisibility,i)){let o=new Nn(e,i);this._positionChanges.next(o)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,o=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let r=0;r<t.length;r++)t[r].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(e,t){let i=this._viewportRect,o=this._isRtl(),r,n,a;if(t.overlayY==="top")n=e.y,r=i.height-n+this._viewportMargin;else if(t.overlayY==="bottom")a=i.height-e.y+this._viewportMargin*2,r=i.height-a+this._viewportMargin;else{let m=Math.min(i.bottom-e.y+i.top,e.y),g=this._lastBoundingBoxSize.height;r=m*2,n=e.y-m,r>g&&!this._isInitialRender&&!this._growAfterOpen&&(n=e.y-g/2)}let l=t.overlayX==="start"&&!o||t.overlayX==="end"&&o,c=t.overlayX==="end"&&!o||t.overlayX==="start"&&o,h,d,u;if(c)u=i.width-e.x+this._viewportMargin*2,h=e.x-this._viewportMargin;else if(l)d=e.x,h=i.right-e.x;else{let m=Math.min(i.right-e.x+i.left,e.x),g=this._lastBoundingBoxSize.width;h=m*2,d=e.x-m,h>g&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-g/2)}return{top:n,left:d,bottom:a,right:u,width:h,height:r}}_setBoundingBoxStyles(e,t){let i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{let r=this._overlayRef.getConfig().maxHeight,n=this._overlayRef.getConfig().maxWidth;o.height=ae(i.height),o.top=ae(i.top),o.bottom=ae(i.bottom),o.width=ae(i.width),o.left=ae(i.left),o.right=ae(i.right),t.overlayX==="center"?o.alignItems="center":o.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?o.justifyContent="center":o.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",r&&(o.maxHeight=ae(r)),n&&(o.maxWidth=ae(n))}this._lastBoundingBoxSize=i,oi(this._boundingBox.style,o)}_resetBoundingBoxStyles(){oi(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){oi(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let i={},o=this._hasExactPosition(),r=this._hasFlexibleDimensions,n=this._overlayRef.getConfig();if(o){let h=this._viewportRuler.getViewportScrollPosition();oi(i,this._getExactOverlayY(t,e,h)),oi(i,this._getExactOverlayX(t,e,h))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),n.maxHeight&&(o?i.maxHeight=ae(n.maxHeight):r&&(i.maxHeight="")),n.maxWidth&&(o?i.maxWidth=ae(n.maxWidth):r&&(i.maxWidth="")),oi(this._pane.style,i)}_getExactOverlayY(e,t,i){let o={top:"",bottom:""},r=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),e.overlayY==="bottom"){let n=this._document.documentElement.clientHeight;o.bottom=`${n-(r.y+this._overlayRect.height)}px`}else o.top=ae(r.y);return o}_getExactOverlayX(e,t,i){let o={left:"",right:""},r=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i));let n;if(this._isRtl()?n=e.overlayX==="end"?"left":"right":n=e.overlayX==="end"?"right":"left",n==="right"){let a=this._document.documentElement.clientWidth;o.right=`${a-(r.x+this._overlayRect.width)}px`}else o.left=ae(r.x);return o}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Iu(e,i),isOriginOutsideView:hl(e,i),isOverlayClipped:Iu(t,i),isOverlayOutsideView:hl(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,o)=>i-Math.max(o,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ol(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Pe)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}};function oi(s,e){for(let t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);return s}function Tu(s){if(typeof s!="number"&&s!=null){let[e,t]=s.split(gg);return!t||t==="px"?parseFloat(e):null}return s||null}function Mu(s){return{top:Math.floor(s.top),right:Math.floor(s.right),bottom:Math.floor(s.bottom),left:Math.floor(s.left),width:Math.floor(s.width),height:Math.floor(s.height)}}function _g(s,e){return s===e?!0:s.isOriginClipped===e.isOriginClipped&&s.isOriginOutsideView===e.isOriginOutsideView&&s.isOverlayClipped===e.isOverlayClipped&&s.isOverlayOutsideView===e.isOverlayOutsideView}var zu="cdk-global-overlay-wrapper";function ju(s){return new Wn}var Wn=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(zu),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:r,maxWidth:n,maxHeight:a}=i,l=(o==="100%"||o==="100vw")&&(!n||n==="100%"||n==="100vw"),c=(r==="100%"||r==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,d=this._xOffset,u=this._overlayRef.getConfig().direction==="rtl",m="",g="",y="";l?y="flex-start":h==="center"?(y="center",u?g=d:m=d):u?h==="left"||h==="end"?(y="flex-end",m=d):(h==="right"||h==="start")&&(y="flex-start",g=d):h==="left"||h==="start"?(y="flex-start",m=d):(h==="right"||h==="end")&&(y="flex-end",g=d),e.position=this._cssPosition,e.marginLeft=l?"0":m,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":g,t.justifyContent=y,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(zu),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},Xu=(()=>{class s{_injector=C(Ke);constructor(){}global(){return ju()}flexibleConnectedTo(t){return Gu(this._injector,t)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Yu(s,e){s.get(gs).load(Hu);let t=s.get(Wu),i=s.get(Te),o=s.get(ku),r=s.get(ks),n=s.get(Tn),a=i.createElement("div"),l=i.createElement("div");l.id=o.getId("cdk-overlay-"),l.classList.add("cdk-overlay-pane"),a.appendChild(l),t.getContainerElement().appendChild(a);let c=new Ln(l,r,s),h=new Bn(e),d=s.get(bt,null,{optional:!0})||s.get(st).createRenderer(null,null);return h.direction=h.direction||n.value,new Vn(c,a,l,h,s.get(Ce),s.get(Nu),i,s.get(jl),s.get(Vu),e?.disableAnimations??s.get(Al,null,{optional:!0})==="NoopAnimations",s.get(li),d)}var ul=(()=>{class s{scrollStrategies=C(Au);_positionBuilder=C(Xu);_injector=C(Ke);constructor(){}create(t){return Yu(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(i){return new(i||s)};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Uu(s){return s.buttons===0||s.detail===0}function qu(s){let e=s.touches&&s.touches[0]||s.changedTouches&&s.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}function hf(s){let e=s.cloneNode(!0),t=e.querySelectorAll("[id]"),i=s.nodeName.toLowerCase();e.removeAttribute("id");for(let o=0;o<t.length;o++)t[o].removeAttribute("id");return i==="canvas"?Qu(s,e):(i==="input"||i==="select"||i==="textarea")&&Ku(s,e),Zu("canvas",s,e,Qu),Zu("input, textarea, select",s,e,Ku),e}function Zu(s,e,t,i){let o=e.querySelectorAll(s);if(o.length){let r=t.querySelectorAll(s);for(let n=0;n<o.length;n++)i(o[n],r[n])}}var yg=0;function Ku(s,e){e.type!=="file"&&(e.value=s.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${yg++}`)}function Qu(s,e){let t=e.getContext("2d");if(t)try{t.drawImage(s,0,0)}catch{}}function wl(s){let e=s.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function ml(s,e,t){let{top:i,bottom:o,left:r,right:n}=s;return t>=i&&t<=o&&e>=r&&e<=n}function vg(s,e){let t=e.left<s.left,i=e.left+e.width>s.right,o=e.top<s.top,r=e.top+e.height>s.bottom;return t||i||o||r}function bs(s,e,t){s.top+=e,s.bottom=s.top+s.height,s.left+=t,s.right=s.left+s.width}function Ju(s,e,t,i){let{top:o,right:r,bottom:n,left:a,width:l,height:c}=s,h=l*e,d=c*e;return i>o-d&&i<n+d&&t>a-h&&t<r+h}var Gn=class{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:wl(t)})})}handleScroll(e){let t=Bt(e),i=this.positions.get(t);if(!i)return null;let o=i.scrollPosition,r,n;if(t===this._document){let c=this.getViewportScrollPosition();r=c.top,n=c.left}else r=t.scrollTop,n=t.scrollLeft;let a=o.top-r,l=o.left-n;return this.positions.forEach((c,h)=>{c.clientRect&&t!==h&&t.contains(h)&&bs(c.clientRect,a,l)}),o.top=r,o.left=n,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function df(s,e){let t=s.rootNodes;if(t.length===1&&t[0].nodeType===e.ELEMENT_NODE)return t[0];let i=e.createElement("div");return t.forEach(o=>i.appendChild(o)),i}function bl(s,e,t){for(let i in e)if(e.hasOwnProperty(i)){let o=e[i];o?s.setProperty(i,o,t?.has(i)?"important":""):s.removeProperty(i)}return s}function Fi(s,e){let t=e?"":"none";bl(s.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function ef(s,e,t){bl(s.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function jn(s,e){return e&&e!="none"?s+" "+e:s}function tf(s,e){s.style.width=`${e.width}px`,s.style.height=`${e.height}px`,s.style.transform=Cs(e.left,e.top)}function Cs(s,e){return`translate3d(${Math.round(s)}px, ${Math.round(e)}px, 0)`}function sf(s){let e=s.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(s)*e}function xg(s){let e=getComputedStyle(s),t=fl(e,"transition-property"),i=t.find(a=>a==="transform"||a==="all");if(!i)return 0;let o=t.indexOf(i),r=fl(e,"transition-duration"),n=fl(e,"transition-delay");return sf(r[o])+sf(n[o])}function fl(s,e){return s.getPropertyValue(e).split(",").map(i=>i.trim())}var wg=new Set(["position"]),gl=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(e,t,i,o,r,n,a,l,c,h){this._document=e,this._rootElement=t,this._direction=i,this._initialDomRect=o,this._previewTemplate=r,this._previewClass=n,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c,this._renderer=h}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),of(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return xg(this._preview)}addEventListener(e,t){return this._renderer.listen(this._preview,e,t)}_createPreview(){let e=this._previewTemplate,t=this._previewClass,i=e?e.template:null,o;if(i&&e){let r=e.matchSize?this._initialDomRect:null,n=e.viewContainer.createEmbeddedView(i,e.context);n.detectChanges(),o=df(n,this._document),this._previewEmbeddedView=n,e.matchSize?tf(o,r):o.style.transform=Cs(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=hf(this._rootElement),tf(o,this._initialDomRect),this._initialTransform&&(o.style.transform=this._initialTransform);return bl(o.style,{"pointer-events":"none",margin:of(o)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},wg),Fi(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("popover","manual"),o.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(r=>o.classList.add(r)):o.classList.add(t)),o}};function of(s){return"showPopover"in s}var bg={passive:!0},rf={passive:!1},Cg={passive:!1,capture:!0},Sg=800,nf=new Set(["position"]),_l=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=He(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new k;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=tt.EMPTY;_pointerUpSubscription=tt.EMPTY;_scrollSubscription=tt.EMPTY;_resizeSubscription=tt.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>Fi(t,e)))}_disabled=!1;beforeStarted=new k;started=new k;released=new k;ended=new k;entered=new k;exited=new k;dropped=new k;moved=this._moveEvents;data;constrainPosition;constructor(e,t,i,o,r,n,a){this._config=t,this._document=i,this._ngZone=o,this._viewportRuler=r,this._dragDropRegistry=n,this._renderer=a,this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new Gn(i),n.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>dt(i)),this._handles.forEach(i=>Fi(i,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let t=dt(e);if(t!==this._rootElement){this._removeRootElementListeners();let i=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(t,"mousedown",this._pointerDown,rf),i.listen(t,"touchstart",this._pointerDown,bg),i.listen(t,"dragstart",this._nativeDragStart,rf)]),this._initialTransform=void 0,this._rootElement=t}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?dt(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&vg(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let e=this._boundaryElement.getBoundingClientRect(),t=this._rootElement.getBoundingClientRect(),i=0,o=0;t.left<e.left?i=e.left-t.left:t.right>e.right&&(i=e.right-t.right),t.top<e.top?o=e.top-t.top:t.bottom>e.bottom&&(o=e.bottom-t.bottom);let r=this._activeTransform.x,n=this._activeTransform.y,a=r+i,l=n+o;this._rootElement.style.transform=Cs(a,l),this._activeTransform={x:a,y:l},this._passiveTransform={x:a,y:l}}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Fi(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Fi(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{let t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){let o=Math.abs(t.x-this._pickupPositionOnPage.x),r=Math.abs(t.y-this._pickupPositionOnPage.y);if(o+r>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),l=this._dropContainer;if(!a){this._endDragSequence(e);return}(!l||!l.isDragging()&&!l.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();let i=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,t);else{let o=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,r=this._activeTransform;r.x=i.x-o.x+this._passiveTransform.x,r.y=i.y-o.y+this._passiveTransform.y,this._applyRootElementTransform(r.x,r.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:e,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){xs(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),i=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(t,"selectstart",Rg,Cg)}),i){let o=this._rootElement,r=o.parentNode,n=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");r.insertBefore(a,o),this._initialTransform=o.style.transform||"",this._preview=new gl(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(r,t)),ef(o,!1,nf),this._document.body.appendChild(r.replaceChild(n,o)),this.started.next({source:this,event:e}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();let i=this.isDragging(),o=xs(t),r=!o&&t.button!==0,n=this._rootElement,a=Bt(t),l=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+Sg>Date.now(),c=o?qu(t):Uu(t);if(a&&a.draggable&&t.type==="mousedown"&&t.preventDefault(),i||r||l||c)return;if(this._handles.length){let u=n.style;this._rootElementTapHighlight=u.webkitTapHighlightColor||"",u.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(u=>this._updateOnScroll(u)),this._boundaryElement&&(this._boundaryRect=wl(this._boundaryElement));let h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);let d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){ef(this._rootElement,!0,nf),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,i=t.getItemIndex(this),o=this._getPointerPositionOnPage(e),r=this._getDragDistance(o),n=t._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:r,dropPoint:o,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:n,distance:r,dropPoint:o,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,n,r,o,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:o}){let r=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,e,t,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,o),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let o=a=>{(!a||this._preview&&Bt(a)===this._preview.element&&a.propertyName==="transform")&&(n(),i(),clearTimeout(r))},r=setTimeout(o,t*1.5),n=this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,t=e?e.template:null,i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=df(this._placeholderRef,this._document)):i=hf(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t,i){let o=t===this._rootElement?null:t,r=o?o.getBoundingClientRect():e,n=xs(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition(),l=n.pageX-r.left-a.left,c=n.pageY-r.top-a.top;return{x:r.left-e.left+l,y:r.top-e.top+c}}_getPointerPositionOnPage(e){let t=this._getViewportScrollPosition(),i=xs(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,o=i.pageX-t.left,r=i.pageY-t.top;if(this._ownerSVGElement){let n=this._ownerSVGElement.getScreenCTM();if(n){let a=this._ownerSVGElement.createSVGPoint();return a.x=o,a.y=r,a.matrixTransform(n.inverse())}}return{x:o,y:r}}_getConstrainedPointerPosition(e){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:o}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||t==="x"?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:r,y:n}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),h=a.top+n,d=a.bottom-(c-n),u=a.left+r,m=a.right-(l-r);i=af(i,u,m),o=af(o,h,d)}return{x:i,y:o}}_updatePointerDirectionDelta(e){let{x:t,y:i}=e,o=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,n=Math.abs(t-r.x),a=Math.abs(i-r.y);return n>this._config.pointerDirectionChangeThreshold&&(o.x=t>r.x?1:-1,r.x=t),a>this._config.pointerDirectionChangeThreshold&&(o.y=i>r.y?1:-1,r.y=i),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Fi(this._rootElement,e))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(e=>e()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,t){let i=1/this.scale,o=Cs(e*i,t*i),r=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=r.transform&&r.transform!="none"?r.transform:""),r.transform=jn(o,this._initialTransform)}_applyPreviewTransform(e,t){let i=this._previewTemplate?.template?void 0:this._initialTransform,o=Cs(e,t);this._preview.setTransform(jn(o,i))}_getDragDistance(e){let t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(e===0&&t===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(o.width===0&&o.height===0||i.width===0&&i.height===0)return;let r=o.left-i.left,n=i.right-o.right,a=o.top-i.top,l=i.bottom-o.bottom;o.width>i.width?(r>0&&(e+=r),n>0&&(e-=n)):e=0,o.height>i.height?(a>0&&(t+=a),l>0&&(t-=l)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){let t=this.dragStartDelay;return typeof t=="number"?t:xs(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){let t=this._parentPositions.handleScroll(e);if(t){let i=Bt(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&bs(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=En(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){let i=this._previewContainer||"global";if(i==="parent")return e;if(i==="global"){let o=this._document;return t||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return dt(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}};function af(s,e,t){return Math.max(e,Math.min(t,s))}function xs(s){return s.type[0]==="t"}function Rg(s){s.preventDefault()}function uf(s,e,t){let i=lf(e,s.length-1),o=lf(t,s.length-1);if(i===o)return;let r=s[i],n=o<i?-1:1;for(let a=i;a!==o;a+=n)s[a]=s[a+n];s[o]=r}function lf(s,e){return Math.max(0,Math.min(e,s))}var Xn=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,t,i,o){let r=this._itemPositions,n=this._getItemIndexFromPointerPosition(e,t,i,o);if(n===-1&&r.length>0)return null;let a=this.orientation==="horizontal",l=r.findIndex(_=>_.drag===e),c=r[n],h=r[l].clientRect,d=c.clientRect,u=l>n?1:-1,m=this._getItemOffsetPx(h,d,u),g=this._getSiblingOffsetPx(l,r,u),y=r.slice();return uf(r,l,n),r.forEach((_,x)=>{if(y[x]===_)return;let w=_.drag===e,S=w?m:g,b=w?e.getPlaceholderElement():_.drag.getRootElement();_.offset+=S;let z=Math.round(_.offset*(1/_.drag.scale));a?(b.style.transform=jn(`translate3d(${z}px, 0, 0)`,_.initialTransform),bs(_.clientRect,0,S)):(b.style.transform=jn(`translate3d(0, ${z}px, 0)`,_.initialTransform),bs(_.clientRect,S,0))}),this._previousSwap.overlaps=ml(d,t,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?o.x:o.y,{previousIndex:l,currentIndex:n}}enter(e,t,i,o){let r=o==null||o<0?this._getItemIndexFromPointerPosition(e,t,i):o,n=this._activeDraggables,a=n.indexOf(e),l=e.getPlaceholderElement(),c=n[r];if(c===e&&(c=n[r+1]),!c&&(r==null||r===-1||r<n.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(c=n[0]),a>-1&&n.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){let h=c.getRootElement();h.parentElement.insertBefore(l,h),n.splice(r,0,e)}else this._element.appendChild(l),n.push(e);l.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let t=e.getRootElement();if(t){let i=this._itemPositions.find(o=>o.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{bs(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:wl(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(e,t,i){let o=this.orientation==="horizontal",r=o?t.left-e.left:t.top-e.top;return i===-1&&(r+=o?t.width-e.width:t.height-e.height),r}_getSiblingOffsetPx(e,t,i){let o=this.orientation==="horizontal",r=t[e].clientRect,n=t[e+i*-1],a=r[o?"width":"height"]*i;if(n){let l=o?"left":"top",c=o?"right":"bottom";i===-1?a-=n.clientRect[l]-r[c]:a+=r[l]-n.clientRect[c]}return a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,o=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let n=i[i.length-1].clientRect;return o?e>=n.right:t>=n.bottom}else{let n=i[0].clientRect;return o?e<=n.left:t<=n.top}}_getItemIndexFromPointerPosition(e,t,i,o){let r=this.orientation==="horizontal",n=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===e)return!1;if(o){let c=r?o.x:o.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return r?t>=Math.floor(l.left)&&t<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return n===-1||!this._sortPredicate(n,e)?-1:n}},yl=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,t){this._document=e,this._dragDropRegistry=t}start(e){let t=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<t.length;i++){let o=t[i];this._relatedNodes.push([o,o.nextSibling])}this.withItems(e)}sort(e,t,i,o){let r=this._getItemIndexFromPointerPosition(e,t,i),n=this._previousSwap;if(r===-1||this._activeItems[r]===e)return null;let a=this._activeItems[r];if(n.drag===a&&n.overlaps&&n.deltaX===o.x&&n.deltaY===o.y)return null;let l=this.getItemIndex(e),c=e.getPlaceholderElement(),h=a.getRootElement();r>l?h.after(c):h.before(c),uf(this._activeItems,l,r);let d=this._getRootNode().elementFromPoint(t,i);return n.deltaX=o.x,n.deltaY=o.y,n.drag=a,n.overlaps=h===d||h.contains(d),{previousIndex:l,currentIndex:r}}enter(e,t,i,o){let r=o==null||o<0?this._getItemIndexFromPointerPosition(e,t,i):o;r===-1&&(r=this._getClosestItemIndexToPointer(e,t,i));let n=this._activeItems[r],a=this._activeItems.indexOf(e);a>-1&&this._activeItems.splice(a,1),n&&!this._dragDropRegistry.isDragging(n)?(this._activeItems.splice(r,0,e),n.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,t=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[o,r]=this._relatedNodes[i];o.parentNode===e&&o.nextSibling!==r&&(r===null?e.appendChild(o):r.parentNode===e&&e.insertBefore(o,r))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,i){let o=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(i)),r=o?this._activeItems.findIndex(n=>{let a=n.getRootElement();return o===a||a.contains(o)}):-1;return r===-1||!this._sortPredicate(r,e)?-1:r}_getRootNode(){return this._rootNode||(this._rootNode=En(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,i){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let o=1/0,r=-1;for(let n=0;n<this._activeItems.length;n++){let a=this._activeItems[n];if(a!==e){let{x:l,y:c}=a.getRootElement().getBoundingClientRect(),h=Math.hypot(t-l,i-c);h<o&&(o=h,r=n)}}return r}},cf=.05,ff=.05,qe=function(s){return s[s.NONE=0]="NONE",s[s.UP=1]="UP",s[s.DOWN=2]="DOWN",s}(qe||{}),Oe=function(s){return s[s.NONE=0]="NONE",s[s.LEFT=1]="LEFT",s[s.RIGHT=2]="RIGHT",s}(Oe||{}),vl=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new k;entered=new k;exited=new k;dropped=new k;sorted=new k;receivingStarted=new k;receivingStopped=new k;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=tt.EMPTY;_verticalScrollDirection=qe.NONE;_horizontalScrollDirection=Oe.NONE;_scrollNode;_stopScrollTimers=new k;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,t,i,o,r){this._dragDropRegistry=t,this._ngZone=o,this._viewportRuler=r;let n=this.element=dt(e);this._document=i,this.withOrientation("vertical").withElementContainer(n),t.registerDropContainer(this),this._parentPositions=new Gn(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,o){this._draggingStarted(),o==null&&this.sortingDisabled&&(o=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,o,r,n,a,l={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:o,isPointerOverContainer:r,distance:n,dropPoint:a,event:l})}withItems(e){let t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(o=>o.isDragging()).every(o=>e.indexOf(o)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof Xn&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new yl(this._document,this._dragDropRegistry);else{let t=new Xn(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,i)=>this.sortPredicate(t,i,this)),this}withScrollableParents(e){let t=this._container;return this._scrollableElements=e.indexOf(t)===-1?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let t=dt(this.element),i=this._scrollableElements.indexOf(this._container),o=this._scrollableElements.indexOf(e);return i>-1&&this._scrollableElements.splice(i,1),o>-1&&this._scrollableElements.splice(o,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,o){if(this.sortingDisabled||!this._domRect||!Ju(this._domRect,cf,t,i))return;let r=this._sortStrategy.sort(e,t,i,o);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,o=qe.NONE,r=Oe.NONE;if(this._parentPositions.positions.forEach((n,a)=>{a===this._document||!n.clientRect||i||Ju(n.clientRect,cf,e,t)&&([o,r]=Pg(a,n.clientRect,this._direction,e,t),(o||r)&&(i=a))}),!o&&!r){let{width:n,height:a}=this._viewportRuler.getViewportSize(),l={width:n,height:a,top:0,right:n,bottom:a,left:0};o=pf(l,t),r=mf(l,e),i=window}i&&(o!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=r,this._scrollNode=i,(o||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),El(0,qn).pipe(it(this._stopScrollTimers)).subscribe(()=>{let e=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===qe.UP?e.scrollBy(0,-t):this._verticalScrollDirection===qe.DOWN&&e.scrollBy(0,t),this._horizontalScrollDirection===Oe.LEFT?e.scrollBy(-t,0):this._horizontalScrollDirection===Oe.RIGHT&&e.scrollBy(t,0)})};_isOverContainer(e,t){return this._domRect!=null&&ml(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(o=>o._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._domRect||!ml(this._domRect,t,i)||!this.enterPredicate(e,this))return!1;let o=this._getShadowRoot().elementFromPoint(t,i);return o?o===this._container||this._container.contains(o):!1}_startReceiving(e,t){let i=this._activeSiblings;!i.has(e)&&t.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=En(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}};function pf(s,e){let{top:t,bottom:i,height:o}=s,r=o*ff;return e>=t-r&&e<=t+r?qe.UP:e>=i-r&&e<=i+r?qe.DOWN:qe.NONE}function mf(s,e){let{left:t,right:i,width:o}=s,r=o*ff;return e>=t-r&&e<=t+r?Oe.LEFT:e>=i-r&&e<=i+r?Oe.RIGHT:Oe.NONE}function Pg(s,e,t,i,o){let r=pf(e,o),n=mf(e,i),a=qe.NONE,l=Oe.NONE;if(r){let c=s.scrollTop;r===qe.UP?c>0&&(a=qe.UP):s.scrollHeight-c>s.clientHeight&&(a=qe.DOWN)}if(n){let c=s.scrollLeft;t==="rtl"?n===Oe.RIGHT?c<0&&(l=Oe.RIGHT):s.scrollWidth+c>s.clientWidth&&(l=Oe.LEFT):n===Oe.LEFT?c>0&&(l=Oe.LEFT):s.scrollWidth-c>s.clientWidth&&(l=Oe.RIGHT)}return[a,l]}var ws={capture:!0},pl={passive:!1,capture:!0},kg=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275cmp=se({type:s,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,o){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return s})(),Cl=(()=>{class s{_ngZone=C(Ce);_document=C(Te);_styleLoader=C(gs);_renderer=C(st).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new k;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=He([]);_globalListeners;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new k;pointerUp=new k;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,pl)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(t,i){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(kg),this._activeDragInstances.update(o=>[...o,t]),this._activeDragInstances().length===1)){let o=i.type.startsWith("touch"),r=a=>this.pointerUp.next(a),n=[["scroll",a=>this._scroll.next(a),ws],["selectstart",this._preventDefaultWhileDragging,pl]];o?n.push(["touchend",r,ws],["touchcancel",r,ws]):n.push(["mouseup",r,ws]),o||n.push(["mousemove",a=>this.pointerMove.next(a),pl]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=n.map(([a,l,c])=>this._renderer.listen(this._document,a,l,c))})}}stopDragging(t){this._activeDragInstances.update(i=>{let o=i.indexOf(t);return o>-1?(i.splice(o,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let i=[this._scroll];return t&&t!==this._document&&i.push(new $i(o=>this._ngZone.runOutsideAngular(()=>{let r=this._renderer.listen(t,"scroll",n=>{this._activeDragInstances().length&&o.next(n)},ws);return()=>{r()}}))),Zn(...i)}registerDirectiveNode(t,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,i)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners?.forEach(t=>t()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||s)};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Dg={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Ig=(()=>{class s{_document=C(Te);_ngZone=C(Ce);_viewportRuler=C(si);_dragDropRegistry=C(Cl);_renderer=C(st).createRenderer(null,null);constructor(){}createDrag(t,i=Dg){return new _l(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(t){return new vl(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),xl=new Ze("CDK_DRAG_PARENT");var gf=new Ze("CdkDragHandle"),_f=(()=>{class s{element=C(Pe);_parentDrag=C(xl,{optional:!0,skipSelf:!0});_dragDropRegistry=C(Cl);_stateChanges=new k;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let t=this.element.nativeElement.parentElement;for(;t;){let i=this._dragDropRegistry.getDragDirectiveForNode(t);if(i){this._parentDrag=i,i._addHandle(this);break}t=t.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(i){return new(i||s)};static \u0275dir=Ni({type:s,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",Hi]},features:[Ts([{provide:gf,useExisting:s}])]})}return s})(),Eg=new Ze("CDK_DRAG_CONFIG"),Og=new Ze("CdkDropList"),yf=(()=>{class s{element=C(Pe);dropContainer=C(Og,{optional:!0,skipSelf:!0});_ngZone=C(Ce);_viewContainerRef=C(Bi);_dir=C(Tn,{optional:!0});_changeDetectorRef=C(Vi);_selfHandle=C(gf,{optional:!0,self:!0});_parentDrag=C(xl,{optional:!0,skipSelf:!0});_dragDropRegistry=C(Cl);_destroyed=new k;_handles=new Ss([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new G;released=new G;ended=new G;entered=new G;exited=new G;dropped=new G;moved=new $i(t=>{let i=this._dragRef.moved.pipe(kl(o=>({source:this,pointerPosition:o.pointerPosition,event:o.event,delta:o.delta,distance:o.distance}))).subscribe(t);return()=>{i.unsubscribe()}});_injector=C(Ke);constructor(){let t=this.dropContainer,i=C(Eg,{optional:!0}),o=C(Ig);this._dragRef=o.createDrag(this.element,{dragStartThreshold:i&&i.dragStartThreshold!=null?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&i.pointerDirectionChangeThreshold!=null?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this),t._dropListRef.beforeStarted.pipe(it(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){hi(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){let i=t.rootElementSelector,o=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){let i=this._handles.getValue();i.push(t),this._handles.next(i)}_removeHandle(t){let i=this._handles.getValue(),o=i.indexOf(t);o>-1&&(i.splice(o,1),this._handles.next(i))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let t=this.element.nativeElement,i=t;this.rootElementSelector&&(i=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):dt(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let i=this._dir,o=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,n=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay=typeof o=="object"&&o?o:rl(o),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(n).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(Ml(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){let o=this._dragDropRegistry.getDragDirectiveForNode(i);if(o){t.withParent(o._dragRef);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){let{lockAxis:i,dragStartDelay:o,constrainPosition:r,previewClass:n,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:h}=t;this.disabled=l??!1,this.dragStartDelay=o||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),n&&(this.previewClass=n),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.pipe(zl(t=>{let i=t.map(o=>o.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Ai(t=>Zn(...t.map(i=>i._stateChanges.pipe(Qn(i))))),it(this._destroyed)).subscribe(t=>{let i=this._dragRef,o=t.element.nativeElement;t.disabled?i.disableHandle(o):i.enableHandle(o)})}static \u0275fac=function(i){return new(i||s)};static \u0275dir=Ni({type:s,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,o){i&2&&ia("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Hi],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Gl]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Ts([{provide:xl,useExisting:s}]),Nt]})}return s})();var vf=(()=>{class s{config={title:"",content:""};close=new G;onClose(){this.close.emit()}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=se({type:s,selectors:[["modal"]],inputs:{config:"config"},outputs:{close:"close"},decls:8,vars:2,consts:[["cdkDrag","",1,"dialog"],["cdkDragHandle","",1,"dialog__header"],["src","assets/icons/move.svg","alt","Move","width","24","height","24"],[1,"dialog__title"],[1,"dialog__close",3,"click"],["src","assets/icons/close.svg","alt","Close","width","24","height","24"],[1,"dialog__content",3,"innerHTML"]],template:function(i,o){i&1&&(T(0,"div",0)(1,"div",1),ce(2,"img",2),T(3,"div",3),Fe(4),M(),T(5,"div",4),_e("click",function(){return o.onClose()}),ce(6,"img",5),M()(),ce(7,"div",6),M()),i&2&&(F(4),di(" ",o.config.title," "),F(3),de("innerHTML",o.config.content,Bl))},dependencies:[yf,_f],styles:[".dialog[_ngcontent-%COMP%]{margin-inline:15%;border:1px solid #E0E0E0;display:flex;flex-direction:column;justify-content:center;align-items:center;background:#fff;border-radius:4px;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.dialog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.dialog__header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:move;border-bottom:1px solid #E0E0E0;width:100%;background-color:#f8f9fa;gap:8px;box-sizing:border-box;padding:12px;position:relative}.dialog__content[_ngcontent-%COMP%]{cursor:default;pointer-events:none;padding:12px 16px}.dialog__close[_ngcontent-%COMP%]{display:flex;align-items:center;position:absolute;right:8px;cursor:pointer}"]})}return s})();var Tg=new Ze("MODAL_VIEW_CONTAINER_REF"),xf=(()=>{class s{_globalVcr;constructor(t){this._globalVcr=t}_overlay=C(ul);_overlayRef;ngOnDestroy(){this.close()}close(){this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._overlayRef.dispose())}open(t){this._overlayRef=this._overlay.create({positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),hasBackdrop:!0,backdropClass:"modal-backdrop"});let i=new ys(vf,this._globalVcr),o=this._overlayRef.attach(i);return o.instance.config=t,o.instance.close.subscribe(()=>this.close()),this._overlayRef.backdropClick().subscribe(()=>this.close()),this._overlayRef}static \u0275fac=function(i){return new(i||s)(ai(Tg,8))};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var wf={production:!0,apiUrl:"https://rushhour-be.vercel.app/"};var bf=(()=>{class s{http;apiUrl=wf.apiUrl;constructor(t){this.http=t}getNewGame(t){return this.http.post(`${this.apiUrl}/api/game`,t)}static \u0275fac=function(i){return new(i||s)(ai(Ql))};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var Cf=(()=>{class s{toastrService;constructor(t){this.toastrService=t}success(t="",i=""){this.toastrService.success(t,i)}error(t="",i=""){this.toastrService.error(t,i)}static \u0275fac=function(i){return new(i||s)(ai(Jl))};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var Sf=(s,e,t)=>({control:s,isFirst:e,isLast:t}),Fg=(s,e,t)=>({"container__control--first":s,"container__control--last":e,"container__control--disabled":t}),$g=(s,e)=>e.name;function Ag(s,e){if(s&1&&ta(0,7),s&2){let t=e.$implicit,i=e.$index,o=e.$count,r=E(),n=Os(17),a=Os(19);de("ngTemplateOutlet",t.type===r.gameControlType.Button?n:a)("ngTemplateOutletContext",Ms(2,Sf,t,i===0,i===o-1))}}function Bg(s,e){if(s&1){let t=Le();T(0,"grid",11),_e("onGridError",function(){Y(t);let o=E();return U(o.reloadGrid())})("onGridComplete",function(){Y(t);let o=E();return U(o.onGridComplete())})("onUserError",function(o){Y(t);let r=E();return U(r.onGridUserError(o))}),M()}if(s&2){let t=E();de("config",t.vehiclesConfig())("exitRow",t.exitRow)}}function Ng(s,e){s&1&&ce(0,"loader")}function Vg(s,e){if(s&1&&Fe(0),s&2){let t=E().control,i=E();Wl(" ",t.name,": ",i.MAP_DIFFICULTY_TO_DESCRIPTION[i.difficulty]," ")}}function Hg(s,e){if(s&1&&Fe(0),s&2){let t=E().control;di(" ",t.name," ")}}function Wg(s,e){if(s&1){let t=Le();T(0,"button",12),_e("click",function(){let o=Y(t).control,r=E();return U(r.onControlClick(o))}),me(1,Vg,1,2)(2,Hg,1,1),M()}if(s&2){let t=e.control,i=e.isFirst,o=e.isLast,r=E(),n=r.isLoadingNewGame()&&(t.id===r.gameControlAction.NewGame||t.id===r.gameControlAction.Difficulty);de("disabled",n)("ngClass",Ms(3,Fg,i,o,n)),F(),ge(t.id===r.gameControlAction.Difficulty?1:2)}}function Gg(s,e){if(s&1){let t=Le();T(0,"button",16),_e("click",function(){let o=Y(t).$implicit,r=E(2).control,n=E();return U(n.onControlOptionClick(r,o))}),Fe(1),M()}if(s&2){let t=e.$implicit;F(),Hl(t.name)}}function jg(s,e){if(s&1&&(T(0,"div",14),Ct(1,Gg,2,1,"button",15,Ds),M()),s&2){let t=E().control;F(),St(t.options)}}function Xg(s,e){if(s&1&&(T(0,"div",13),ta(1,7),me(2,jg,3,0,"div",14),M()),s&2){let t=e.control,i=e.isFirst,o=e.isLast,r=E(),n=Os(17);F(),de("ngTemplateOutlet",n)("ngTemplateOutletContext",Ms(3,Sf,t,i,o)),F(),ge(r.allowDropdown?2:-1)}}function Yg(s,e){s&1&&ce(0,"particles")}var eF=(()=>{class s{modalService;apiService;storageService;toastService;gameControlType=Rt;gameControlAction=ot;controls=pa();MAP_DIFFICULTY_TO_DESCRIPTION={[rt.Easy]:"Easy",[rt.Medium]:"Medium",[rt.Hard]:"Hard"};difficulty=rt.Easy;allowDropdown=!0;exitRow=Fs;vehiclesConfig=He([]);isLoadingNewGame=He(!1);gameWon=He(!1);constructor(t,i,o,r){this.modalService=t,this.apiService=i,this.storageService=o,this.toastService=r,this.controls=pa(),this.setGameParamsFromCache()}setGameParamsFromCache(){let t=this.storageService.getItem(Zi.GameCache);t&&(this.setGameParams(t),this.isLoadingNewGame.set(!1))}openRulesModal(){let t=fc();this.modalService.open(t)}setGameParams(t){let i=t.vehicles.map(o=>be(I({},o),{dragging:yc(o),color:this.getCarColor(o)}));this.exitRow=t.exitRow,this.vehiclesConfig.set(i)}getCarColor(t){return t.type===qi.GreenCar?"green":"red"}createNewGame(){this.isLoadingNewGame.set(!0),this.apiService.getNewGame({size:uc,difficulty:this.difficulty}).pipe(Ol(t=>{throw this.isLoadingNewGame.set(!1),this.gameWon.set(!1),t})).subscribe(t=>{this.setGameParams(t),this.isLoadingNewGame.set(!1),this.gameWon.set(!1),this.storageService.setItem(Zi.GameCache,t)})}reloadGrid(){this.isLoadingNewGame()||this.createNewGame()}onControlClick(t){if(t.type===Rt.Button)switch(t.id){case ot.NewGame:this.createNewGame();break;case ot.Rules:this.openRulesModal();break}}onMouseOver(){this.allowDropdown=!0}onControlOptionClick(t,i){if(this.allowDropdown=!1,t.id===ot.Difficulty){if(this.difficulty===i.id)return;this.difficulty=i.id,this.createNewGame()}}onGridComplete(){this.gameWon.set(!0),this.toastService.success("You won!"),this.storageService.removeItem(Zi.GameCache),this.createNewGame()}onGridUserError(t){let i="";switch(t){case at.NoOverlapAllowed:i="No overlap allowed";break;case at.CanOnlyMoveHorizontaly:i="Only moves left and right";break;case at.CanOnlyMoveVertically:i="Only moves up and down";break}i&&this.toastService.error(i)}static \u0275fac=function(i){return new(i||s)(ie(xf),ie(bf),ie(gc),ie(Cf))};static \u0275cmp=se({type:s,selectors:[["home"]],decls:21,vars:2,consts:[["controlButton",""],["controlDropdownButton",""],[1,"container"],[1,"container__header"],[1,"container__title"],[1,"container__content"],[1,"container__controls"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"container__grid"],[3,"config","exitRow"],[1,"container__footer"],[3,"onGridError","onGridComplete","onUserError","config","exitRow"],[1,"container__control",3,"click","disabled","ngClass"],[1,"container__dropdown-wrapper"],[1,"container__menu"],[1,"container__menu-item"],[1,"container__menu-item",3,"click"]],template:function(i,o){i&1&&(T(0,"div",2)(1,"div",3)(2,"span",4),Fe(3,"Rush Hour"),M()(),T(4,"div",5)(5,"div",6),Ct(6,Ag,1,6,"ng-container",7,$g),M(),T(8,"div",8),me(9,Bg,1,2,"grid",9)(10,Ng,1,0,"loader"),M()(),T(11,"div",10)(12,"span"),Fe(13," Game generation is powered by Gemini. It might take a few seconds to load - thanks for waiting! "),M(),T(14,"span"),Fe(15,"\xA9 2025 Eden Oren"),M()()(),Vl(16,Wg,3,7,"ng-template",null,0,sa)(18,Xg,3,7,"ng-template",null,1,sa),me(20,Yg,1,0,"particles")),i&2&&(F(6),St(o.controls),F(3),ge(o.isLoadingNewGame()?10:9),F(11),ge(o.gameWon()?20:-1))},dependencies:[ql,Xl,Ul,mc,_c,Ru],styles:[".container[_ngcontent-%COMP%]{border:1px solid #E0E0E0;border-radius:8px;box-shadow:0 4px 8px #0000001a}.container__controls[_ngcontent-%COMP%], .container__header[_ngcontent-%COMP%]{border-top-left-radius:8px;border-top-right-radius:8px}.container__footer[_ngcontent-%COMP%], .container__menu[_ngcontent-%COMP%]{border-bottom-left-radius:8px;border-bottom-right-radius:8px}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:100%;margin:4vh 26vw}.container__header[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px}.container__title[_ngcontent-%COMP%]{font-size:36px;-webkit-user-select:none;user-select:none;display:flex;justify-content:center}.container__content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;border-bottom:1px solid #E0E0E0;border-top:1px solid #E0E0E0;padding:32px}.container__controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;background-color:#e3ecf5;border:1px solid #E0E0E0;border-bottom:none}.container__control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:8px;flex:1;background-color:unset;border:none;cursor:pointer;border-inline-start:1px solid #E0E0E0;font:inherit;font-weight:700}.container__control[_ngcontent-%COMP%]:hover{background-color:#b0d5fb}.container__control--first[_ngcontent-%COMP%]{border-inline-start:none}.container__control--first[_ngcontent-%COMP%]:hover{border-start-start-radius:8px}.container__control--last[_ngcontent-%COMP%]:hover{border-start-end-radius:8px}.container__control--disabled[_ngcontent-%COMP%]{cursor:default}.container__control--disabled[_ngcontent-%COMP%]:hover{background-color:unset}.container__menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;z-index:2;background-color:#fff;border:1px solid #E0E0E0;overflow:hidden;box-shadow:0 4px 8px #0006;box-sizing:border-box;display:none}.container__menu[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{display:block}.container__menu-item[_ngcontent-%COMP%]{display:block;width:100%;padding:8px 16px;border:none;background:none;text-align:center;cursor:pointer;white-space:nowrap}.container__menu-item[_ngcontent-%COMP%]:hover{background-color:#b0d5fb}.container__dropdown-wrapper[_ngcontent-%COMP%]{flex:1;position:relative;display:flex}.container__dropdown-wrapper[_ngcontent-%COMP%]:hover   .container__menu[_ngcontent-%COMP%]{display:block}.container__footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:16px;font-family:sans-serif;font-size:12px;background-color:#f8f9fa}.container__grid[_ngcontent-%COMP%]{flex:1;border:1px solid #E0E0E0;border-top:none}"],changeDetection:0})}return s})();export{eF as HomeComponent};
